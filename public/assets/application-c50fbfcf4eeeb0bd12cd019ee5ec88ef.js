function Distortion(){function t(t){for(var e,n="number"==typeof t?t:50,r=44100,i=new Float32Array(r),o=Math.PI/180,u=0;r>u;++u)e=2*u/r-1,i[u]=(3+n)*e*20*o/(Math.PI+n*Math.abs(e));return i}var e=this;Effect.apply(e);var n=e.getContext().createWaveShaper();return n.curve=t(200),n}function Effect(){var t=this,e=window.AudioEnvironment.context;t.getContext=function(){return e}}function Filter(t){var e=this;Effect.apply(e,[name]),e.filter=e.getContext().createBiquadFilter(),e.filter.frequency.value=t.frequency,e.filter.Q.value=t.Q,e.filter.type=t.type,e.setFrequency=function(t){e.filter.frequency.value=t},e.setQ=function(t){e.filter.Q.value=t},e.setType=function(t){e.filter.type=t},e.connect=function(t){e.filter.connect(t)}}function Panner(t){function e(t){return t>-1&&1>t}var n=window.AudioEnvironment.context,r=n.createStereoPanner();t.connect(r),r.connect(connext.destination),t.pan=function(t){e(t)&&(r.pan.value=t)},t.currentPan=function(){return r.pan.value}}function Reverb(){var t=this;Effect.apply(t);var e=t.getContext().createConvolver();return e.buffer=window.AudioEnvironment.sampleBuffers.verb_impulse.buffer,e}function DrumMachine(t){function e(){r.hat=new Sampler("hat",null,window.AudioEnvironment.sampleBuffers.hat),r.snare=new Sampler("snare",null,window.AudioEnvironment.sampleBuffers.snare),r.kick=new Sampler("kick",null,window.AudioEnvironment.sampleBuffers.kick)}var n=this;Instrument.apply(n,[t]);var r={};e(),n.hithat=r.hat,n.snare=r.snare,n.kick=r.kick,n.drums=function(){var t=[];for(var e in r)console.log(e),t.push(r[e]);return t},n.addDrum=function(){console.log("not yet implemented")}}function Instrument(){var t=this,e=window.AudioEnvironment.context,n=arguments[0];t.getContext=function(){return e},t.name=function(){return n}}function LoopPlayer(t,e){function n(t){console.log("updating playbackrate"+t),u.sampleBuffer.playbackRate.value=t,console.log(u.sampleBuffer.playbackRate.value)}function r(){return u.sampleBuffer.buffer.duration}function i(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(){window.AudioEnvironment.context.decodeAudioData(e.response,function(t){l=t,u.sampleBuffer=u.getContext().createBufferSource(),u.sampleBuffer.buffer=l,s=!0,console.log("loaded")})},e.send()}function o(){u.sampleBuffer=u.getContext().createBufferSource(),u.sampleBuffer.buffer=l,u.sampleBuffer.connect(u.getContext().destination)}var u=this;Instrument.apply(u);var t=t,s=!1,a=!1,c=window.FileUtils.fileLocation(e),l=null;u.sampleBuffer=null,i(c),u.name=function(){return t},u.sampleLength=function(){return sampleBuffer.duration()},u.syncWithTempo=function(){for(;!s;)console.log("waiting");var t=window.AudioEnvironment.Clock,e=r()/t.beat();console.log("NOB"+e),console.log(16/e),n(16/e),e=r()/t.beat(),console.log(r()*u.sampleBuffer.playbackRate.value)},u.play=function(){s&&(a&&u.stop(),a=!a,o(),u.sampleBuffer.start(),console.log("playing"))},u.stop=function(){a&&(u.sampleBuffer.stop(),a=!a)}}function Osc(t,e,n){function r(){i(),o()}function i(){s=t.createOscillator(),s.frequency.value=u.frequency,s.type=u.waveform}function o(){a=t.createGain(),f=t.createStereoPanner(),f.pan.value=h,a.value=c,s.connect(a),l.connect(a.gain),a.connect(f),f.connect(t.destination)}var u=this;u.waveform=e,u.frequency=MIDIUtils.noteNumberToFrequency(n);var s=null,a=null,c=.05,l=new Envelope(c,t),f=null,h=0;u.init=function(t){l.setASR(t),r()},u.playNote=function(){l.triggerOn(),s.start()},u.stopNote=function(){s.stop(l.triggerOff())},u.play=function(t){l.triggerOn(),s.start(t)},u.stop=function(t){s.stop(t)},u.connect=function(t){a.connect(t),t.connect(f)},u.adjustPanning=function(t){h=t},u.setASR=function(t){envAsr=t}}function Sampler(t,e,n){function r(t){s.sampleBuffer.playbackRate.value=t}function i(){return s.sampleBuffer.buffer.duration}function o(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(){window.AudioEnvironment.context.decodeAudioData(e.response,function(t){f=t,s.sampleBuffer=s.getContext().createBufferSource(),s.sampleBuffer.buffer=f,a=!0})},e.send()}function u(){a=!0,s.sampleBuffer=s.getContext().createBufferSource(),s.sampleBuffer.buffer=f,s.sampleBuffer.connect(s.getContext().destination)}var s=this;Instrument.apply(s);var t=t,a=!1,c=!1,l=window.FileUtils.fileLocation(filename),f=n.buffer||null;s.sampleBuffer=null,f?u():o(l),s.sampleLength=function(){return sampleBuffer.duration()},s.syncWithTempo=function(){var t=window.AudioEnvironment.Clock,e=i()/t.beat();r(16/e),e=i()/t.beat()},s.play=function(t){a&&(c=!c,u(),s.sampleBuffer.start(t),console.log("playing"))},s.stop=function(){c&&s.sampleBuffer.stop()},s.name=function(){return t}}function Voice(t,e){function n(){s=new Osc(o,e,t),r()}function r(){s.connect(o.destination)}var i=this,o=window.AudioEnvironment.context,t=t,e=e,u=.3,s=new Osc(o,e,t),a=(o.createGain(),new Envelope(u,o));i.trigger=function(t,e){console.log("playing a thing"),n(),s.play(t,e)},i.setADSR=function(t){a.set(t)}}function MidiController(t){function e(t){u&&(t.data[2]>65?o.noteOn(t.data[1]):o.noteOff(t.data[1]))}function n(t){t.inputs.forEach(function(t){t.onmidimessage=e})}var r=this,i=t;n(i,null);var o,u=!1;r.connectInstrument=function(t){o=t,u=!0}}function Arranger(t){var e=this,n=t,r=[];e.arrange=function(){return n.forEach(function(t){console.log(t.generator.drums),t.generator instanceof DrumMachine?t.generator.drums().forEach(function(e){r.push(new Part(e,t.rhythm[e.name()]))}):r.push(t)}),r}}function Part(t,e){var n=this;n.generator=t instanceof Array?t[0]:t,n.rhythm=e instanceof Array?e:(new RhythmUtil).getRhythmConstant(e)}function Performance(t,e){var n=this;window.AudioEnvironment.Performance=n;var r=e[0],i=window.AudioEnvironment.MidiController;i.connectInstrument(t[0]),r instanceof Sequencer&&(r.init(),r.run()),n.stop=function(){r.stop(),window.AudioEnvironment.Performance=null}}function Test(){var t,e=this,n=new RhythmUtil,r=null;e.startTest=function(){var e=[],i=new Synth("s","square");i.setEnvelopeRelease(5);var o=new DrumMachine("d");e.push(new Part(o,n.ROCK_BEAT_ONE)),t=new Sequencer(e),r=new Performance(i)},e.stopTest=function(){t.stop(),r=null}}function RhythmUtil(){var t=this;t.ONEBAR=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],t.TWOBAR=t.ONEBAR.concat(t.ONEBAR),t.FOURBAR=t.TWOBAR.concat(t.TWOBAR),t.CR=[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],t.CR_OFF=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0],t.QU=[1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],t.SQ=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],t.TWO_FOUR=[0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0],t.ONE_THREE=[1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],t.FOUR_FOUR=[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],t.CLAVE=[0,0,1,0,1,0,0,0,1,0,0,1,0,0,1,0,0,0,1,0,1,0,0,0,1,0,0,1,0,0,1,0,0,0,1,0,1,0,0,0,1,0,0,1,0,0,1,0,0,0,1,0,1,0,0,0,1,0,0,1,0,0,1,0],t.ONE_BAR_LOOP=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t.TWO_BAR_LOOP=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t.FOUR_BAR_LOOP=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t.ROCK_BEAT_ONE={hat:[1,0,1,1,1,0,1,0,1,0,1,1,1,0,1,0,1,0,1,1,1,0,1,0,1,0,1,1,1,0,1,0,1,0,1,1,1,0,1,0,1,0,1,1,1,0,1,0,1,0,1,1,1,0,1,0,1,0,1,1,1,0,1,0],snare:[0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0],kick:[1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1]},t.HOUSE_BEAT={hat:[0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,1],snare:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0],kick:[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0]},t.getRhythmConstant=function(e){switch(e){case"ONEBAR":return t.ONEBAR;case"TWOBAR":return t.TWOBAR;case"FOURBAR":return t.FOURBAR;case"CR":return t.CR;case"CR_OFF":return t.CR_OFF;case"QU":return t.QU;case"SQ":return t.SQ;case"TWO_FOUR":return t.TWO_FOUR;case"ONE_THREE":return t.ONE_THREE;case"FOUR_FOUR":return t.FOUR_FOUR;case"CLAVE":return t.CLAVE;case"ONE_BAR_LOOP":return t.ONE_BAR_LOOP;case"TWO_BAR_LOOP":return t.TWO_BAR_LOOP;case"FOUR_BAR_LOOP":return t.FOUR_BAR_LOOP;case"ROCK_BEAT_ONE":return t.ROCK_BEAT_ONE;case"HOUSE_BEAT":return t.HOUSE_BEAT}}}function Sequencer(t){function e(){v=f/l,p+=v/d,m++,16==m&&(m=0)}function n(t){u(t%4),s.parts.forEach(function(e){var n=p;if(!h[e.generator.name()+""+n.toFixed(5)]){u("SCHEDULING Next Event Time:  "+p.toFixed(5));var r=p+v/d;h.push(e.generator.name()+""+n.toFixed(5)),u("Index of the shits"+e.rhythm.length),1==e.rhythm[t]&&(u(e.generator.name()+""+n.toFixed(5)+"ends at "+r.toFixed(5)),e.generator.play(n,r))}})}function r(){for(;p<F.currentTime+D;){n(m,p),e();{F.currentTime-c}}}function i(t){c=F.currentTime,s.parts=t,m=0,p=F.currentTime,b.postMessage("running")}function o(){u("stopping"),b.postMessage("stop")}function u(){}var s=this,a=new Arranger(t).arrange(),c=0,l=120,f=60,h=[],p=0,d=4,m=0,g=!1,v=f/l,y=50,D=.1,b=null,F=window.AudioEnvironment.context;s.stop=function(){b.postMessage("stop")},s.run=function(){u("Running"),g=!g,g?i(a):o()},s.updateTempo=function(t){l=t},s.init=function(){u("Initialising sequencer"),b=new Worker("/assets/sequencerWorker-f6135bf99c6e98145b377cd923c29db1.js"),b.onmessage=function(t){"step"==t.data?r():u("Received :"+t.data)},b.postMessage({schedulingLookAhead:y})}}function HopperWrapper(){var t,e=this;hopper.prelude.then(function(t){var e=hopper.runtime.object();e.name_wave_chord=hopper.runtime.method("name() wave() chord()",[1,1,1],function(t,e,n){return t[0].asPrimitiveString().then(function(t){return e[0].asPrimitiveString().then(function(e){return n[0].asPrimitiveString().then(function(n){return new Synth(t,e,n)})})})}),t.Synth=hopper.runtime.method("Synth",0,function(){return e});var n=hopper.runtime.object();n.name=hopper.runtime.method("name()",1,function(t){return t.asPrimitiveString().then(function(t){return new DrumMachine(t)})}),t.DrumMachine=hopper.runtime.method("DrumMachine",0,function(){return n});var r=hopper.runtime.object();r.name_filename=hopper.runtime.method("name() filename()",[1,1],function(t,e){return t[0].asPrimitiveString().then(function(t){return e[0].asPrimitiveString().then(function(e){return new LoopPlayer(t,e)})})}),t.LoopPlayer=hopper.runtime.method("LoopPlayer",0,function(){return r});var i=hopper.runtime.object();i.instrument_sequencer=hopper.runtime.method("instrument() sequencer()",[1,1],function(t,e){return new Performance(t,e)}),t.Performance=hopper.runtime.method("Performance",0,function(){return i});var o=hopper.runtime.object();o.parts=hopper.runtime.method("parts()",1,function(t){return t.asPrimitiveArray().then(function(t){return new Sequencer(t)})}),t.Sequencer=hopper.runtime.method("Sequencer",0,function(){return o});var u=hopper.runtime.object();u.instrument_rhythm=hopper.runtime.method("instrument() rhythm()",[1,1],function(t,e){return e[0].asPrimitiveString().then(function(e){return new Part(t,e)})}),t.Part=hopper.runtime.method("Part",0,function(){return u})}),e.interpret=function(e){var n=e;t=new hopper.Interpreter,t.enter(function(){t.interpret(n,function(t){$("#error-div").text(t.toString()),console.log(t.toString())})})},e.terminate=function(){t.prelude.stop(),t=new hopper.Interpreter}}function InputHandler(){InputHandler.prototype.handleInput=function(t){tokens=new Lexer(t).processInput(),(new Parser).parseTokens(tokens)}}function Lexer(t){var e=this,t=t,n=[];e.processInput=function(){return inputLines=t.split("\n"),inputLines.forEach(function(t){t.length>0&&n.push(t.split(" "))}),n}}function Parser(){}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=ie.type(t);return"function"===n||ie.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function r(t,e,n){if(ie.isFunction(e))return ie.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return ie.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(he.test(e))return ie.filter(e,t,n);e=ie.filter(e,t)}return ie.grep(t,function(t){return ie.inArray(t,e)>=0!==n})}function i(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function o(t){var e=be[t]={};return ie.each(t.match(De)||[],function(t,n){e[n]=!0}),e}function u(){de.addEventListener?(de.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1)):(de.detachEvent("onreadystatechange",s),t.detachEvent("onload",s))}function s(){(de.addEventListener||"load"===event.type||"complete"===de.readyState)&&(u(),ie.ready())}function a(t,e,n){if(void 0===n&&1===t.nodeType){var r="data-"+e.replace(Ae,"-$1").toLowerCase();if(n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ce.test(n)?ie.parseJSON(n):n}catch(i){}ie.data(t,e,n)}else n=void 0}return n}function c(t){var e;for(e in t)if(("data"!==e||!ie.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function l(t,e,n,r){if(ie.acceptData(t)){var i,o,u=ie.expando,s=t.nodeType,a=s?ie.cache:t,c=s?t[u]:t[u]&&u;if(c&&a[c]&&(r||a[c].data)||void 0!==n||"string"!=typeof e)return c||(c=s?t[u]=Q.pop()||ie.guid++:u),a[c]||(a[c]=s?{}:{toJSON:ie.noop}),("object"==typeof e||"function"==typeof e)&&(r?a[c]=ie.extend(a[c],e):a[c].data=ie.extend(a[c].data,e)),o=a[c],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ie.camelCase(e)]=n),"string"==typeof e?(i=o[e],null==i&&(i=o[ie.camelCase(e)])):i=o,i}}function f(t,e,n){if(ie.acceptData(t)){var r,i,o=t.nodeType,u=o?ie.cache:t,s=o?t[ie.expando]:ie.expando;if(u[s]){if(e&&(r=n?u[s]:u[s].data)){ie.isArray(e)?e=e.concat(ie.map(e,ie.camelCase)):e in r?e=[e]:(e=ie.camelCase(e),e=e in r?[e]:e.split(" ")),i=e.length;for(;i--;)delete r[e[i]];if(n?!c(r):!ie.isEmptyObject(r))return}(n||(delete u[s].data,c(u[s])))&&(o?ie.cleanData([t],!0):ne.deleteExpando||u!=u.window?delete u[s]:u[s]=null)}}}function h(){return!0}function p(){return!1}function d(){try{return de.activeElement}catch(t){}}function m(t){var e=Re.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function g(t,e){var n,r,i=0,o=typeof t.getElementsByTagName!==Ee?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==Ee?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],n=t.childNodes||t;null!=(r=n[i]);i++)!e||ie.nodeName(r,e)?o.push(r):ie.merge(o,g(r,e));return void 0===e||e&&ie.nodeName(t,e)?ie.merge([t],o):o}function v(t){Se.test(t.type)&&(t.defaultChecked=t.checked)}function y(t,e){return ie.nodeName(t,"table")&&ie.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function D(t){return t.type=(null!==ie.find.attr(t,"type"))+"/"+t.type,t}function b(t){var e=Ge.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function F(t,e){for(var n,r=0;null!=(n=t[r]);r++)ie._data(n,"globalEval",!e||ie._data(e[r],"globalEval"))}function w(t,e){if(1===e.nodeType&&ie.hasData(t)){var n,r,i,o=ie._data(t),u=ie._data(e,o),s=o.events;if(s){delete u.handle,u.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)ie.event.add(e,n,s[n][r])}u.data&&(u.data=ie.extend({},u.data))}}function E(t,e){var n,r,i;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ne.noCloneEvent&&e[ie.expando]){i=ie._data(e);for(r in i.events)ie.removeEvent(e,r,i.handle);e.removeAttribute(ie.expando)}"script"===n&&e.text!==t.text?(D(e).text=t.text,b(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ne.html5Clone&&t.innerHTML&&!ie.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Se.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function C(e,n){var r,i=ie(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(r=t.getDefaultComputedStyle(i[0]))?r.display:ie.css(i[0],"display");return i.detach(),o}function A(t){var e=de,n=Ze[t];return n||(n=C(t,e),"none"!==n&&n||(Ye=(Ye||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Ye[0].contentWindow||Ye[0].contentDocument).document,e.write(),e.close(),n=C(t,e),Ye.detach()),Ze[t]=n),n}function x(t,e){return{get:function(){var n=t();if(null!=n)return n?void delete this.get:(this.get=e).apply(this,arguments)}}}function k(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),r=e,i=pn.length;i--;)if(e=pn[i]+n,e in t)return e;return r}function T(t,e){for(var n,r,i,o=[],u=0,s=t.length;s>u;u++)r=t[u],r.style&&(o[u]=ie._data(r,"olddisplay"),n=r.style.display,e?(o[u]||"none"!==n||(r.style.display=""),""===r.style.display&&Te(r)&&(o[u]=ie._data(r,"olddisplay",A(r.nodeName)))):(i=Te(r),(n&&"none"!==n||!i)&&ie._data(r,"olddisplay",i?n:ie.css(r,"display"))));for(u=0;s>u;u++)r=t[u],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[u]||"":"none"));return t}function B(t,e,n){var r=cn.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function S(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,u=0;4>o;o+=2)"margin"===n&&(u+=ie.css(t,n+ke[o],!0,i)),r?("content"===n&&(u-=ie.css(t,"padding"+ke[o],!0,i)),"margin"!==n&&(u-=ie.css(t,"border"+ke[o]+"Width",!0,i))):(u+=ie.css(t,"padding"+ke[o],!0,i),"padding"!==n&&(u+=ie.css(t,"border"+ke[o]+"Width",!0,i)));return u}function j(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=tn(t),u=ne.boxSizing&&"border-box"===ie.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=en(t,e,o),(0>i||null==i)&&(i=t.style[e]),rn.test(i))return i;r=u&&(ne.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+S(t,e,n||(u?"border":"content"),r,o)+"px"}function N(t,e,n,r,i){return new N.prototype.init(t,e,n,r,i)}function P(){return setTimeout(function(){dn=void 0}),dn=ie.now()}function O(t,e){var n,r={height:t},i=0;for(e=e?1:0;4>i;i+=2-e)n=ke[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function $(t,e,n){for(var r,i=(bn[e]||[]).concat(bn["*"]),o=0,u=i.length;u>o;o++)if(r=i[o].call(n,e,t))return r}function R(t,e,n){var r,i,o,u,s,a,c,l,f=this,h={},p=t.style,d=t.nodeType&&Te(t),m=ie._data(t,"fxshow");n.queue||(s=ie._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,ie.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=ie.css(t,"display"),l="none"===c?ie._data(t,"olddisplay")||A(t.nodeName):c,"inline"===l&&"none"===ie.css(t,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==A(t.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ne.shrinkWrapBlocks()||f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],gn.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(d?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;d=!0}h[r]=m&&m[r]||ie.style(t,r)}else c=void 0;if(ie.isEmptyObject(h))"inline"===("none"===c?A(t.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(d=m.hidden):m=ie._data(t,"fxshow",{}),o&&(m.hidden=!d),d?ie(t).show():f.done(function(){ie(t).hide()}),f.done(function(){var e;ie._removeData(t,"fxshow");for(e in h)ie.style(t,e,h[e])});for(r in h)u=$(d?m[r]:0,r,f),r in m||(m[r]=u.start,d&&(u.end=u.start,u.start="width"===r||"height"===r?1:0))}}function L(t,e){var n,r,i,o,u;for(n in t)if(r=ie.camelCase(n),i=e[r],o=t[n],ie.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),u=ie.cssHooks[r],u&&"expand"in u){o=u.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function q(t,e,n){var r,i,o=0,u=Dn.length,s=ie.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;for(var e=dn||P(),n=Math.max(0,c.startTime+c.duration-e),r=n/c.duration||0,o=1-r,u=0,a=c.tweens.length;a>u;u++)c.tweens[u].run(o);return s.notifyWith(t,[c,o,n]),1>o&&a?n:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:ie.extend({},e),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:dn||P(),duration:n.duration,tweens:[],createTween:function(e,n){var r=ie.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return e?s.resolveWith(t,[c,e]):s.rejectWith(t,[c,e]),this}}),l=c.props;for(L(l,c.opts.specialEasing);u>o;o++)if(r=Dn[o].call(c,t,l,c.opts))return r;return ie.map(l,$,c),ie.isFunction(c.opts.start)&&c.opts.start.call(t,c),ie.fx.timer(ie.extend(a,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function I(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(De)||[];if(ie.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function M(t,e,n,r){function i(s){var a;return o[s]=!0,ie.each(t[s]||[],function(t,s){var c=s(e,n,r);return"string"!=typeof c||u||o[c]?u?!(a=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),a}var o={},u=t===Wn;return i(e.dataTypes[0])||!o["*"]&&i("*")}function _(t,e){var n,r,i=ie.ajaxSettings.flatOptions||{};for(r in e)void 0!==e[r]&&((i[r]?t:n||(n={}))[r]=e[r]);return n&&ie.extend(!0,t,n),t}function U(t,e,n){for(var r,i,o,u,s=t.contents,a=t.dataTypes;"*"===a[0];)a.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(u in s)if(s[u]&&s[u].test(i)){a.unshift(u);break}if(a[0]in n)o=a[0];else{for(u in n){if(!a[0]||t.converters[u+" "+a[0]]){o=u;break}r||(r=u)}o=o||r}return o?(o!==a[0]&&a.unshift(o),n[o]):void 0}function H(t,e,n,r){var i,o,u,s,a,c={},l=t.dataTypes.slice();if(l[1])for(u in t.converters)c[u.toLowerCase()]=t.converters[u];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!a&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),a=o,o=l.shift())if("*"===o)o=a;else if("*"!==a&&a!==o){if(u=c[a+" "+o]||c["* "+o],!u)for(i in c)if(s=i.split(" "),s[1]===o&&(u=c[a+" "+s[0]]||c["* "+s[0]])){u===!0?u=c[i]:c[i]!==!0&&(o=s[0],l.unshift(s[1]));break}if(u!==!0)if(u&&t["throws"])e=u(e);else try{e=u(e)}catch(f){return{state:"parsererror",error:u?f:"No conversion from "+a+" to "+o}}}return{state:"success",data:e}}function W(t,e,n,r){var i;if(ie.isArray(e))ie.each(e,function(e,i){n||Qn.test(t)?r(t,i):W(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==ie.type(e))r(t,e);else for(i in e)W(t+"["+i+"]",e[i],n,r)}function V(){try{return new t.XMLHttpRequest}catch(e){}}function z(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function G(t){return ie.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var Q=[],K=Q.slice,X=Q.concat,J=Q.push,Y=Q.indexOf,Z={},te=Z.toString,ee=Z.hasOwnProperty,ne={},re="1.11.1",ie=function(t,e){return new ie.fn.init(t,e)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ue=/^-ms-/,se=/-([\da-z])/gi,ae=function(t,e){return e.toUpperCase()};ie.fn=ie.prototype={jquery:re,constructor:ie,selector:"",length:0,toArray:function(){return K.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:K.call(this)},pushStack:function(t){var e=ie.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return ie.each(this,t,e)},map:function(t){return this.pushStack(ie.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:J,sort:Q.sort,splice:Q.splice},ie.extend=ie.fn.extend=function(){var t,e,n,r,i,o,u=arguments[0]||{},s=1,a=arguments.length,c=!1;for("boolean"==typeof u&&(c=u,u=arguments[s]||{},s++),"object"==typeof u||ie.isFunction(u)||(u={}),s===a&&(u=this,s--);a>s;s++)if(null!=(i=arguments[s]))for(r in i)t=u[r],n=i[r],u!==n&&(c&&n&&(ie.isPlainObject(n)||(e=ie.isArray(n)))?(e?(e=!1,o=t&&ie.isArray(t)?t:[]):o=t&&ie.isPlainObject(t)?t:{},u[r]=ie.extend(c,o,n)):void 0!==n&&(u[r]=n));return u},ie.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ie.type(t)},isArray:Array.isArray||function(t){return"array"===ie.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!ie.isArray(t)&&t-parseFloat(t)>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ie.type(t)||t.nodeType||ie.isWindow(t))return!1;try{if(t.constructor&&!ee.call(t,"constructor")&&!ee.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ne.ownLast)for(e in t)return ee.call(t,e);for(e in t);return void 0===e||ee.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Z[te.call(t)]||"object":typeof t},globalEval:function(e){e&&ie.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(ue,"ms-").replace(se,ae)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i,o=0,u=t.length,s=n(t);if(r){if(s)for(;u>o&&(i=e.apply(t[o],r),i!==!1);o++);else for(o in t)if(i=e.apply(t[o],r),i===!1)break}else if(s)for(;u>o&&(i=e.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=e.call(t[o],o,t[o]),i===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(oe,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?ie.merge(r,"string"==typeof t?[t]:t):J.call(r,t)),r},inArray:function(t,e,n){var r;if(e){if(Y)return Y.call(e,t,n);for(r=e.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;)t[i++]=e[r++];if(n!==n)for(;void 0!==e[r];)t[i++]=e[r++];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,u=t.length,s=!n;u>o;o++)r=!e(t[o],o),r!==s&&i.push(t[o]);return i},map:function(t,e,r){var i,o=0,u=t.length,s=n(t),a=[];if(s)for(;u>o;o++)i=e(t[o],o,r),null!=i&&a.push(i);else for(o in t)i=e(t[o],o,r),null!=i&&a.push(i);return X.apply([],a)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(i=t[e],e=t,t=i),ie.isFunction(t)?(n=K.call(arguments,2),r=function(){return t.apply(e||this,n.concat(K.call(arguments)))},r.guid=t.guid=t.guid||ie.guid++,r):void 0},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Z["[object "+e+"]"]=e.toLowerCase()});var ce=function(t){function e(t,e,n,r){var i,o,u,s,a,c,f,p,d,m;if((e?e.ownerDocument||e:M)!==N&&j(e),e=e||N,n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=e.nodeType)&&9!==s)return[];if(O&&!r){if(i=ye.exec(t))if(u=i[1]){if(9===s){if(o=e.getElementById(u),!o||!o.parentNode)return n;if(o.id===u)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(u))&&q(e,o)&&o.id===u)return n.push(o),n}else{if(i[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((u=i[3])&&F.getElementsByClassName&&e.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(u)),n}if(F.qsa&&(!$||!$.test(t))){if(p=f=I,d=e,m=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=A(t),(f=e.getAttribute("id"))?p=f.replace(be,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",a=c.length;a--;)c[a]=p+h(c[a]);d=De.test(t)&&l(e.parentNode)||e,m=c.join(",")}if(m)try{return Z.apply(n,d.querySelectorAll(m)),n}catch(g){}finally{f||e.removeAttribute("id")}}}return k(t.replace(ae,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>w.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[I]=!0,t}function i(t){var e=N.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)w.attrHandle[n[r]]=e}function u(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Q)-(~t.sourceIndex||Q);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function a(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),u=o.length;u--;)n[i=o[u]]&&(n[i]=!(r[i]=n[i]))})})}function l(t){return t&&typeof t.getElementsByTagName!==G&&t}function f(){}function h(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function p(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=U++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,u){var s,a,c=[_,o];if(u){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(a=e[I]||(e[I]={}),(s=a[r])&&s[0]===_&&s[1]===o)return c[2]=s[2];if(a[r]=c,c[2]=t(e,n,u))return!0}}}function d(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function m(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function g(t,e,n,r,i){for(var o,u=[],s=0,a=t.length,c=null!=e;a>s;s++)(o=t[s])&&(!n||n(o,r,i))&&(u.push(o),c&&e.push(s));return u}function v(t,e,n,i,o,u){return i&&!i[I]&&(i=v(i)),o&&!o[I]&&(o=v(o,u)),r(function(r,u,s,a){var c,l,f,h=[],p=[],d=u.length,v=r||m(e||"*",s.nodeType?[s]:s,[]),y=!t||!r&&e?v:g(v,h,t,s,a),D=n?o||(r?t:d||i)?[]:u:y;if(n&&n(y,D,s,a),i)for(c=g(D,p),i(c,[],s,a),l=c.length;l--;)(f=c[l])&&(D[p[l]]=!(y[p[l]]=f));if(r){if(o||t){if(o){for(c=[],l=D.length;l--;)(f=D[l])&&c.push(y[l]=f);o(null,D=[],c,a)}for(l=D.length;l--;)(f=D[l])&&(c=o?ee.call(r,f):h[l])>-1&&(r[c]=!(u[c]=f))}}else D=g(D===u?D.splice(d,D.length):D),o?o(null,u,D,a):Z.apply(u,D)})}function y(t){for(var e,n,r,i=t.length,o=w.relative[t[0].type],u=o||w.relative[" "],s=o?1:0,a=p(function(t){return t===e},u,!0),c=p(function(t){return ee.call(e,t)>-1},u,!0),l=[function(t,n,r){return!o&&(r||n!==T)||((e=n).nodeType?a(t,n,r):c(t,n,r))}];i>s;s++)if(n=w.relative[t[s].type])l=[p(d(l),n)];else{if(n=w.filter[t[s].type].apply(null,t[s].matches),n[I]){for(r=++s;i>r&&!w.relative[t[r].type];r++);return v(s>1&&d(l),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ae,"$1"),n,r>s&&y(t.slice(s,r)),i>r&&y(t=t.slice(r)),i>r&&h(t))}l.push(n)}return d(l)}function D(t,n){var i=n.length>0,o=t.length>0,u=function(r,u,s,a,c){var l,f,h,p=0,d="0",m=r&&[],v=[],y=T,D=r||o&&w.find.TAG("*",c),b=_+=null==y?1:Math.random()||.1,F=D.length;for(c&&(T=u!==N&&u);d!==F&&null!=(l=D[d]);d++){if(o&&l){for(f=0;h=t[f++];)if(h(l,u,s)){a.push(l);break}c&&(_=b)}i&&((l=!h&&l)&&p--,r&&m.push(l))}if(p+=d,i&&d!==p){for(f=0;h=n[f++];)h(m,v,u,s);if(r){if(p>0)for(;d--;)m[d]||v[d]||(v[d]=J.call(a));v=g(v)}Z.apply(a,v),c&&!r&&v.length>0&&p+n.length>1&&e.uniqueSort(a)}return c&&(_=b,T=y),m};return i?r(u):u}var b,F,w,E,C,A,x,k,T,B,S,j,N,P,O,$,R,L,q,I="sizzle"+-new Date,M=t.document,_=0,U=0,H=n(),W=n(),V=n(),z=function(t,e){return t===e&&(S=!0),0},G="undefined",Q=1<<31,K={}.hasOwnProperty,X=[],J=X.pop,Y=X.push,Z=X.push,te=X.slice,ee=X.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;
return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=ie.replace("w","w#"),ue="\\["+re+"*("+ie+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+re+"*\\]",se=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ue+")*)|.*)\\)|)",ae=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),ce=new RegExp("^"+re+"*,"+re+"*"),le=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),fe=new RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),he=new RegExp(se),pe=new RegExp("^"+oe+"$"),de={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+ue),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,De=/[+~]/,be=/'|\\/g,Fe=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),we=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Z.apply(X=te.call(M.childNodes),M.childNodes),X[M.childNodes.length].nodeType}catch(Ee){Z={apply:X.length?function(t,e){Y.apply(t,te.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}F=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},j=e.setDocument=function(t){var e,n=t?t.ownerDocument||t:M,r=n.defaultView;return n!==N&&9===n.nodeType&&n.documentElement?(N=n,P=n.documentElement,O=!C(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){j()},!1):r.attachEvent&&r.attachEvent("onunload",function(){j()})),F.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),F.getElementsByTagName=i(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),F.getElementsByClassName=ve.test(n.getElementsByClassName)&&i(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),F.getById=i(function(t){return P.appendChild(t).id=I,!n.getElementsByName||!n.getElementsByName(I).length}),F.getById?(w.find.ID=function(t,e){if(typeof e.getElementById!==G&&O){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(t){var e=t.replace(Fe,we);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var e=t.replace(Fe,we);return function(t){var n=typeof t.getAttributeNode!==G&&t.getAttributeNode("id");return n&&n.value===e}}),w.find.TAG=F.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==G?e.getElementsByTagName(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=F.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==G&&O?e.getElementsByClassName(t):void 0},R=[],$=[],(F.qsa=ve.test(n.querySelectorAll))&&(i(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&$.push("[*^$]="+re+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||$.push("\\["+re+"*(?:value|"+ne+")"),t.querySelectorAll(":checked").length||$.push(":checked")}),i(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&$.push("name"+re+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||$.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),$.push(",.*:")})),(F.matchesSelector=ve.test(L=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&i(function(t){F.disconnectedMatch=L.call(t,"div"),L.call(t,"[s!='']:x"),R.push("!=",se)}),$=$.length&&new RegExp($.join("|")),R=R.length&&new RegExp(R.join("|")),e=ve.test(P.compareDocumentPosition),q=e||ve.test(P.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},z=e?function(t,e){if(t===e)return S=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r?r:(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&r||!F.sortDetached&&e.compareDocumentPosition(t)===r?t===n||t.ownerDocument===M&&q(M,t)?-1:e===n||e.ownerDocument===M&&q(M,e)?1:B?ee.call(B,t)-ee.call(B,e):0:4&r?-1:1)}:function(t,e){if(t===e)return S=!0,0;var r,i=0,o=t.parentNode,s=e.parentNode,a=[t],c=[e];if(!o||!s)return t===n?-1:e===n?1:o?-1:s?1:B?ee.call(B,t)-ee.call(B,e):0;if(o===s)return u(t,e);for(r=t;r=r.parentNode;)a.unshift(r);for(r=e;r=r.parentNode;)c.unshift(r);for(;a[i]===c[i];)i++;return i?u(a[i],c[i]):a[i]===M?-1:c[i]===M?1:0},n):N},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==N&&j(t),n=n.replace(fe,"='$1']"),!(!F.matchesSelector||!O||R&&R.test(n)||$&&$.test(n)))try{var r=L.call(t,n);if(r||F.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,N,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==N&&j(t),q(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==N&&j(t);var n=w.attrHandle[e.toLowerCase()],r=n&&K.call(w.attrHandle,e.toLowerCase())?n(t,e,!O):void 0;return void 0!==r?r:F.attributes||!O?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(S=!F.detectDuplicates,B=!F.sortStable&&t.slice(0),t.sort(z),S){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return B=null,t},E=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=E(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=E(e);return n},w=e.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Fe,we),t[3]=(t[3]||t[4]||t[5]||"").replace(Fe,we),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return de.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&he.test(n)&&(e=A(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Fe,we).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=new RegExp("(^|"+re+")"+t+"("+re+"|$)"))&&H(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==G&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),u="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,a){var c,l,f,h,p,d,m=o!==u?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!a&&!s;if(g){if(o){for(;m;){for(f=e;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;d=m="only"===t&&!d&&"nextSibling"}return!0}if(d=[u?g.firstChild:g.lastChild],u&&y){for(l=g[I]||(g[I]={}),c=l[t]||[],p=c[0]===_&&c[1],h=c[0]===_&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(h=p=0)||d.pop();)if(1===f.nodeType&&++h&&f===e){l[t]=[_,p,h];break}}else if(y&&(c=(e[I]||(e[I]={}))[t])&&c[0]===_)h=c[1];else for(;(f=++p&&f&&f[m]||(h=p=0)||d.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++h||(y&&((f[I]||(f[I]={}))[t]=[_,h]),f!==e)););return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(t,n){var i,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[I]?o(n):o.length>1?(i=[t,t,"",n],w.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),u=i.length;u--;)r=ee.call(t,i[u]),t[r]=!(e[r]=i[u])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=x(t.replace(ae,"$1"));return i[I]?r(function(t,e,n,r){for(var o,u=i(t,null,r,[]),s=t.length;s--;)(o=u[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:r(function(t){return pe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(Fe,we).toLowerCase(),function(e){var n;do if(n=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===P},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return ge.test(t.nodeName)},input:function(t){return me.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[0>n?n+e:n]}),even:c(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:c(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},w.pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=a(b);return f.prototype=w.filters=w.pseudos,w.setFilters=new f,A=e.tokenize=function(t,n){var r,i,o,u,s,a,c,l=W[t+" "];if(l)return n?0:l.slice(0);for(s=t,a=[],c=w.preFilter;s;){(!r||(i=ce.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),a.push(o=[])),r=!1,(i=le.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ae," ")}),s=s.slice(r.length));for(u in w.filter)!(i=de[u].exec(s))||c[u]&&!(i=c[u](i))||(r=i.shift(),o.push({value:r,type:u,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):W(t,a).slice(0)},x=e.compile=function(t,e){var n,r=[],i=[],o=V[t+" "];if(!o){for(e||(e=A(t)),n=e.length;n--;)o=y(e[n]),o[I]?r.push(o):i.push(o);o=V(t,D(i,r)),o.selector=t}return o},k=e.select=function(t,e,n,r){var i,o,u,s,a,c="function"==typeof t&&t,f=!r&&A(t=c.selector||t);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(u=o[0]).type&&F.getById&&9===e.nodeType&&O&&w.relative[o[1].type]){if(e=(w.find.ID(u.matches[0].replace(Fe,we),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=de.needsContext.test(t)?0:o.length;i--&&(u=o[i],!w.relative[s=u.type]);)if((a=w.find[s])&&(r=a(u.matches[0].replace(Fe,we),De.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&h(o),!t)return Z.apply(n,r),n;break}}return(c||x(t,f))(r,e,!O,n,De.test(t)&&l(e.parentNode)||e),n},F.sortStable=I.split("").sort(z).join("")===I,F.detectDuplicates=!!S,j(),F.sortDetached=i(function(t){return 1&t.compareDocumentPosition(N.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),F.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(ne,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);ie.find=ce,ie.expr=ce.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=ce.uniqueSort,ie.text=ce.getText,ie.isXMLDoc=ce.isXML,ie.contains=ce.contains;var le=ie.expr.match.needsContext,fe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,he=/^.[^:#\[\.,]*$/;ie.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?ie.find.matchesSelector(r,t)?[r]:[]:ie.find.matches(t,ie.grep(e,function(t){return 1===t.nodeType}))},ie.fn.extend({find:function(t){var e,n=[],r=this,i=r.length;if("string"!=typeof t)return this.pushStack(ie(t).filter(function(){for(e=0;i>e;e++)if(ie.contains(r[e],this))return!0}));for(e=0;i>e;e++)ie.find(t,r[e],n);return n=this.pushStack(i>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&le.test(t)?ie(t):t||[],!1).length}});var pe,de=t.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ie.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:me.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||pe).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof ie?e[0]:e,ie.merge(this,ie.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:de,!0)),fe.test(n[1])&&ie.isPlainObject(e))for(n in e)ie.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if(r=de.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return pe.find(t);this.length=1,this[0]=r}return this.context=de,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ie.isFunction(t)?"undefined"!=typeof pe.ready?pe.ready(t):t(ie):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ie.makeArray(t,this))};ge.prototype=ie.fn,pe=ie(de);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(t,e,n){for(var r=[],i=t[e];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!ie(i).is(n));)1===i.nodeType&&r.push(i),i=i[e];return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),ie.fn.extend({has:function(t){var e,n=ie(t,this),r=n.length;return this.filter(function(){for(e=0;r>e;e++)if(ie.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],u=le.test(t)||"string"!=typeof t?ie(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(u?u.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ie.unique(o):o)},index:function(t){return t?"string"==typeof t?ie.inArray(this[0],ie(t)):ie.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ie.unique(ie.merge(this.get(),ie(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ie.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ie.dir(t,"parentNode")},parentsUntil:function(t,e,n){return ie.dir(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return ie.dir(t,"nextSibling")},prevAll:function(t){return ie.dir(t,"previousSibling")},nextUntil:function(t,e,n){return ie.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return ie.dir(t,"previousSibling",n)},siblings:function(t){return ie.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return ie.sibling(t.firstChild)},contents:function(t){return ie.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ie.merge([],t.childNodes)}},function(t,e){ie.fn[t]=function(n,r){var i=ie.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ie.filter(r,i)),this.length>1&&(ye[t]||(i=ie.unique(i)),ve.test(t)&&(i=i.reverse())),this.pushStack(i)}});var De=/\S+/g,be={};ie.Callbacks=function(t){t="string"==typeof t?be[t]||o(t):ie.extend({},t);var e,n,r,i,u,s,a=[],c=!t.once&&[],l=function(o){for(n=t.memory&&o,r=!0,u=s||0,s=0,i=a.length,e=!0;a&&i>u;u++)if(a[u].apply(o[0],o[1])===!1&&t.stopOnFalse){n=!1;break}e=!1,a&&(c?c.length&&l(c.shift()):n?a=[]:f.disable())},f={add:function(){if(a){var r=a.length;!function o(e){ie.each(e,function(e,n){var r=ie.type(n);"function"===r?t.unique&&f.has(n)||a.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),e?i=a.length:n&&(s=r,l(n))}return this},remove:function(){return a&&ie.each(arguments,function(t,n){for(var r;(r=ie.inArray(n,a,r))>-1;)a.splice(r,1),e&&(i>=r&&i--,u>=r&&u--)}),this},has:function(t){return t?ie.inArray(t,a)>-1:!(!a||!a.length)},empty:function(){return a=[],i=0,this},disable:function(){return a=c=n=void 0,this},disabled:function(){return!a},lock:function(){return c=void 0,n||f.disable(),this},locked:function(){return!c},fireWith:function(t,n){return!a||r&&!c||(n=n||[],n=[t,n.slice?n.slice():n],e?c.push(n):l(n)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!r}};return f},ie.extend({Deferred:function(t){var e=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ie.Deferred(function(n){ie.each(e,function(e,o){var u=ie.isFunction(t[e])&&t[e];i[o[1]](function(){var t=u&&u.apply(this,arguments);t&&ie.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,u?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ie.extend(t,r):r}},i={};return r.pipe=r.then,ie.each(e,function(t,o){var u=o[2],s=o[3];r[o[1]]=u.add,s&&u.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=u.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=K.call(arguments),u=o.length,s=1!==u||t&&ie.isFunction(t.promise)?u:0,a=1===s?t:ie.Deferred(),c=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?K.call(arguments):i,r===e?a.notifyWith(n,r):--s||a.resolveWith(n,r)}};if(u>1)for(e=new Array(u),n=new Array(u),r=new Array(u);u>i;i++)o[i]&&ie.isFunction(o[i].promise)?o[i].promise().done(c(i,r,o)).fail(a.reject).progress(c(i,n,e)):--s;return s||a.resolveWith(r,o),a.promise()}});var Fe;ie.fn.ready=function(t){return ie.ready.promise().done(t),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ie.readyWait++:ie.ready(!0)},ready:function(t){if(t===!0?!--ie.readyWait:!ie.isReady){if(!de.body)return setTimeout(ie.ready);ie.isReady=!0,t!==!0&&--ie.readyWait>0||(Fe.resolveWith(de,[ie]),ie.fn.triggerHandler&&(ie(de).triggerHandler("ready"),ie(de).off("ready")))}}}),ie.ready.promise=function(e){if(!Fe)if(Fe=ie.Deferred(),"complete"===de.readyState)setTimeout(ie.ready);else if(de.addEventListener)de.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1);else{de.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var n=!1;try{n=null==t.frameElement&&de.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!ie.isReady){try{n.doScroll("left")}catch(t){return setTimeout(i,50)}u(),ie.ready()}}()}return Fe.promise(e)};var we,Ee="undefined";for(we in ie(ne))break;ne.ownLast="0"!==we,ne.inlineBlockNeedsLayout=!1,ie(function(){var t,e,n,r;n=de.getElementsByTagName("body")[0],n&&n.style&&(e=de.createElement("div"),r=de.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(e),typeof e.style.zoom!==Ee&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(r))}),function(){var t=de.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(e){ne.deleteExpando=!1}}t=null}(),ie.acceptData=function(t){var e=ie.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return 1!==n&&9!==n?!1:!e||e!==!0&&t.getAttribute("classid")===e};var Ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ae=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ie.cache[t[ie.expando]]:t[ie.expando],!!t&&!c(t)},data:function(t,e,n){return l(t,e,n)},removeData:function(t,e){return f(t,e)},_data:function(t,e,n){return l(t,e,n,!0)},_removeData:function(t,e){return f(t,e,!0)}}),ie.fn.extend({data:function(t,e){var n,r,i,o=this[0],u=o&&o.attributes;if(void 0===t){if(this.length&&(i=ie.data(o),1===o.nodeType&&!ie._data(o,"parsedAttrs"))){for(n=u.length;n--;)u[n]&&(r=u[n].name,0===r.indexOf("data-")&&(r=ie.camelCase(r.slice(5)),a(o,r,i[r])));ie._data(o,"parsedAttrs",!0)}return i}return"object"==typeof t?this.each(function(){ie.data(this,t)}):arguments.length>1?this.each(function(){ie.data(this,t,e)}):o?a(o,t,ie.data(o,t)):void 0},removeData:function(t){return this.each(function(){ie.removeData(this,t)})}}),ie.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=ie._data(t,e),n&&(!r||ie.isArray(n)?r=ie._data(t,e,ie.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ie.queue(t,e),r=n.length,i=n.shift(),o=ie._queueHooks(t,e),u=function(){ie.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,u,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ie._data(t,n)||ie._data(t,n,{empty:ie.Callbacks("once memory").add(function(){ie._removeData(t,e+"queue"),ie._removeData(t,n)})})}}),ie.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ie.queue(this[0],t):void 0===e?this:this.each(function(){var n=ie.queue(this,t,e);ie._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ie.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ie.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=ie.Deferred(),o=this,u=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";u--;)n=ie._data(o[u],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ke=["Top","Right","Bottom","Left"],Te=function(t,e){return t=e||t,"none"===ie.css(t,"display")||!ie.contains(t.ownerDocument,t)},Be=ie.access=function(t,e,n,r,i,o,u){var s=0,a=t.length,c=null==n;if("object"===ie.type(n)){i=!0;for(s in n)ie.access(t,e,s,n[s],!0,o,u)}else if(void 0!==r&&(i=!0,ie.isFunction(r)||(u=!0),c&&(u?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(ie(t),n)})),e))for(;a>s;s++)e(t[s],n,u?r:r.call(t[s],s,e(t[s],n)));return i?t:c?e.call(t):a?e(t[0],n):o},Se=/^(?:checkbox|radio)$/i;!function(){var t=de.createElement("input"),e=de.createElement("div"),n=de.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===e.firstChild.nodeType,ne.tbody=!e.getElementsByTagName("tbody").length,ne.htmlSerialize=!!e.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==de.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,n.appendChild(t),ne.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,n.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){ne.noCloneEvent=!1}),e.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(r){ne.deleteExpando=!1}}}(),function(){var e,n,r=de.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(ne[e+"Bubbles"]=n in t)||(r.setAttribute(n,"t"),ne[e+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var je=/^(?:input|select|textarea)$/i,Ne=/^key/,Pe=/^(?:mouse|pointer|contextmenu)|click/,Oe=/^(?:focusinfocus|focusoutblur)$/,$e=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(t,e,n,r,i){var o,u,s,a,c,l,f,h,p,d,m,g=ie._data(t);if(g){for(n.handler&&(a=n,n=a.handler,i=a.selector),n.guid||(n.guid=ie.guid++),(u=g.events)||(u=g.events={}),(l=g.handle)||(l=g.handle=function(t){return typeof ie===Ee||t&&ie.event.triggered===t.type?void 0:ie.event.dispatch.apply(l.elem,arguments)},l.elem=t),e=(e||"").match(De)||[""],s=e.length;s--;)o=$e.exec(e[s])||[],p=m=o[1],d=(o[2]||"").split(".").sort(),p&&(c=ie.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,c=ie.event.special[p]||{},f=ie.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:d.join(".")},a),(h=u[p])||(h=u[p]=[],h.delegateCount=0,c.setup&&c.setup.call(t,r,d,l)!==!1||(t.addEventListener?t.addEventListener(p,l,!1):t.attachEvent&&t.attachEvent("on"+p,l))),c.add&&(c.add.call(t,f),f.handler.guid||(f.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,f):h.push(f),ie.event.global[p]=!0);t=null}},remove:function(t,e,n,r,i){var o,u,s,a,c,l,f,h,p,d,m,g=ie.hasData(t)&&ie._data(t);if(g&&(l=g.events)){for(e=(e||"").match(De)||[""],c=e.length;c--;)if(s=$e.exec(e[c])||[],p=m=s[1],d=(s[2]||"").split(".").sort(),p){for(f=ie.event.special[p]||{},p=(r?f.delegateType:f.bindType)||p,h=l[p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)u=h[o],!i&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,f.remove&&f.remove.call(t,u));a&&!h.length&&(f.teardown&&f.teardown.call(t,d,g.handle)!==!1||ie.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)ie.event.remove(t,p+e[c],n,r,!0);ie.isEmptyObject(l)&&(delete g.handle,ie._removeData(t,"events"))}},trigger:function(e,n,r,i){var o,u,s,a,c,l,f,h=[r||de],p=ee.call(e,"type")?e.type:e,d=ee.call(e,"namespace")?e.namespace.split("."):[];if(s=l=r=r||de,3!==r.nodeType&&8!==r.nodeType&&!Oe.test(p+ie.event.triggered)&&(p.indexOf(".")>=0&&(d=p.split("."),p=d.shift(),d.sort()),u=p.indexOf(":")<0&&"on"+p,e=e[ie.expando]?e:new ie.Event(p,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=d.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:ie.makeArray(n,[e]),c=ie.event.special[p]||{},i||!c.trigger||c.trigger.apply(r,n)!==!1)){if(!i&&!c.noBubble&&!ie.isWindow(r)){for(a=c.delegateType||p,Oe.test(a+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),l=s;l===(r.ownerDocument||de)&&h.push(l.defaultView||l.parentWindow||t)}for(f=0;(s=h[f++])&&!e.isPropagationStopped();)e.type=f>1?a:c.bindType||p,o=(ie._data(s,"events")||{})[e.type]&&ie._data(s,"handle"),o&&o.apply(s,n),o=u&&s[u],o&&o.apply&&ie.acceptData(s)&&(e.result=o.apply(s,n),e.result===!1&&e.preventDefault());if(e.type=p,!i&&!e.isDefaultPrevented()&&(!c._default||c._default.apply(h.pop(),n)===!1)&&ie.acceptData(r)&&u&&r[p]&&!ie.isWindow(r)){l=r[u],l&&(r[u]=null),ie.event.triggered=p;try{r[p]()}catch(m){}ie.event.triggered=void 0,l&&(r[u]=l)}return e.result}},dispatch:function(t){t=ie.event.fix(t);var e,n,r,i,o,u=[],s=K.call(arguments),a=(ie._data(this,"events")||{})[t.type]||[],c=ie.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(u=ie.event.handlers.call(this,t,a),e=0;(i=u[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(r.namespace))&&(t.handleObj=r,t.data=r.data,n=((ie.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,u=[],s=e.delegateCount,a=t.target;if(s&&a.nodeType&&(!t.button||"click"!==t.type))for(;a!=this;a=a.parentNode||this)if(1===a.nodeType&&(a.disabled!==!0||"click"!==t.type)){for(i=[],o=0;s>o;o++)r=e[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?ie(n,this).index(a)>=0:ie.find(n,this,null,[a]).length),i[n]&&i.push(r);i.length&&u.push({elem:a,handlers:i})}return s<e.length&&u.push({elem:this,handlers:e.slice(s)}),u},fix:function(t){if(t[ie.expando])return t;var e,n,r,i=t.type,o=t,u=this.fixHooks[i];for(u||(this.fixHooks[i]=u=Pe.test(i)?this.mouseHooks:Ne.test(i)?this.keyHooks:{}),r=u.props?this.props.concat(u.props):this.props,t=new ie.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=o.srcElement||de),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,u.filter?u.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button,u=e.fromElement;return null==t.pageX&&null!=e.clientX&&(r=t.target.ownerDocument||de,i=r.documentElement,n=r.body,t.pageX=e.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&u&&(t.relatedTarget=u===t.target?e.toElement:u),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==d()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return ie.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=ie.extend(new ie.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?ie.event.trigger(i,null,e):ie.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=de.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var r="on"+e;t.detachEvent&&(typeof t[r]===Ee&&(t[r]=null),t.detachEvent(r,n))},ie.Event=function(t,e){return this instanceof ie.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?h:p):this.type=t,e&&ie.extend(this,e),this.timeStamp=t&&t.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(t,e)
},ie.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=h,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=h,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=h,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ie.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!ie.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ne.submitBubbles||(ie.event.special.submit={setup:function(){return ie.nodeName(this,"form")?!1:void ie.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=ie.nodeName(e,"input")||ie.nodeName(e,"button")?e.form:void 0;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),ie._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&ie.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return ie.nodeName(this,"form")?!1:void ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){return je.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ie.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),ie.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,t,!0)})),!1):void ie.event.add(this,"beforeactivate._change",function(t){var e=t.target;je.test(e.nodeName)&&!ie._data(e,"changeBubbles")&&(ie.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ie.event.simulate("change",this.parentNode,t,!0)}),ie._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ie.event.remove(this,"._change"),!je.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ie.event.simulate(e,t.target,ie.event.fix(t),!0)};ie.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=ie._data(r,e);i||r.addEventListener(t,n,!0),ie._data(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ie._data(r,e)-1;i?ie._data(r,e,i):(r.removeEventListener(t,n,!0),ie._removeData(r,e))}}}),ie.fn.extend({on:function(t,e,n,r,i){var o,u;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(o in t)this.on(o,e,n,t[o],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),r===!1)r=p;else if(!r)return this;return 1===i&&(u=r,r=function(t){return ie().off(t),u.apply(this,arguments)},r.guid=u.guid||(u.guid=ie.guid++)),this.each(function(){ie.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,ie(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=p),this.each(function(){ie.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){ie.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ie.event.trigger(t,e,n,!0):void 0}});var Re="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Le=/ jQuery\d+="(?:null|\d+)"/g,qe=new RegExp("<(?:"+Re+")[\\s/>]","i"),Ie=/^\s+/,Me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,_e=/<([\w:]+)/,Ue=/<tbody/i,He=/<|&#?\w+;/,We=/<(?:script|style|link)/i,Ve=/checked\s*(?:[^=]|=\s*.checked.)/i,ze=/^$|\/(?:java|ecma)script/i,Ge=/^true\/(.*)/,Qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ke={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Xe=m(de),Je=Xe.appendChild(de.createElement("div"));Ke.optgroup=Ke.option,Ke.tbody=Ke.tfoot=Ke.colgroup=Ke.caption=Ke.thead,Ke.th=Ke.td,ie.extend({clone:function(t,e,n){var r,i,o,u,s,a=ie.contains(t.ownerDocument,t);if(ne.html5Clone||ie.isXMLDoc(t)||!qe.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(Je.innerHTML=t.outerHTML,Je.removeChild(o=Je.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ie.isXMLDoc(t)))for(r=g(o),s=g(t),u=0;null!=(i=s[u]);++u)r[u]&&E(i,r[u]);if(e)if(n)for(s=s||g(t),r=r||g(o),u=0;null!=(i=s[u]);u++)w(i,r[u]);else w(t,o);return r=g(o,"script"),r.length>0&&F(r,!a&&g(t,"script")),r=s=i=null,o},buildFragment:function(t,e,n,r){for(var i,o,u,s,a,c,l,f=t.length,h=m(e),p=[],d=0;f>d;d++)if(o=t[d],o||0===o)if("object"===ie.type(o))ie.merge(p,o.nodeType?[o]:o);else if(He.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(_e.exec(o)||["",""])[1].toLowerCase(),l=Ke[a]||Ke._default,s.innerHTML=l[1]+o.replace(Me,"<$1></$2>")+l[2],i=l[0];i--;)s=s.lastChild;if(!ne.leadingWhitespace&&Ie.test(o)&&p.push(e.createTextNode(Ie.exec(o)[0])),!ne.tbody)for(o="table"!==a||Ue.test(o)?"<table>"!==l[1]||Ue.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)ie.nodeName(c=o.childNodes[i],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(ie.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else p.push(e.createTextNode(o));for(s&&h.removeChild(s),ne.appendChecked||ie.grep(g(p,"input"),v),d=0;o=p[d++];)if((!r||-1===ie.inArray(o,r))&&(u=ie.contains(o.ownerDocument,o),s=g(h.appendChild(o),"script"),u&&F(s),n))for(i=0;o=s[i++];)ze.test(o.type||"")&&n.push(o);return s=null,h},cleanData:function(t,e){for(var n,r,i,o,u=0,s=ie.expando,a=ie.cache,c=ne.deleteExpando,l=ie.event.special;null!=(n=t[u]);u++)if((e||ie.acceptData(n))&&(i=n[s],o=i&&a[i])){if(o.events)for(r in o.events)l[r]?ie.event.remove(n,r):ie.removeEvent(n,r,o.handle);a[i]&&(delete a[i],c?delete n[s]:typeof n.removeAttribute!==Ee?n.removeAttribute(s):n[s]=null,Q.push(i))}}}),ie.fn.extend({text:function(t){return Be(this,function(t){return void 0===t?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||de).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?ie.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||ie.cleanData(g(n)),n.parentNode&&(e&&ie.contains(n.ownerDocument,n)&&F(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ie.cleanData(g(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ie.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ie.clone(this,t,e)})},html:function(t){return Be(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Le,""):void 0;if(!("string"!=typeof t||We.test(t)||!ne.htmlSerialize&&qe.test(t)||!ne.leadingWhitespace&&Ie.test(t)||Ke[(_e.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Me,"<$1></$2>");try{for(;r>n;n++)e=this[n]||{},1===e.nodeType&&(ie.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,ie.cleanData(g(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=X.apply([],t);var n,r,i,o,u,s,a=0,c=this.length,l=this,f=c-1,h=t[0],p=ie.isFunction(h);if(p||c>1&&"string"==typeof h&&!ne.checkClone&&Ve.test(h))return this.each(function(n){var r=l.eq(n);p&&(t[0]=h.call(this,n,r.html())),r.domManip(t,e)});if(c&&(s=ie.buildFragment(t,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=ie.map(g(s,"script"),D),i=o.length;c>a;a++)r=s,a!==f&&(r=ie.clone(r,!0,!0),i&&ie.merge(o,g(r,"script"))),e.call(this[a],r,a);if(i)for(u=o[o.length-1].ownerDocument,ie.map(o,b),a=0;i>a;a++)r=o[a],ze.test(r.type||"")&&!ie._data(r,"globalEval")&&ie.contains(u,r)&&(r.src?ie._evalUrl&&ie._evalUrl(r.src):ie.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Qe,"")));s=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ie.fn[t]=function(t){for(var n,r=0,i=[],o=ie(t),u=o.length-1;u>=r;r++)n=r===u?this:this.clone(!0),ie(o[r])[e](n),J.apply(i,n.get());return this.pushStack(i)}});var Ye,Ze={};!function(){var t;ne.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,r;return n=de.getElementsByTagName("body")[0],n&&n.style?(e=de.createElement("div"),r=de.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(e),typeof e.style.zoom!==Ee&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(de.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(r),t):void 0}}();var tn,en,nn=/^margin/,rn=new RegExp("^("+xe+")(?!px)[a-z%]+$","i"),on=/^(top|right|bottom|left)$/;t.getComputedStyle?(tn=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},en=function(t,e,n){var r,i,o,u,s=t.style;return n=n||tn(t),u=n?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==u||ie.contains(t.ownerDocument,t)||(u=ie.style(t,e)),rn.test(u)&&nn.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=u,u=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===u?u:u+""}):de.documentElement.currentStyle&&(tn=function(t){return t.currentStyle},en=function(t,e,n){var r,i,o,u,s=t.style;return n=n||tn(t),u=n?n[e]:void 0,null==u&&s&&s[e]&&(u=s[e]),rn.test(u)&&!on.test(e)&&(r=s.left,i=t.runtimeStyle,o=i&&i.left,o&&(i.left=t.currentStyle.left),s.left="fontSize"===e?"1em":u,u=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===u?u:u+""||"auto"}),function(){function e(){var e,n,r,i;n=de.getElementsByTagName("body")[0],n&&n.style&&(e=de.createElement("div"),r=de.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=u=!1,a=!0,t.getComputedStyle&&(o="1%"!==(t.getComputedStyle(e,null)||{}).top,u="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,i=e.appendChild(de.createElement("div")),i.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",e.style.width="1px",a=!parseFloat((t.getComputedStyle(i,null)||{}).marginRight)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=e.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,u,s,a;n=de.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],r=i&&i.style,r&&(r.cssText="float:left;opacity:.5",ne.opacity="0.5"===r.opacity,ne.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==s&&e(),s},boxSizingReliable:function(){return null==u&&e(),u},pixelPosition:function(){return null==o&&e(),o},reliableMarginRight:function(){return null==a&&e(),a}}))}(),ie.swap=function(t,e,n,r){var i,o,u={};for(o in e)u[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=u[o];return i};var un=/alpha\([^)]*\)/i,sn=/opacity\s*=\s*([^)]*)/,an=/^(none|table(?!-c[ea]).+)/,cn=new RegExp("^("+xe+")(.*)$","i"),ln=new RegExp("^([+-])=("+xe+")","i"),fn={position:"absolute",visibility:"hidden",display:"block"},hn={letterSpacing:"0",fontWeight:"400"},pn=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=en(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ne.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,u,s=ie.camelCase(e),a=t.style;if(e=ie.cssProps[s]||(ie.cssProps[s]=k(a,s)),u=ie.cssHooks[e]||ie.cssHooks[s],void 0===n)return u&&"get"in u&&void 0!==(i=u.get(t,!1,r))?i:a[e];if(o=typeof n,"string"===o&&(i=ln.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||ie.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==e.indexOf("background")||(a[e]="inherit"),!(u&&"set"in u&&void 0===(n=u.set(t,n,r)))))try{a[e]=n}catch(c){}}},css:function(t,e,n,r){var i,o,u,s=ie.camelCase(e);return e=ie.cssProps[s]||(ie.cssProps[s]=k(t.style,s)),u=ie.cssHooks[e]||ie.cssHooks[s],u&&"get"in u&&(o=u.get(t,!0,n)),void 0===o&&(o=en(t,e,r)),"normal"===o&&e in hn&&(o=hn[e]),""===n||n?(i=parseFloat(o),n===!0||ie.isNumeric(i)?i||0:o):o}}),ie.each(["height","width"],function(t,e){ie.cssHooks[e]={get:function(t,n,r){return n?an.test(ie.css(t,"display"))&&0===t.offsetWidth?ie.swap(t,fn,function(){return j(t,e,r)}):j(t,e,r):void 0},set:function(t,n,r){var i=r&&tn(t);return B(t,n,r?S(t,e,r,ne.boxSizing&&"border-box"===ie.css(t,"boxSizing",!1,i),i):0)}}}),ne.opacity||(ie.cssHooks.opacity={get:function(t,e){return sn.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,r=t.currentStyle,i=ie.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===ie.trim(o.replace(un,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||r&&!r.filter)||(n.filter=un.test(o)?o.replace(un,i):o+" "+i)}}),ie.cssHooks.marginRight=x(ne.reliableMarginRight,function(t,e){return e?ie.swap(t,{display:"inline-block"},en,[t,"marginRight"]):void 0}),ie.each({margin:"",padding:"",border:"Width"},function(t,e){ie.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+ke[r]+e]=o[r]||o[r-2]||o[0];return i}},nn.test(t)||(ie.cssHooks[t+e].set=B)}),ie.fn.extend({css:function(t,e){return Be(this,function(t,e,n){var r,i,o={},u=0;if(ie.isArray(e)){for(r=tn(t),i=e.length;i>u;u++)o[e[u]]=ie.css(t,e[u],!1,r);return o}return void 0!==n?ie.style(t,e,n):ie.css(t,e)},t,e,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Te(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=N,N.prototype={constructor:N,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ie.cssNumber[n]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,n=N.propHooks[this.prop];return this.pos=e=this.options.duration?ie.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=ie.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){ie.fx.step[t.prop]?ie.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[ie.cssProps[t.prop]]||ie.cssHooks[t.prop])?ie.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ie.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},ie.fx=N.prototype.init,ie.fx.step={};var dn,mn,gn=/^(?:toggle|show|hide)$/,vn=new RegExp("^(?:([+-])=|)("+xe+")([a-z%]*)$","i"),yn=/queueHooks$/,Dn=[R],bn={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=vn.exec(e),o=i&&i[3]||(ie.cssNumber[t]?"":"px"),u=(ie.cssNumber[t]||"px"!==o&&+r)&&vn.exec(ie.css(n.elem,t)),s=1,a=20;if(u&&u[3]!==o){o=o||u[3],i=i||[],u=+r||1;do s=s||".5",u/=s,ie.style(n.elem,t,u+o);while(s!==(s=n.cur()/r)&&1!==s&&--a)}return i&&(u=n.start=+u||+r||0,n.unit=o,n.end=i[1]?u+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(q,{tweener:function(t,e){ie.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],bn[n]=bn[n]||[],bn[n].unshift(e)},prefilter:function(t,e){e?Dn.unshift(t):Dn.push(t)}}),ie.speed=function(t,e,n){var r=t&&"object"==typeof t?ie.extend({},t):{complete:n||!n&&e||ie.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ie.isFunction(e)&&e};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Te).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=ie.isEmptyObject(t),o=ie.speed(e,n,r),u=function(){var e=q(this,ie.extend({},t),o);(i||ie._data(this,"finish"))&&e.stop(!0)};return u.finish=u,i||o.queue===!1?this.each(u):this.queue(o.queue,u)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=ie.timers,u=ie._data(this);if(i)u[i]&&u[i].stop&&r(u[i]);else for(i in u)u[i]&&u[i].stop&&yn.test(i)&&r(u[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&ie.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ie._data(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=ie.timers,u=r?r.length:0;for(n.finish=!0,ie.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;u>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(t,e){var n=ie.fn[e];ie.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(O(e,!0),t,r,i)}}),ie.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ie.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),ie.timers=[],ie.fx.tick=function(){var t,e=ie.timers,n=0;for(dn=ie.now();n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||ie.fx.stop(),dn=void 0},ie.fx.timer=function(t){ie.timers.push(t),t()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){mn||(mn=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(mn),mn=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(t,e){return t=ie.fx?ie.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},function(){var t,e,n,r,i;e=de.createElement("div"),e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=e.getElementsByTagName("a")[0],n=de.createElement("select"),i=n.appendChild(de.createElement("option")),t=e.getElementsByTagName("input")[0],r.style.cssText="top:1px",ne.getSetAttribute="t"!==e.className,ne.style=/top/.test(r.getAttribute("style")),ne.hrefNormalized="/a"===r.getAttribute("href"),ne.checkOn=!!t.value,ne.optSelected=i.selected,ne.enctype=!!de.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,t=de.createElement("input"),t.setAttribute("value",""),ne.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),ne.radioValue="t"===t.value}();var Fn=/\r/g;ie.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=ie.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,ie(this).val()):t,null==i?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(t){return null==t?"":t+""})),e=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Fn,""):null==n?"":n)}}}),ie.extend({valHooks:{option:{get:function(t){var e=ie.find.attr(t,"value");return null!=e?e:ie.trim(ie.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,u=o?null:[],s=o?i+1:r.length,a=0>i?s:o?i:0;s>a;a++)if(n=r[a],!(!n.selected&&a!==i||(ne.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ie.nodeName(n.parentNode,"optgroup"))){if(e=ie(n).val(),o)return e;u.push(e)}return u},set:function(t,e){for(var n,r,i=t.options,o=ie.makeArray(e),u=i.length;u--;)if(r=i[u],ie.inArray(ie.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(t.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(t,e){return ie.isArray(e)?t.checked=ie.inArray(ie(t).val(),e)>=0:void 0}},ne.checkOn||(ie.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var wn,En,Cn=ie.expr.attrHandle,An=/^(?:checked|selected)$/i,xn=ne.getSetAttribute,kn=ne.input;ie.fn.extend({attr:function(t,e){return Be(this,ie.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ie.removeAttr(this,t)})}}),ie.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Ee?ie.prop(t,e,n):(1===o&&ie.isXMLDoc(t)||(e=e.toLowerCase(),r=ie.attrHooks[e]||(ie.expr.match.bool.test(e)?En:wn)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=ie.find.attr(t,e),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void ie.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(De);if(o&&1===t.nodeType)for(;n=o[i++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)?kn&&xn||!An.test(n)?t[r]=!1:t[ie.camelCase("default-"+n)]=t[r]=!1:ie.attr(t,n,""),t.removeAttribute(xn?n:r)},attrHooks:{type:{set:function(t,e){if(!ne.radioValue&&"radio"===e&&ie.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),En={set:function(t,e,n){return e===!1?ie.removeAttr(t,n):kn&&xn||!An.test(n)?t.setAttribute(!xn&&ie.propFix[n]||n,n):t[ie.camelCase("default-"+n)]=t[n]=!0,n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Cn[e]||ie.find.attr;Cn[e]=kn&&xn||!An.test(e)?function(t,e,r){var i,o;return r||(o=Cn[e],Cn[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,Cn[e]=o),i}:function(t,e,n){return n?void 0:t[ie.camelCase("default-"+e)]?e.toLowerCase():null}}),kn&&xn||(ie.attrHooks.value={set:function(t,e,n){return ie.nodeName(t,"input")?void(t.defaultValue=e):wn&&wn.set(t,e,n)}}),xn||(wn={set:function(t,e,n){var r=t.getAttributeNode(n);return r||t.setAttributeNode(r=t.ownerDocument.createAttribute(n)),r.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},Cn.id=Cn.name=Cn.coords=function(t,e,n){var r;return n?void 0:(r=t.getAttributeNode(e))&&""!==r.value?r.value:null},ie.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:wn.set},ie.attrHooks.contenteditable={set:function(t,e,n){wn.set(t,""===e?!1:e,n)}},ie.each(["width","height"],function(t,e){ie.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),ne.style||(ie.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Tn=/^(?:input|select|textarea|button|object)$/i,Bn=/^(?:a|area)$/i;ie.fn.extend({prop:function(t,e){return Be(this,ie.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ie.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),ie.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var r,i,o,u=t.nodeType;if(t&&3!==u&&8!==u&&2!==u)return o=1!==u||!ie.isXMLDoc(t),o&&(e=ie.propFix[e]||e,i=ie.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=ie.find.attr(t,"tabindex");return e?parseInt(e,10):Tn.test(t.nodeName)||Bn.test(t.nodeName)&&t.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],function(t,e){ie.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ne.optSelected||(ie.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ne.enctype||(ie.propFix.enctype="encoding");var Sn=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(t){var e,n,r,i,o,u,s=0,a=this.length,c="string"==typeof t&&t;if(ie.isFunction(t))return this.each(function(e){ie(this).addClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(De)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Sn," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");u=ie.trim(r),n.className!==u&&(n.className=u)}return this},removeClass:function(t){var e,n,r,i,o,u,s=0,a=this.length,c=0===arguments.length||"string"==typeof t&&t;if(ie.isFunction(t))return this.each(function(e){ie(this).removeClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(De)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Sn," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");u=t?ie.trim(r):"",n.className!==u&&(n.className=u)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(ie.isFunction(t)?function(n){ie(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,r=0,i=ie(this),o=t.match(De)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===Ee||"boolean"===n)&&(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||t===!1?"":ie._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Sn," ").indexOf(e)>=0)return!0;return!1}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ie.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ie.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var jn=ie.now(),Nn=/\?/,Pn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,r=null,i=ie.trim(e+"");return i&&!ie.trim(i.replace(Pn,function(t,e,i,o){return n&&e&&(r=0),0===r?t:(n=i||e,r+=!o-!i,"")}))?Function("return "+i)():ie.error("Invalid JSON: "+e)},ie.parseXML=function(e){var n,r;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(r=new DOMParser,n=r.parseFromString(e,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+e),n};var On,$n,Rn=/#.*$/,Ln=/([?&])_=[^&]*/,qn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,In=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mn=/^(?:GET|HEAD)$/,_n=/^\/\//,Un=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hn={},Wn={},Vn="*/".concat("*");try{$n=location.href}catch(zn){$n=de.createElement("a"),$n.href="",$n=$n.href}On=Un.exec($n.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$n,type:"GET",isLocal:In.test(On[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?_(_(t,ie.ajaxSettings),e):_(ie.ajaxSettings,t)},ajaxPrefilter:I(Hn),ajaxTransport:I(Wn),ajax:function(t,e){function n(t,e,n,r){var i,l,v,y,b,w=e;2!==D&&(D=2,s&&clearTimeout(s),c=void 0,u=r||"",F.readyState=t>0?4:0,i=t>=200&&300>t||304===t,n&&(y=U(f,F,n)),y=H(f,y,F,i),i?(f.ifModified&&(b=F.getResponseHeader("Last-Modified"),b&&(ie.lastModified[o]=b),b=F.getResponseHeader("etag"),b&&(ie.etag[o]=b)),204===t||"HEAD"===f.type?w="nocontent":304===t?w="notmodified":(w=y.state,l=y.data,v=y.error,i=!v)):(v=w,(t||!w)&&(w="error",0>t&&(t=0))),F.status=t,F.statusText=(e||w)+"",i?d.resolveWith(h,[l,w,F]):d.rejectWith(h,[F,w,v]),F.statusCode(g),g=void 0,a&&p.trigger(i?"ajaxSuccess":"ajaxError",[F,f,i?l:v]),m.fireWith(h,[F,w]),a&&(p.trigger("ajaxComplete",[F,f]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,u,s,a,c,l,f=ie.ajaxSetup({},e),h=f.context||f,p=f.context&&(h.nodeType||h.jquery)?ie(h):ie.event,d=ie.Deferred(),m=ie.Callbacks("once memory"),g=f.statusCode||{},v={},y={},D=0,b="canceled",F={readyState:0,getResponseHeader:function(t){var e;if(2===D){if(!l)for(l={};e=qn.exec(u);)l[e[1].toLowerCase()]=e[2];e=l[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===D?u:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return D||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return D||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>D)for(e in t)g[e]=[g[e],t[e]];else F.always(t[F.status]);return this},abort:function(t){var e=t||b;return c&&c.abort(e),n(0,e),this}};if(d.promise(F).complete=m.add,F.success=F.done,F.error=F.fail,f.url=((t||f.url||$n)+"").replace(Rn,"").replace(_n,On[1]+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=ie.trim(f.dataType||"*").toLowerCase().match(De)||[""],null==f.crossDomain&&(r=Un.exec(f.url.toLowerCase()),f.crossDomain=!(!r||r[1]===On[1]&&r[2]===On[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(On[3]||("http:"===On[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ie.param(f.data,f.traditional)),M(Hn,f,e,F),2===D)return F;
a=f.global,a&&0===ie.active++&&ie.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Mn.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(Nn.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=Ln.test(o)?o.replace(Ln,"$1_="+jn++):o+(Nn.test(o)?"&":"?")+"_="+jn++)),f.ifModified&&(ie.lastModified[o]&&F.setRequestHeader("If-Modified-Since",ie.lastModified[o]),ie.etag[o]&&F.setRequestHeader("If-None-Match",ie.etag[o])),(f.data&&f.hasContent&&f.contentType!==!1||e.contentType)&&F.setRequestHeader("Content-Type",f.contentType),F.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Vn+"; q=0.01":""):f.accepts["*"]);for(i in f.headers)F.setRequestHeader(i,f.headers[i]);if(f.beforeSend&&(f.beforeSend.call(h,F,f)===!1||2===D))return F.abort();b="abort";for(i in{success:1,error:1,complete:1})F[i](f[i]);if(c=M(Wn,f,e,F)){F.readyState=1,a&&p.trigger("ajaxSend",[F,f]),f.async&&f.timeout>0&&(s=setTimeout(function(){F.abort("timeout")},f.timeout));try{D=1,c.send(v,n)}catch(w){if(!(2>D))throw w;n(-1,w)}}else n(-1,"No Transport");return F},getJSON:function(t,e,n){return ie.get(t,e,n,"json")},getScript:function(t,e){return ie.get(t,void 0,e,"script")}}),ie.each(["get","post"],function(t,e){ie[e]=function(t,n,r,i){return ie.isFunction(n)&&(i=i||r,r=n,n=void 0),ie.ajax({url:t,type:e,dataType:i,data:n,success:r})}}),ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ie.fn[e]=function(t){return this.on(e,t)}}),ie._evalUrl=function(t){return ie.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ie.fn.extend({wrapAll:function(t){if(ie.isFunction(t))return this.each(function(e){ie(this).wrapAll(t.call(this,e))});if(this[0]){var e=ie(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(ie.isFunction(t)?function(e){ie(this).wrapInner(t.call(this,e))}:function(){var e=ie(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ie.isFunction(t);return this.each(function(n){ie(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||ie.css(t,"display"))},ie.expr.filters.visible=function(t){return!ie.expr.filters.hidden(t)};var Gn=/%20/g,Qn=/\[\]$/,Kn=/\r?\n/g,Xn=/^(?:submit|button|image|reset|file)$/i,Jn=/^(?:input|select|textarea|keygen)/i;ie.param=function(t,e){var n,r=[],i=function(t,e){e=ie.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(t)||t.jquery&&!ie.isPlainObject(t))ie.each(t,function(){i(this.name,this.value)});else for(n in t)W(n,t[n],e,i);return r.join("&").replace(Gn,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ie.prop(this,"elements");return t?ie.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ie(this).is(":disabled")&&Jn.test(this.nodeName)&&!Xn.test(t)&&(this.checked||!Se.test(t))}).map(function(t,e){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(t){return{name:e.name,value:t.replace(Kn,"\r\n")}}):{name:e.name,value:n.replace(Kn,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&V()||z()}:V;var Yn=0,Zn={},tr=ie.ajaxSettings.xhr();t.ActiveXObject&&ie(t).on("unload",function(){for(var t in Zn)Zn[t](void 0,!0)}),ne.cors=!!tr&&"withCredentials"in tr,tr=ne.ajax=!!tr,tr&&ie.ajaxTransport(function(t){if(!t.crossDomain||ne.cors){var e;return{send:function(n,r){var i,o=t.xhr(),u=++Yn;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(t.hasContent&&t.data||null),e=function(n,i){var s,a,c;if(e&&(i||4===o.readyState))if(delete Zn[u],e=void 0,o.onreadystatechange=ie.noop,i)4!==o.readyState&&o.abort();else{c={},s=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{a=o.statusText}catch(l){a=""}s||!t.isLocal||t.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&r(s,a,c,o.getAllResponseHeaders())},t.async?4===o.readyState?setTimeout(e):o.onreadystatechange=Zn[u]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return ie.globalEval(t),t}}}),ie.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ie.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=de.head||ie("head")[0]||de.documentElement;return{send:function(r,i){e=de.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||i(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var er=[],nr=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=er.pop()||ie.expando+"_"+jn++;return this[t]=!0,t}}),ie.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,u,s=e.jsonp!==!1&&(nr.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nr.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=ie.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(nr,"$1"+i):e.jsonp!==!1&&(e.url+=(Nn.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return u||ie.error(i+" was not called"),u[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){u=arguments},r.always(function(){t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,er.push(i)),u&&ie.isFunction(o)&&o(u[0]),u=o=void 0}),"script"):void 0}),ie.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||de;var r=fe.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=ie.buildFragment([t],e,i),i&&i.length&&ie(i).remove(),ie.merge([],r.childNodes))};var rr=ie.fn.load;ie.fn.load=function(t,e,n){if("string"!=typeof t&&rr)return rr.apply(this,arguments);var r,i,o,u=this,s=t.indexOf(" ");return s>=0&&(r=ie.trim(t.slice(s,t.length)),t=t.slice(0,s)),ie.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),u.length>0&&ie.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){i=arguments,u.html(r?ie("<div>").append(ie.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){u.each(n,i||[t.responseText,e,t])}),this},ie.expr.filters.animated=function(t){return ie.grep(ie.timers,function(e){return t===e.elem}).length};var ir=t.document.documentElement;ie.offset={setOffset:function(t,e,n){var r,i,o,u,s,a,c,l=ie.css(t,"position"),f=ie(t),h={};"static"===l&&(t.style.position="relative"),s=f.offset(),o=ie.css(t,"top"),a=ie.css(t,"left"),c=("absolute"===l||"fixed"===l)&&ie.inArray("auto",[o,a])>-1,c?(r=f.position(),u=r.top,i=r.left):(u=parseFloat(o)||0,i=parseFloat(a)||0),ie.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(h.top=e.top-s.top+u),null!=e.left&&(h.left=e.left-s.left+i),"using"in e?e.using.call(t,h):f.css(h)}},ie.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ie.offset.setOffset(this,t,e)});var e,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return e=o.documentElement,ie.contains(e,i)?(typeof i.getBoundingClientRect!==Ee&&(r=i.getBoundingClientRect()),n=G(o),{top:r.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:r.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):r},position:function(){if(this[0]){var t,e,n={top:0,left:0},r=this[0];return"fixed"===ie.css(r,"position")?e=r.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ie.nodeName(t[0],"html")||(n=t.offset()),n.top+=ie.css(t[0],"borderTopWidth",!0),n.left+=ie.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ie.css(r,"marginTop",!0),left:e.left-n.left-ie.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||ir;t&&!ie.nodeName(t,"html")&&"static"===ie.css(t,"position");)t=t.offsetParent;return t||ir})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);ie.fn[t]=function(r){return Be(this,function(t,r,i){var o=G(t);return void 0===i?o?e in o?o[e]:o.document.documentElement[r]:t[r]:void(o?o.scrollTo(n?ie(o).scrollLeft():i,n?i:ie(o).scrollTop()):t[r]=i)},t,r,arguments.length,null)}}),ie.each(["top","left"],function(t,e){ie.cssHooks[e]=x(ne.pixelPosition,function(t,n){return n?(n=en(t,e),rn.test(n)?ie(t).position()[e]+"px":n):void 0})}),ie.each({Height:"height",Width:"width"},function(t,e){ie.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){ie.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),u=n||(r===!0||i===!0?"margin":"border");return Be(this,function(e,n,r){var i;return ie.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?ie.css(e,n,u):ie.style(e,n,r,u)},e,o?r:void 0,o,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var or=t.jQuery,ur=t.$;return ie.noConflict=function(e){return t.$===ie&&(t.$=ur),e&&t.jQuery===ie&&(t.jQuery=or),ie},typeof e===Ee&&(t.jQuery=t.$=ie),ie}),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,r=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},refreshCSRFTokens:function(){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t('form input[name="'+n+'"]').val(e)},fire:function(e,n,r){var i=t.Event(n);return e.trigger(i,r),i.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(r){var i,o,u,s,a,c,l,f;if(n.fire(r,"ajax:before")){if(s=r.data("cross-domain"),a=s===e?null:s,c=r.data("with-credentials")||null,l=r.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,r.is("form")){i=r.attr("method"),o=r.attr("action"),u=r.serializeArray();var h=r.data("ujs:submit-button");h&&(u.push(h),r.data("ujs:submit-button",null))}else r.is(n.inputChangeSelector)?(i=r.data("method"),o=r.data("url"),u=r.serialize(),r.data("params")&&(u=u+"&"+r.data("params"))):r.is(n.buttonClickSelector)?(i=r.data("method")||"get",o=r.data("url"),u=r.serialize(),r.data("params")&&(u=u+"&"+r.data("params"))):(i=r.data("method"),o=n.href(r),u=r.data("params")||null);return f={type:i||"GET",data:u,dataType:l,beforeSend:function(t,i){return i.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),n.fire(r,"ajax:beforeSend",[t,i])?void r.trigger("ajax:send",t):!1},success:function(t,e,n){r.trigger("ajax:success",[t,e,n])},complete:function(t,e){r.trigger("ajax:complete",[t,e])},error:function(t,e,n){r.trigger("ajax:error",[t,e,n])},crossDomain:a},c&&(f.xhrFields={withCredentials:c}),o&&(f.url=o),n.ajax(f)}return!1},handleMethod:function(r){var i=n.href(r),o=r.data("method"),u=r.attr("target"),s=t("meta[name=csrf-token]").attr("content"),a=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+i+'"></form>'),l='<input name="_method" value="'+o+'" type="hidden" />';a!==e&&s!==e&&(l+='<input name="'+a+'" value="'+s+'" type="hidden" />'),u&&c.attr("target",u),c.hide().append(l).appendTo("body"),c.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,r;n=t.is("button")?"html":"val",r=t.data("disable-with"),t.data("ujs:enable-with",t[n]()),r!==e&&t[n](r),t.prop("disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[e](t.data("ujs:enable-with")),t.prop("disabled",!1)},allowAction:function(t){var e,r=t.data("confirm"),i=!1;return r?(n.fire(t,"confirm")&&(i=n.confirm(r),e=n.fire(t,"confirm:complete",[i])),i&&e):!0},blankInputs:function(e,n,r){var i,o,u=t(),s=n||"input,textarea",a=e.find(s);return a.each(function(){if(i=t(this),o=i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):i.val(),!o==!r){if(i.is("input[type=radio]")&&a.filter('input[type=radio]:checked[name="'+i.attr("name")+'"]').length)return!0;u=u.add(i)}}),u.length?u:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var r=t.data("disable-with");t.data("ujs:enable-with",t.html()),r!==e&&t.html(r),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},n.fire(r,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,r){t.crossDomain||n.CSRFProtection(r)}),r.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),r.delegate(n.buttonDisableSelector,"ajax:complete",function(){n.enableFormElement(t(this))}),r.delegate(n.linkClickSelector,"click.rails",function(r){var i=t(this),o=i.data("method"),u=i.data("params"),s=r.metaKey||r.ctrlKey;if(!n.allowAction(i))return n.stopEverything(r);if(!s&&i.is(n.linkDisableSelector)&&n.disableElement(i),i.data("remote")!==e){if(s&&(!o||"GET"===o)&&!u)return!0;var a=n.handleRemote(i);return a===!1?n.enableElement(i):a.error(function(){n.enableElement(i)}),!1}return i.data("method")?(n.handleMethod(i),!1):void 0}),r.delegate(n.buttonClickSelector,"click.rails",function(e){var r=t(this);if(!n.allowAction(r))return n.stopEverything(e);r.is(n.buttonDisableSelector)&&n.disableFormElement(r);var i=n.handleRemote(r);return i===!1?n.enableFormElement(r):i.error(function(){n.enableFormElement(r)}),!1}),r.delegate(n.inputChangeSelector,"change.rails",function(e){var r=t(this);return n.allowAction(r)?(n.handleRemote(r),!1):n.stopEverything(e)}),r.delegate(n.formSubmitSelector,"submit.rails",function(r){var i,o,u=t(this),s=u.data("remote")!==e;if(!n.allowAction(u))return n.stopEverything(r);if(u.attr("novalidate")==e&&(i=n.blankInputs(u,n.requiredInputSelector),i&&n.fire(u,"ajax:aborted:required",[i])))return n.stopEverything(r);if(s){if(o=n.nonBlankInputs(u,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(u)},13);var a=n.fire(u,"ajax:aborted:file",[o]);return a||setTimeout(function(){n.enableFormElements(u)},13),a}return n.handleRemote(u),!1}setTimeout(function(){n.disableFormElements(u)},13)}),r.delegate(n.formInputClickSelector,"click.rails",function(e){var r=t(this);if(!n.allowAction(r))return n.stopEverything(e);var i=r.attr("name"),o=i?{name:i,value:r.val()}:null;r.closest("form").data("ujs:submit-button",o)}),r.delegate(n.formSubmitSelector,"ajax:send.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),r.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,r=this;t(this).one(t.support.transition.end,function(){n=!0});var i=function(){n||t(r).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e()})}(jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){o.trigger("closed.bs.alert").remove()}var r=t(this),i=r.attr("data-target");i||(i=r.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var o=t(i);e&&e.preventDefault(),o.length||(o=r.hasClass("alert")?r:r.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one(t.support.transition.end,n).emulateTransitionEnd(150):n())};var r=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var r=t(this),i=r.data("bs.alert");i||r.data("bs.alert",i=new n(this)),"string"==typeof e&&i[e].call(r)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),+function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var n=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var r=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show().scrollTop(0),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=t.Event("shown.bs.modal",{relatedTarget:e});r?n.$element.find(".modal-dialog").one(t.support.transition.end,function(){n.$element.focus().trigger(i)}).emulateTransitionEnd(300):n.$element.focus().trigger(i)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var n=t.fn.modal;t.fn.modal=function(n,r){return this.each(function(){var i=t(this),o=i.data("bs.modal"),u=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);o||i.data("bs.modal",o=new e(this,u)),"string"==typeof n?o[n](r):u.show&&o.show(r)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),r=n.attr("href"),i=t(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},i.data(),n.data());n.is("a")&&e.preventDefault(),i.modal(o,this).one("hide",function(){n.is(":visible")&&n.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),+function(t){"use strict";function e(e){t(r).remove(),t(i).each(function(){var r=n(t(this)),i={relatedTarget:this};r.hasClass("open")&&(r.trigger(e=t.Event("hide.bs.dropdown",i)),e.isDefaultPrevented()||r.removeClass("open").trigger("hidden.bs.dropdown",i))})}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&t(n);return r&&r.length?r:e.parent()}var r=".dropdown-backdrop",i="[data-toggle=dropdown]",o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.prototype.toggle=function(r){var i=t(this);if(!i.is(".disabled, :disabled")){var o=n(i),u=o.hasClass("open");if(e(),!u){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var s={relatedTarget:this};if(o.trigger(r=t.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;o.toggleClass("open").trigger("shown.bs.dropdown",s),i.focus()}return!1}},o.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var r=t(this);if(e.preventDefault(),e.stopPropagation(),!r.is(".disabled, :disabled")){var o=n(r),u=o.hasClass("open");if(!u||u&&27==e.keyCode)return 27==e.which&&o.find(i).focus(),r.click();var s=" li:not(.divider):visible a",a=o.find("[role=menu]"+s+", [role=listbox]"+s);if(a.length){var c=a.index(a.filter(":focus"));38==e.keyCode&&c>0&&c--,40==e.keyCode&&c<a.length-1&&c++,~c||(c=0),a.eq(c).focus()}}}};var u=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new o(this)),"string"==typeof e&&r[e].call(n)})},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=u,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",i,o.prototype.toggle).on("keydown.bs.dropdown.data-api",i+", [role=menu], [role=listbox]",o.prototype.keydown)}(jQuery),+function(t){"use strict";function e(n,r){var i,o=t.proxy(this.process,this);this.$element=t(t(n).is("body")?window:n),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",o),this.options=t.extend({},e.DEFAULTS,r),this.selector=(this.options.target||(i=t(n).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);{var n=this;this.$body.find(this.selector).map(function(){var r=t(this),i=r.data("target")||r.attr("href"),o=/^#./.test(i)&&t(i);return o&&o.length&&o.is(":visible")&&[[o[e]().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})}},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,r=n-this.$scrollElement.height(),i=this.offsets,o=this.targets,u=this.activeTarget;if(e>=r)return u!=(t=o.last()[0])&&this.activate(t);if(u&&e<=i[0])return u!=(t=o[0])&&this.activate(t);for(t=i.length;t--;)u!=o[t]&&e>=i[t]&&(!i[t+1]||e<=i[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',r=t(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var r=t(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),r=e.data("target");if(r||(r=e.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:i});if(e.trigger(o),!o.isDefaultPrevented()){var u=t(r);this.activate(e.parent("li"),n),this.activate(u,u.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},e.prototype.activate=function(e,n,r){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),u?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),r&&r()}var o=n.find("> .active"),u=r&&t.support.transition&&o.hasClass("fade");u?o.one(t.support.transition.end,i).emulateTransitionEnd(150):i(),o.removeClass("in")};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var r=t(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new e(this)),"string"==typeof n&&i[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,n,r){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(r);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var u=i[o];if("click"==u)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=u){var s="hover"==u?"mouseenter":"focusin",a="hover"==u?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,r){n[t]!=r&&(e[t]=r)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var n=this,r=this.tip();this.setContent(),this.options.animation&&r.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,u=o.test(i);u&&(i=i.replace(o,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var s=this.getPosition(),a=r[0].offsetWidth,c=r[0].offsetHeight;if(u){var l=this.$element.parent(),f=i,h=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:l.outerWidth(),d="body"==this.options.container?window.innerHeight:l.outerHeight(),m="body"==this.options.container?0:l.offset().left;i="bottom"==i&&s.top+s.height+c-h>d?"top":"top"==i&&s.top-h-c<0?"bottom":"right"==i&&s.right+a>p?"left":"left"==i&&s.left-a<m?"right":i,r.removeClass(f).addClass(i)}var g=this.getCalculatedOffset(i,s,a,c);this.applyPlacement(g,i),this.hoverState=null;var v=function(){n.$element.trigger("shown.bs."+n.type)};t.support.transition&&this.$tip.hasClass("fade")?r.one(t.support.transition.end,v).emulateTransitionEnd(150):v()}},e.prototype.applyPlacement=function(e,n){var r,i=this.tip(),o=i[0].offsetWidth,u=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top=e.top+s,e.left=e.left+a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var c=i[0].offsetWidth,l=i[0].offsetHeight;if("top"==n&&l!=u&&(r=!0,e.top=e.top+u-l),/bottom|top/.test(n)){var f=0;e.left<0&&(f=-2*e.left,e.left=0,i.offset(e),c=i[0].offsetWidth,l=i[0].offsetHeight),this.replaceArrow(f-o+c,c,"left")}else this.replaceArrow(l-u,l,"top");r&&i.offset(e)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")
},e.prototype.hide=function(){function e(){"in"!=n.hoverState&&r.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,r=this.tip(),i=t.Event("hide.bs."+this.type);return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(r.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?r.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,n,r){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-r,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-r/2,left:e.left-n}:{top:e.top+e.height/2-r/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var r=t(this),i=r.data("bs.tooltip"),o="object"==typeof n&&n;(i||"destroy"!=n)&&(i||r.data("bs.tooltip",i=new e(this,o)),"string"==typeof n&&i[n]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var r=t(this),i=r.data("bs.popover"),o="object"==typeof n&&n;(i||"destroy"!=n)&&(i||r.data("bs.popover",i=new e(this,o)),"string"==typeof n&&i[n]())})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),+function(t){"use strict";var e=function(n,r){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,r),this.isLoading=!1};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(e){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();e+="Text",o.resetText||r.data("resetText",r[i]()),r[i](o[e]||this.options[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},e.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var r=t(this),i=r.data("bs.button"),o="object"==typeof n&&n;i||r.data("bs.button",i=new e(this,o)),"toggle"==n?i.toggle():n&&i.setState(n)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),e.preventDefault()})}(jQuery),+function(t){"use strict";var e=function(n,r){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var r=n.data("bs.collapse");if(r&&r.transitioning)return;n.collapse("hide"),r||n.data("bs.collapse",null)}var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return o.call(this);var u=t.camelCase(["scroll",i].join("-"));this.$element.one(t.support.transition.end,t.proxy(o,this)).emulateTransitionEnd(350)[i](this.$element[0][u])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[n](0).one(t.support.transition.end,t.proxy(r,this)).emulateTransitionEnd(350):r.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var r=t(this),i=r.data("bs.collapse"),o=t.extend({},e.DEFAULTS,r.data(),"object"==typeof n&&n);!i&&o.toggle&&"show"==n&&(n=!n),i||r.data("bs.collapse",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var n,r=t(this),i=r.attr("data-target")||e.preventDefault()||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=t(i),u=o.data("bs.collapse"),s=u?"toggle":r.data(),a=r.attr("data-parent"),c=a&&t(a);u&&u.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+a+'"]').not(r).addClass("collapsed"),r[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),o.collapse(s)})}(jQuery),+function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var n=this,r=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(e)}):r==e?this.pause().cycle():this.slide(e>r?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,n){var r=this.$element.find(".item.active"),i=n||r[e](),o=this.interval,u="next"==e?"left":"right",s="next"==e?"first":"last",a=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[s]()}if(i.hasClass("active"))return this.sliding=!1;var c=t.Event("slide.bs.carousel",{relatedTarget:i[0],direction:u});return this.$element.trigger(c),c.isDefaultPrevented()?void 0:(this.sliding=!0,o&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var e=t(a.$indicators.children()[a.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")?(i.addClass(e),i[0].offsetWidth,r.addClass(u),i.addClass(u),r.one(t.support.transition.end,function(){i.removeClass([e,u].join(" ")).addClass("active"),r.removeClass(["active",u].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*r.css("transition-duration").slice(0,-1))):(r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),o&&this.cycle(),this)};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var r=t(this),i=r.data("bs.carousel"),o=t.extend({},e.DEFAULTS,r.data(),"object"==typeof n&&n),u="string"==typeof n?n:o.slide;i||r.data("bs.carousel",i=new e(this,o)),"number"==typeof n?i.to(n):u?i[u]():o.interval&&i.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,r=t(this),i=t(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),o=t.extend({},i.data(),r.data()),u=r.attr("data-slide-to");u&&(o.interval=!1),i.carousel(o),(u=r.attr("data-slide-to"))&&i.data("bs.carousel").to(u),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),+function(t){"use strict";var e=function(n,r){this.options=t.extend({},e.DEFAULTS,r),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$window.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-t},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=t(document).height(),r=this.$window.scrollTop(),i=this.$element.offset(),o=this.options.offset,u=o.top,s=o.bottom;"top"==this.affixed&&(i.top+=r),"object"!=typeof o&&(s=u=o),"function"==typeof u&&(u=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var a=null!=this.unpin&&r+this.unpin<=i.top?!1:null!=s&&i.top+this.$element.height()>=n-s?"bottom":null!=u&&u>=r?"top":!1;if(this.affixed!==a){this.unpin&&this.$element.css("top","");var c="affix"+(a?"-"+a:""),l=t.Event(c+".bs.affix");this.$element.trigger(l),l.isDefaultPrevented()||(this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(c).trigger(t.Event(c.replace("affix","affixed"))),"bottom"==a&&this.$element.offset({top:n-s-this.$element.height()}))}}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var r=t(this),i=r.data("bs.affix"),o="object"==typeof n&&n;i||r.data("bs.affix",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(jQuery),function(t){function e(t,e,n){if((t[e]||t[n])&&t[e]===t[n])throw Error("(Link) '"+e+"' can't match '"+n+"'.'")}function n(n){if(void 0===n&&(n={}),"object"!=typeof n)throw Error("(Format) 'format' option must be an object.");var r={};t(i).each(function(t,e){if(void 0===n[e])r[e]=o[t];else{if(typeof n[e]!=typeof o[t])throw Error("(Format) 'format."+e+"' must be a "+typeof o[t]+".");if("decimals"===e&&(0>n[e]||7<n[e]))throw Error("(Format) 'format.decimals' option must be between 0 and 7.");r[e]=n[e]}}),e(r,"mark","thousand"),e(r,"prefix","negative"),e(r,"prefix","negativeBefore"),this.r=r}function r(e,n){return"object"!=typeof e&&t.error("(Link) Initialize with an object."),new r.prototype.p(e.target||function(){},e.method,e.format||{},n)}var i="decimals mark thousand prefix postfix encoder decoder negative negativeBefore to from".split(" "),o=[2,".","","","",function(t){return t},function(t){return t},"-","",function(t){return t},function(t){return t}];n.prototype.a=function(t){return this.r[t]},n.prototype.L=function(t){function e(t){return t.split("").reverse().join("")}t=this.a("encoder")(t);var n=this.a("decimals"),r="",i="",o="",u="";return 0===parseFloat(t.toFixed(n))&&(t="0"),0>t&&(r=this.a("negative"),i=this.a("negativeBefore")),t=Math.abs(t).toFixed(n).toString(),t=t.split("."),this.a("thousand")?(o=e(t[0]).match(/.{1,3}/g),o=e(o.join(e(this.a("thousand"))))):o=t[0],this.a("mark")&&1<t.length&&(u=this.a("mark")+t[1]),this.a("to")(i+this.a("prefix")+r+o+u+this.a("postfix"))},n.prototype.w=function(t){function e(t){return t.replace(/[\-\/\\\^$*+?.()|\[\]{}]/g,"\\$&")}var n;return null===t||void 0===t?!1:(t=this.a("from")(t),t=t.toString(),n=t.replace(RegExp("^"+e(this.a("negativeBefore"))),""),t!==n?(t=n,n="-"):n="",t=t.replace(RegExp("^"+e(this.a("prefix"))),""),this.a("negative")&&(n="",t=t.replace(RegExp("^"+e(this.a("negative"))),"-")),t=t.replace(RegExp(e(this.a("postfix"))+"$"),"").replace(RegExp(e(this.a("thousand")),"g"),"").replace(this.a("mark"),"."),t=this.a("decoder")(parseFloat(n+t)),isNaN(t)?!1:t)},r.prototype.K=function(e,n){this.method=n||"html",this.j=t(e.replace("-tooltip-","")||"<div/>")[0]},r.prototype.H=function(t){this.method="val",this.j=document.createElement("input"),this.j.name=t,this.j.type="hidden"},r.prototype.G=function(e){function n(t,e){return[e?null:t,e?t:null]}var r=this;this.method="val",this.target=e.on("change",function(e){r.B.val(n(t(e.target).val(),r.t),{link:r,set:!0})})},r.prototype.p=function(e,n,r,i){if(this.g=r,this.update=!i,"string"==typeof e&&0===e.indexOf("-tooltip-"))this.K(e,n);else if("string"==typeof e&&0!==e.indexOf("-"))this.H(e);else{if("function"!=typeof e){if(e instanceof t||t.zepto&&t.zepto.isZ(e)){if(!n){if(e.is("input, select, textarea"))return void this.G(e);n="html"}if("function"==typeof n||"string"==typeof n&&e[n])return this.method=n,void(this.target=e)}throw new RangeError("(Link) Invalid Link.")}this.target=!1,this.method=e}},r.prototype.write=function(t,e,n,r){this.update&&!1===r||(this.u=t,this.F=t=this.format(t),"function"==typeof this.method?this.method.call(this.target[0]||n[0],t,e,n):this.target[this.method](t,e,n))},r.prototype.q=function(e){this.g=new n(t.extend({},e,this.g instanceof n?this.g.r:this.g))},r.prototype.J=function(t){this.B=t},r.prototype.I=function(t){this.t=t},r.prototype.format=function(t){return this.g.L(t)},r.prototype.A=function(t){return this.g.w(t)},r.prototype.p.prototype=r.prototype,t.Link=r}(window.jQuery||window.Zepto),function(t){function e(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function n(e){return t.isArray(e)?e:[e]}function r(t,e){t.addClass(e),setTimeout(function(){t.removeClass(e)},300)}function i(t,e){return 100*e/(t[1]-t[0])}function o(t,e){if(e>=t.d.slice(-1)[0])return 100;for(var n,r,o,u=1;e>=t.d[u];)u++;return n=t.d[u-1],r=t.d[u],o=t.c[u-1],n=[n,r],o+i(n,0>n[0]?e+Math.abs(n[0]):e-n[0])/(100/(t.c[u]-o))}function u(t,e){if(e>=100)return t.d.slice(-1)[0];for(var n,r,i,o=1;e>=t.c[o];)o++;return n=t.d[o-1],r=t.d[o],i=t.c[o-1],n=[n,r],100/(t.c[o]-i)*(e-i)*(n[1]-n[0])/100+n[0]}function s(t,e){for(var n,r=1;(t.dir?100-e:e)>=t.c[r];)r++;return t.m?(n=t.c[r-1],r=t.c[r],e-n>(r-n)/2?r:n):(t.h[r-1]?(n=t.h[r-1],r=t.c[r-1]+Math.round((e-t.c[r-1])/n)*n):r=e,r)}function a(t,n){if(!e(n))throw Error("noUiSlider: 'step' is not numeric.");t.h[0]=n}function c(n,r){if("object"!=typeof r||t.isArray(r))throw Error("noUiSlider: 'range' is not an object.");if(void 0===r.min||void 0===r.max)throw Error("noUiSlider: Missing 'min' or 'max' in 'range'.");t.each(r,function(r,i){var o;if("number"==typeof i&&(i=[i]),!t.isArray(i))throw Error("noUiSlider: 'range' contains invalid value.");if(o="min"===r?0:"max"===r?100:parseFloat(r),!e(o)||!e(i[0]))throw Error("noUiSlider: 'range' value isn't numeric.");n.c.push(o),n.d.push(i[0]),o?n.h.push(isNaN(i[1])?!1:i[1]):isNaN(i[1])||(n.h[0]=i[1])}),t.each(n.h,function(t,e){return e?void(n.h[t]=i([n.d[t],n.d[t+1]],e)/(100/(n.c[t+1]-n.c[t]))):!0})}function l(e,n){if("number"==typeof n&&(n=[n]),!t.isArray(n)||!n.length||2<n.length)throw Error("noUiSlider: 'start' option is incorrect.");e.b=n.length,e.start=n}function f(t,e){if(t.m=e,"boolean"!=typeof e)throw Error("noUiSlider: 'snap' option must be a boolean.")}function h(t,e){if("lower"===e&&1===t.b)t.i=1;else if("upper"===e&&1===t.b)t.i=2;else if(!0===e&&2===t.b)t.i=3;else{if(!1!==e)throw Error("noUiSlider: 'connect' option doesn't match handle count.");t.i=0}}function p(t,e){switch(e){case"horizontal":t.k=0;break;case"vertical":t.k=1;break;default:throw Error("noUiSlider: 'orientation' option is invalid.")}}function d(t,n){if(2<t.c.length)throw Error("noUiSlider: 'margin' option is only supported on linear sliders.");if(t.margin=i(t.d,n),!e(n))throw Error("noUiSlider: 'margin' option must be numeric.")}function m(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1,t.i=[0,2,1,3][t.i];break;default:throw Error("noUiSlider: 'direction' option was not recognized.")}}function g(t,e){if("string"!=typeof e)throw Error("noUiSlider: 'behaviour' must be a string containing options.");var n=0<=e.indexOf("snap");t.n={s:0<=e.indexOf("tap")||n,extend:0<=e.indexOf("extend"),v:0<=e.indexOf("drag"),fixed:0<=e.indexOf("fixed"),m:n}}function v(e,n,r){e.o=[n.lower,n.upper],e.g=n.format,t.each(e.o,function(e,i){if(!t.isArray(i))throw Error("noUiSlider: 'serialization."+(e?"upper":"lower")+"' must be an array.");t.each(i,function(){if(!(this instanceof t.Link))throw Error("noUiSlider: 'serialization."+(e?"upper":"lower")+"' can only contain Link instances.");this.I(e),this.J(r),this.q(n.format)})}),e.dir&&1<e.b&&e.o.reverse()}function y(e,n){var r,i={c:[],d:[],h:[!1],margin:0};return r={step:{e:!1,f:a},start:{e:!0,f:l},connect:{e:!0,f:h},direction:{e:!0,f:m},range:{e:!0,f:c},snap:{e:!1,f:f},orientation:{e:!1,f:p},margin:{e:!1,f:d},behaviour:{e:!0,f:g},serialization:{e:!0,f:v}},e=t.extend({connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},e),e.serialization=t.extend({lower:[],upper:[],format:{}},e.serialization),t.each(r,function(t,r){if(void 0===e[t]){if(r.e)throw Error("noUiSlider: '"+t+"' is required.");return!0}r.f(i,e[t],n)}),i.style=i.k?"top":"left",i}function D(e,n){var r=t("<div><div/></div>").addClass(N[2]),i=["-lower","-upper"];return e.dir&&i.reverse(),r.children().addClass(N[3]+" "+N[3]+i[n]),r}function b(e,n){return n.j&&(n=new t.Link({target:t(n.j).clone().appendTo(e),method:n.method,format:n.g},!0)),n}function F(e,n){var r,i=[];for(r=0;r<e.b;r++){var o=i,u=r,s=e.o[r],a=n[r].children(),c=e.g,l=void 0,f=[],l=new t.Link({},!0);for(l.q(c),f.push(l),l=0;l<s.length;l++)f.push(b(a,s[l]));o[u]=f}return i}function w(t,e,n){switch(t){case 1:e.addClass(N[7]),n[0].addClass(N[6]);break;case 3:n[1].addClass(N[6]);case 2:n[0].addClass(N[7]);case 0:e.addClass(N[6])}}function E(t,e){var n,r=[];for(n=0;n<t.b;n++)r.push(D(t,n).appendTo(e));return r}function C(e,n){return n.addClass([N[0],N[8+e.dir],N[4+e.k]].join(" ")),t("<div/>").appendTo(n).addClass(N[1])}function A(e,i,a){function c(){return D[["width","height"][i.k]]()}function l(t){var e,n=[x.val()];for(e=0;e<t.length;e++)x.trigger(t[e],n)}function f(e,n,r){var o=e[0]!==A[0][0]?1:0,a=k[0]+i.margin,c=k[1]-i.margin;return r&&1<A.length&&(n=o?Math.max(n,a):Math.min(n,c)),100>n&&(n=s(i,n)),n=Math.max(Math.min(parseFloat(n.toFixed(7)),100),0),n===k[o]?1===A.length?!1:n===a||n===c?0:!1:(e.css(i.style,n+"%"),e.is(":first-child")&&e.toggleClass(N[17],n>50),k[o]=n,i.dir&&(n=100-n),t(b[o]).each(function(){this.write(u(i,n),e.children(),x)}),!0)}function h(t,e,n){n||r(x,N[14]),f(t,e,!1),l(["slide","set","change"])}function p(t,e,n,r){t=t.replace(/\s/g,".nui ")+".nui",e.on(t,function(t){var e=x.attr("disabled");if(x.hasClass(N[14])||void 0!==e&&null!==e)return!1;t.preventDefault();var o,u,e=0===t.type.indexOf("touch"),s=0===t.type.indexOf("mouse"),a=0===t.type.indexOf("pointer"),c=t;0===t.type.indexOf("MSPointer")&&(a=!0),t.originalEvent&&(t=t.originalEvent),e&&(o=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY),(s||a)&&(a||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),o=t.clientX+window.pageXOffset,u=t.clientY+window.pageYOffset),c.C=[o,u],c.cursor=s,t=c,t.l=t.C[i.k],n(t,r)})}function d(t,e){var n,r=e.b||A,i=!1,i=100*(t.l-e.start)/c(),o=r[0][0]!==A[0][0]?1:0,u=e.D;n=i+u[0],i+=u[1],1<r.length?(0>n&&(i+=Math.abs(n)),i>100&&(n-=i-100),n=[Math.max(Math.min(n,100),0),Math.max(Math.min(i,100),0)]):n=[n,i],i=f(r[0],n[o],1===r.length),1<r.length&&(i=f(r[1],n[o?0:1],!1)||i),i&&l(["slide"])}function m(e){t("."+N[15]).removeClass(N[15]),e.cursor&&t("body").css("cursor","").off(".nui"),B.off(".nui"),x.removeClass(N[12]),l(["set","change"])}function g(e,n){1===n.b.length&&n.b[0].children().addClass(N[15]),e.stopPropagation(),p(j.move,B,d,{start:e.l,b:n.b,D:[k[0],k[A.length-1]]}),p(j.end,B,m,null),e.cursor&&(t("body").css("cursor",t(e.target).css("cursor")),1<A.length&&x.addClass(N[12]),t("body").on("selectstart.nui",!1))}function v(e){var n=e.l,r=0;e.stopPropagation(),t.each(A,function(){r+=this.offset()[i.style]}),r=r/2>n||1===A.length?0:1,n-=D.offset()[i.style],n=100*n/c(),h(A[r],n,i.n.m),i.n.m&&g(e,{b:[A[r]]})}function y(t){var e=(t=t.l<D.offset()[i.style])?0:100;t=t?0:A.length-1,h(A[t],e,!1)}var D,b,A,x=t(e),k=[-1,-1];if(x.hasClass(N[0]))throw Error("Slider was already initialized.");D=C(i,x),A=E(i,D),b=F(i,A),w(i.i,x,A),function(t){var e;if(!t.fixed)for(e=0;e<A.length;e++)p(j.start,A[e].children(),g,{b:[A[e]]});t.s&&p(j.start,D,v,{b:A}),t.extend&&(x.addClass(N[16]),t.s&&p(j.start,x,y,{b:A})),t.v&&(e=D.find("."+N[7]).addClass(N[10]),t.fixed&&(e=e.add(D.children().not(e).children())),p(j.start,e,g,{b:A}))}(i.n),e.vSet=function(){var e,u,s,a,c,h,p=Array.prototype.slice.call(arguments,0),d=n(p[0]);for("object"==typeof p[1]?(e=p[1].set,u=p[1].link,s=p[1].update,a=p[1].animate):!0===p[1]&&(e=!0),i.dir&&1<i.b&&d.reverse(),a&&r(x,N[14]),p=1<A.length?3:1,1===d.length&&(p=1),c=0;p>c;c++)a=u||b[c%2][0],a=a.A(d[c%2]),!1!==a&&(a=o(i,a),i.dir&&(a=100-a),!0!==f(A[c%2],a,!0)&&t(b[c%2]).each(function(t){return t?void this.write(h,A[c%2].children(),x,s):(h=this.u,!0)}));return!0===e&&l(["set"]),this},e.vGet=function(){var t,e=[];for(t=0;t<i.b;t++)e[t]=b[t][0].F;return 1===e.length?e[0]:i.dir?e.reverse():e},e.destroy=function(){return t.each(b,function(){t.each(this,function(){this.target&&this.target.off(".nui")})}),t(this).off(".nui").removeClass(N.join(" ")).empty(),a},x.val(i.start)}function x(t){if(!this.length)throw Error("noUiSlider: Can't initialize slider on empty selection.");var e=y(t,this);return this.each(function(){A(this,e,t)})}function k(e){return this.each(function(){var n=t(this).val(),r=this.destroy(),i=t.extend({},r,e);t(this).noUiSlider(i),r.start===i.start&&t(this).val(n)})}function T(){return this[0][arguments.length?"vSet":"vGet"].apply(this[0],arguments)}var B=t(document),S=t.fn.val,j=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},N="noUi-target noUi-base noUi-origin noUi-handle noUi-horizontal noUi-vertical noUi-background noUi-connect noUi-ltr noUi-rtl noUi-dragable  noUi-state-drag  noUi-state-tap noUi-active noUi-extended noUi-stacking".split(" ");t.fn.val=function(){var e=arguments,n=t(this[0]);return arguments.length?this.each(function(){(t(this).hasClass(N[0])?T:S).apply(t(this),e)}):(n.hasClass(N[0])?T:S).call(n)},t.noUiSlider={Link:t.Link},t.fn.noUiSlider=function(t,e){return(e?k:x).call(this,t)}}(window.jQuery||window.Zepto),function(t){function e(t){return"undefined"==typeof t.which?!0:"number"==typeof t.which&&t.which>0?!t.ctrlKey&&!t.metaKey&&!t.altKey&&8!=t.which&&9!=t.which:!1}t.expr[":"].notmdproc=function(e){return t(e).data("mdproc")?!1:!0},t.material={options:{input:!0,ripples:!0,checkbox:!0,togglebutton:!0,radio:!0,arrive:!0,autofill:!1,withRipples:[".btn:not(.btn-link)",".card-image",".navbar a:not(.withoutripple)",".dropdown-menu a",".nav-tabs a:not(.withoutripple)",".withripple",".pagination li:not(.active, .disabled) a:not(.withoutripple)"].join(","),inputElements:"input.form-control, textarea.form-control, select.form-control",checkboxElements:".checkbox > label > input[type=checkbox]",togglebuttonElements:".togglebutton > label > input[type=checkbox]",radioElements:".radio > label > input[type=radio]"},checkbox:function(e){t(e?e:this.options.checkboxElements).filter(":notmdproc").data("mdproc",!0).after("<span class=checkbox-material><span class=check></span></span>")},togglebutton:function(e){t(e?e:this.options.togglebuttonElements).filter(":notmdproc").data("mdproc",!0).after("<span class=toggle></span>")},radio:function(e){t(e?e:this.options.radioElements).filter(":notmdproc").data("mdproc",!0).after("<span class=circle></span><span class=check></span>")},input:function(n){t(n?n:this.options.inputElements).filter(":notmdproc").data("mdproc",!0).each(function(){var e=t(this);if(t(this).attr("data-hint")||e.hasClass("floating-label")){if(e.wrap("<div class=form-control-wrapper></div>"),e.after("<span class=material-input></span>"),e.hasClass("floating-label")){var n=e.attr("placeholder");e.attr("placeholder",null).removeClass("floating-label"),e.after("<div class=floating-label>"+n+"</div>")}if(e.attr("data-hint")&&e.after("<div class=hint>"+e.attr("data-hint")+"</div>"),(null===e.val()||"undefined"==e.val()||""===e.val())&&e.addClass("empty"),e.parent().next().is("[type=file]")){e.parent().addClass("fileinput");var r=e.parent().next().detach();e.after(r)}}}),t(document).on("change",".checkbox input[type=checkbox]",function(){t(this).blur()}).on("keydown paste",".form-control",function(n){e(n)&&t(this).removeClass("empty")}).on("keyup change",".form-control",function(){var e=t(this);""===e.val()&&"undefined"!=typeof e[0].checkValidity&&e[0].checkValidity()?e.addClass("empty"):e.removeClass("empty")}).on("focus",".form-control-wrapper.fileinput",function(){t(this).find("input").addClass("focus")}).on("blur",".form-control-wrapper.fileinput",function(){t(this).find("input").removeClass("focus")}).on("change",".form-control-wrapper.fileinput [type=file]",function(){var e="";t.each(t(this)[0].files,function(t,n){e+=n.name+", "}),e=e.substring(0,e.length-2),e?t(this).prev().removeClass("empty"):t(this).prev().addClass("empty"),t(this).prev().val(e)})},ripples:function(e){t(e?e:this.options.withRipples).ripples()},autofill:function(){var e=setInterval(function(){t("input[type!=checkbox]").each(function(){t(this).val()&&t(this).val()!==t(this).attr("value")&&t(this).trigger("change")})},100);setTimeout(function(){clearInterval(e)},1e4);var n;t(document).on("focus","input",function(){var e=t(this).parents("form").find("input").not("[type=file]");n=setInterval(function(){e.each(function(){t(this).val()!==t(this).attr("value")&&t(this).trigger("change")})},100)}).on("blur","input",function(){clearInterval(n)})},init:function(){t.fn.ripples&&this.options.ripples&&this.ripples(),this.options.input&&this.input(),this.options.checkbox&&this.checkbox(),this.options.togglebutton&&this.togglebutton(),this.options.radio&&this.radio(),this.options.autofill&&this.autofill(),document.arrive&&this.options.arrive&&(t.fn.ripples&&this.options.ripples&&t(document).arrive(this.options.withRipples,function(){t.material.ripples(t(this))}),this.options.input&&t(document).arrive(this.options.inputElements,function(){t.material.input(t(this))}),this.options.checkbox&&t(document).arrive(this.options.checkboxElements,function(){t.material.checkbox(t(this))}),this.options.radio&&t(document).arrive(this.options.radioElements,function(){t.material.radio(t(this))}),this.options.togglebutton&&t(document).arrive(this.options.togglebuttonElements,function(){t.material.togglebutton(t(this))}))}}}(jQuery),function(t,e,n,r){"use strict";function i(e,n){u=this,this.element=t(e),this.options=t.extend({},s,n),this._defaults=s,this._name=o,this.init()}var o="ripples",u=null,s={};i.prototype.init=function(){var n=this.element;n.on("mousedown touchstart",function(r){if(!u.isTouch()||"mousedown"!==r.type){n.find(".ripple-wrapper").length||n.append('<div class="ripple-wrapper"></div>');var i=n.children(".ripple-wrapper"),o=u.getRelY(i,r),s=u.getRelX(i,r);if(o||s){var a=u.getRipplesColor(n),c=t("<div></div>");c.addClass("ripple").css({left:s,top:o,"background-color":a}),i.append(c),function(){return e.getComputedStyle(c[0]).opacity}(),u.rippleOn(n,c),setTimeout(function(){u.rippleEnd(c)},500),n.on("mouseup mouseleave touchend",function(){c.data("mousedown","off"),"off"===c.data("animating")&&u.rippleOut(c)})}}})},i.prototype.getNewSize=function(t,e){return Math.max(t.outerWidth(),t.outerHeight())/e.outerWidth()*2.5},i.prototype.getRelX=function(t,e){var n=t.offset();return u.isTouch()?(e=e.originalEvent,1===e.touches.length?e.touches[0].pageX-n.left:!1):e.pageX-n.left},i.prototype.getRelY=function(t,e){var n=t.offset();return u.isTouch()?(e=e.originalEvent,1===e.touches.length?e.touches[0].pageY-n.top:!1):e.pageY-n.top},i.prototype.getRipplesColor=function(t){var n=t.data("ripple-color")?t.data("ripple-color"):e.getComputedStyle(t[0]).color;return n},i.prototype.hasTransitionSupport=function(){var t=n.body||n.documentElement,e=t.style,i=e.transition!==r||e.WebkitTransition!==r||e.MozTransition!==r||e.MsTransition!==r||e.OTransition!==r;return i},i.prototype.isTouch=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},i.prototype.rippleEnd=function(t){t.data("animating","off"),"off"===t.data("mousedown")&&u.rippleOut(t)},i.prototype.rippleOut=function(t){t.off(),u.hasTransitionSupport()?t.addClass("ripple-out"):t.animate({opacity:0},100,function(){t.trigger("transitionend")}),t.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){t.remove()})},i.prototype.rippleOn=function(t,e){var n=u.getNewSize(t,e);u.hasTransitionSupport()?e.css({"-ms-transform":"scale("+n+")","-moz-transform":"scale("+n+")","-webkit-transform":"scale("+n+")",transform:"scale("+n+")"}).addClass("ripple-on").data("animating","on").data("mousedown","on"):e.animate({width:2*Math.max(t.outerWidth(),t.outerHeight()),height:2*Math.max(t.outerWidth(),t.outerHeight()),"margin-left":-1*Math.max(t.outerWidth(),t.outerHeight()),"margin-top":-1*Math.max(t.outerWidth(),t.outerHeight()),opacity:.2},500,function(){e.trigger("transitionend")
})},t.fn.ripples=function(e){return this.each(function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new i(this,e))})}}(jQuery,window,document),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function e(t){return"undefined"!=typeof t&&null!==t?!0:!1}t(document).ready(function(){t("body").append("<div id=snackbar-container/>")}),t(document).on("click","[data-toggle=snackbar]",function(){t(this).snackbar("toggle")}).on("click","#snackbar-container .snackbar",function(){t(this).snackbar("hide")}),t.snackbar=function(n){if(e(n)&&n===Object(n)){var r;r=e(n.id)?t("#"+n.id):t("<div/>").attr("id","snackbar"+Date.now()).attr("class","snackbar");var i=r.hasClass("snackbar-opened");e(n.style)?r.attr("class","snackbar "+n.style):r.attr("class","snackbar"),n.htmlAllowed=e(n.htmlAllowed)?n.htmlAllowed:!1,n.timeout=e(n.timeout)?n.timeout:3e3,n.content=n.htmlAllowed?n.content:t("<p>"+n.content+"</p>").text(),e(n.content)&&(r.find(".snackbar-content").length?r.find(".snackbar-content").html(n.content):r.prepend("<span class=snackbar-content>"+n.content+"</span>")),e(n.id)?r.insertAfter("#snackbar-container .snackbar:last-child"):r.appendTo("#snackbar-container"),e(n.action)&&"toggle"==n.action&&(n.action=i?"hide":"show");var o=Date.now();r.data("animationId1",o),setTimeout(function(){r.data("animationId1")===o&&(e(n.action)&&"show"!=n.action?e(n.action)&&"hide"==n.action&&r.removeClass("snackbar-opened"):r.addClass("snackbar-opened"))},50);var u=Date.now();return r.data("animationId2",u),0!==n.timeout&&setTimeout(function(){r.data("animationId2")===u&&r.removeClass("snackbar-opened")},n.timeout),r}return!1},t.fn.snackbar=function(n){var r={};if(this.hasClass("snackbar"))return r.id=this.attr("id"),("show"===n||"hide"===n||"toggle"==n)&&(r.action=n),t.snackbar(r);e(n)&&"show"!==n&&"hide"!==n&&"toggle"!=n||(r={content:t(this).attr("data-content"),style:t(this).attr("data-style"),timeout:t(this).attr("data-timeout"),htmlAllowed:t(this).attr("data-html-allowed")}),e(n)&&(r.id=this.attr("data-snackbar-id"),("show"===n||"hide"===n||"toggle"==n)&&(r.action=n));var i=t.snackbar(r);return this.attr("data-snackbar-id",i.attr("id")),i}});var Envelope=function(t,e){var n=this,t=t,r=.01,i=1.1;n.attackTime=r,n.sustainTime=.1,n.releaseTime=i;var o=null;n.connect=function(t){o=t},n.triggerOn=function(){var r=e.currentTime;o.cancelScheduledValues(r),o.setValueAtTime(0,r),o.linearRampToValueAtTime(t,r+n.attackTime)},n.triggerOff=function(){var t=e.currentTime;return o.cancelScheduledValues(t),o.linearRampToValueAtTime(0,t+n.releaseTime),t+n.releaseTime},n.setASR=function(t){n.attackTime=t.A||n.attackTime,n.sustainTime=t.S||n.sustainTime,n.releaseTime=t.R||n.releaseTime}};$(function(){function t(){for(var t=r.length-1;t>=0;t--)window.AudioEnvironment.sampleBuffers[n(r[t])]=window.AudioEnvironment.loadSampleFile(r[t])}function e(t){window.AudioEnvironment.loadSampleFile(t)}function n(t){return filename=t.split("/")[2].split(".")[0]}var r=[window.FileUtils.fileLocation("kick.wav"),window.FileUtils.fileLocation("snare.wav"),window.FileUtils.fileLocation("hat.wav")],i=[window.FileUtils.fileLocation("verb_impulse.wav")];console.log("Loading Audio Envirinomet"),window.AudioEnvironment=function(){},window.AudioEnvironment.context=new window.AudioContext,window.AudioEnvironment.context||(window.AudioEnvironment.context=new window.webkitAudioContext),window.AudioEnvironment.context.createGain||(window.AudioEnvironment.context.createGain=context.createGainNode),window.AudioEnvironment.context.createDelay||(window.AudioEnvironment.context.createDelay=context.createDelayNode),window.AudioEnvironment.context.createScriptProcessor||(window.AudioEnvironment.context.createScriptProcessor=context.createJavaScriptNode),window.AudioEnvironment.sampleBuffers={},window.AudioEnvironment.loadSampleFile=function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(){window.AudioEnvironment.context.decodeAudioData(e.response,function(e){var r=window.AudioEnvironment.context.createBufferSource();r.buffer=e,window.AudioEnvironment.sampleBuffers[n(t)]=r,console.log(window.AudioEnvironment.sampleBuffers)})},e.send()},t(),e(i[0])}),function(){function t(t,e){var n=[];return r[e].forEach(function(e){n.push(t+e)}),n}var e="-",n=12,r={MAJ:[0,4,7],MAJ7:[0,4,7,9],MAJ9:[0,4,7,9,11],DOM7:[0,4,7,8,11],MIN:[0,3,7],MIN7:[0,3,7,9],MIN9:[0,3,7,9,11],MIN11:[0,3,7,9,11,13],DIM:[0,3,6],AUG:[0,4,8]},i={chordFromName:function(n){var r=n.split(e)[0].toUpperCase(),i=n.split(e)[1].toUpperCase(),o="";o=2==r.length?"4":"-4";var u=MIDIUtils.noteNameToNoteNumber(r+o);return t(u,i)},frequencyFromNoteNumber:function(t){return MIDIUtils.noteNumberToFrequency(t)},invertChord:function(t){return inverted=t.slice(1),inverted.push(t[0]+n),inverted}};window.HarmonyUtil=i}.call(this),jQuery(function(){$("a[rel~=popover], .has-popover").popover(),$("a[rel~=tooltip], .has-tooltip").tooltip()}),$(function(){var t=null;$("#play-button").on("click",function(e){e.preventDefault(),$("#error-div").text(""),$("#play-button").addClass("disabled"),$("#stop-button").removeClass("disabled");var n=$("#text-area").val();t=new HopperWrapper,t.interpret(n)}),$("#stop-button").on("click",function(t){t.preventDefault(),$("#play-button").removeClass("disabled"),$("#stop-button").addClass("disabled"),window.AudioEnvironment.Performance.stop()}),$("#man-button").on("click",function(t){t.preventDefault(),window.open("assets/gm_experimental_proceedure.pdf","_blank"),window.open("assets/gm_docs.pdf","_blank")})}),function(){var t={createEffect:function(t){switch(t){case"reverb":return new Reverb;case"distortion":return new Distortion}}};window.EffectFactory=t}.call(this);var Synth=function(t,e,n){function r(t){l&&f.forEach(function(e){t.connect(EffectFactory.createEffect(e))})}var i=this;Instrument.apply(i,[t]);var o,u=e,s=[],a={},c={A:.1,S:.11,R:.5},l=!1,f=[],n=n||null;o=n?HarmonyUtil.chordFromName(n):null;var h=0,p=0;i.noteOn=function(t){console.log("PLAYING A NOTES");var e=new Osc(i.getContext(),u,t);e.init(c),r(e),e.playNote(),a[t]=e},i.noteOff=function(t){a[t].stopNote()},i.play=function(t,e){i.createVoice(),s.forEach(function(n){n.adjustPanning(p),n.play(t),n.stop(e)})},i.stop=function(t){s.forEach(function(e){e.stop(t)})},i.invertChord=function(){o=HarmonyUtil.invertChord(o)},i.insert=function(t){console.log("creating effects with: "+t),f.push(t),l=!0},i.setEnvelopeAttack=function(t){c.A=t},i.setEnvelopeSustain=function(t){c.S=t},i.setEnvelopeRelease=function(t){c.R=t},i.pan=function(t){h=t},Synth.prototype.createVoice=function(){s=[],o.forEach(function(t){var e=new Osc(i.getContext(),u,t);e.init(c),s.push(e)})}},TestSynth=function(t,e,n){Instrument.apply(this,arguments);{var r=this;HarmonyUtil.chordFromName(n)}r.play=function(t){console.log("playing"+t)},r.stop=function(t){console.log("stopping"+t)}};$(function(){function t(t){console.log("Midi connected"),window.AudioEnvironment.midi=t,window.AudioEnvironment.MidiController=new MidiController(window.AudioEnvironment.midi)}function e(t){console.log(t)}window.AudioEnvironment.midi=null,navigator.requestMIDIAccess().then(t,e)}),function t(e,n,r){function i(u,s){if(!n[u]){if(!e[u]){var a="function"==typeof require&&require;if(!s&&a)return a(u,!0);if(o)return o(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[u]={exports:{}};e[u][0].call(l.exports,function(t){var n=e[u][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,e,n){"use strict";function r(){var t,e,n,r,i,o;if(i=this.parts,1===i.length&&(n=i[0],o=n.name,o.isOperator||0===(n.parameters||n.arguments).length))return o.value;for(r=[],t=0,e=i.length;e>t;t+=1)r.push(i[t].name+"()");return r.join(" ")}function i(t,e,n){return 0===e.length?"":t+e.join(", ")+n}function o(t,e){return $.each(t,function(t){return t.accept(e)})}function u(t){this.location=t.location}function s(t){u.call(this,t)}function a(t,e){u.call(this,e),this.path=t}function c(t,e,n){u.call(this,n),this.path=t,this.identifier=e}function l(t,e,n){u.call(this,n),this.value=t,this.isOperator=e===!0}function f(t,e){s.call(this,e),this.parts=t}function h(t){f.call(this,t,t[0])}function p(t,e){f.call(this,e,t),this.receiver=t}function d(t,e,n){u.call(this,t),this.name=t,this.generics=e,this.arguments=n}function m(t,e){u.call(this,e),this.value=t}function g(t,e){u.call(this,e),this.value=t}function v(t,e){u.call(this,e),this.value=t}function y(t){u.call(this,t)}function D(t,e,n,r,i){y.call(this,i),this.name=t,this.pattern=e,this.annotations=n,this.value=r}function b(t,e,n,r,i){y.call(this,i),this.name=t,this.pattern=e,this.annotations=n,this.value=r}function F(t,e,n){u.call(this,n),this.annotations=t,this.body=e}function w(t,e,n,r){u.call(this,r),this.signature=t,this.annotations=e,this.body=n}function E(t,e,n,r,i){u.call(this,i),this.name=t,this.signature=e,this.annotations=n,this.body=r}function C(t,e,n){u.call(this,n),this.parts=t,this.pattern=e}function A(t,e,n){u.call(this,t),this.name=t,this.generics=e,this.parameters=n}function x(t,e,n,r){u.call(this,r),this.name=t,this.pattern=e,this.isVarArg=n}function k(t,e,n){u.call(this,n),this.parameters=t,this.body=e}function T(t,e){u.call(this,e),this.expression=t}function B(t,e){u.call(this,e),this.request=t}function S(t,e){u.call(this,e),this.signatures=t}function j(t,e,n,r,i){u.call(this,i),this.name=t,this.generics=e,this.annotations=n,this.value=r}function N(t){u.call(this,t)}function P(t){u.call(this,t)}function O(t){u.call(this,t)}var $,R;$=t("./task"),R=t("./util"),R.inherits(s,u),R.inherits(a,u),a.prototype.accept=function(t){return t.visitDialect(this)},a.prototype.toString=function(){return"dialect "+this.path},R.inherits(c,u),c.prototype.accept=function(t){var e=this;return t.visitImport(this).then(function(){return e.identifier.accept(t)})},c.prototype.toString=function(){return"import "+this.path+" as "+this.identifier},R.inherits(l,u),l.prototype.accept=function(t){return t.visitIdentifier(this)},l.prototype.toString=function(){return this.value},R.inherits(f,s),f.prototype.name=r,f.prototype.toString=function(){return this.parts.join(" ")},R.inherits(h,f),h.prototype.accept=function(t){var e=this;return t.visitUnqualifiedRequest(this).then(function(){return o(e.parts,t)})},R.inherits(p,f),p.prototype.isBinaryOperator=function(){var t=this.parts[0].name;return t.isOperator&&"prefix"!==t.value.substring(0,6)},p.prototype.isPrefixOperator=function(){var t=this.parts[0].name;return t.isOperator&&"prefix"===t.value.substring(0,6)},p.prototype.accept=function(t){var e=this;return t.visitQualifiedRequest(this).then(function(){return e.receiver.accept(t)}).then(function(){return o(e.parts,t)})},p.prototype.toString=function(){var t,e;return e=this.receiver,t=this.parts,this.isBinaryOperator()?(e.constructor===f&&e.isBinaryOperator()?"("+e+")":e)+" "+t[0]:this.isPrefixOperator()?t[0].name.value.substring(6)+(e.constructor===f&&e.isPrefixOperator()?"("+e+")":e):(null===e?"":e+".")+t.join(" ")},R.inherits(d,u),d.prototype.accept=function(t){var e=this;return t.visitRequestPart(this).then(function(){return o(e.generics,t)}).then(function(){return o(e.arguments,t)})},d.prototype.toString=function(){var t,e,n;if(n=this.name,e=this.arguments,n.isOperator){if("prefix"===n.value.substring(0,6))return n.value;t=e[0],e=t.constructor===f&&t.isBinaryOperator()?" ("+e+")":" "+t}else e=i("(",e,")");return n+i("<",this.generics,">")+e},R.inherits(m,s),m.prototype.name=function(){return this.value.toString()},m.prototype.accept=function(t){return t.visitBooleanLiteral(this)},m.prototype.toString=function(){return this.value.toString()},R.inherits(g,s),g.prototype.accept=function(t){return t.visitNumberLiteral(this)},g.prototype.toString=function(){return this.value.toString()},R.inherits(v,s),v.prototype.accept=function(t){return t.visitStringLiteral(this)},v.prototype.toString=function(){return'"'+this.value.replace(new RegExp('"',"g"),'\\"')+'"'},R.inherits(y,u),y.prototype.patternOrIfAbsent=function(t){return null===this.pattern?t.apply():this.pattern},y.prototype.accept=function(t){var e=this;return e.name.accept(t).then(function(){return null!==e.pattern?e.pattern.accept(t):void 0}).then(function(){return o(e.annotations,t)}).then(function(){return e.value.accept(t)})},R.inherits(D,y),D.prototype.accept=function(t){var e=this;return t.visitDef(e).then(function(){return y.prototype.accept.call(e,t)})},D.prototype.toString=function(){var t=this.pattern;return"def "+this.name+(null===t?"":" : "+t)+i(" is ",this.annotations,"")+" = "+this.value},R.inherits(b,y),b.prototype.accept=function(t){var e=this;return t.visitVar(e).then(function(){return y.prototype.accept.call(e,t)})},b.prototype.toString=function(){var t,e;return t=this.pattern,e=this.value,"var "+this.name+(null===t?"":" : "+t)+i(" is ",this.annotations,"")+(null===e?"":" := "+e)},R.inherits(F,s),F.prototype.accept=function(t){var e=this;return t.visitObjectConstructor(e).then(function(){return o(e.body,t)})},F.prototype.toString=function(){var t=this.body;return"object"+i(" is ",this.annotations,"")+" {"+(0===t.length?"":"\n  "+t.join("\n  ")+"\n")+"}"},R.inherits(w,u),w.prototype.accept=function(t){var e=this;return t.visitMethod(e).then(function(){return e.signature.accept(t)}).then(function(){return o(e.annotations,t)}).then(function(){return o(e.body,t)})},w.prototype.toString=function(){var t,e;return t=this.body,e=t.length>0?"\n":"","method "+this.signature+i(" is ",this.annotations,"")+" {"+e+t.join("\n")+e+"}"},R.inherits(E,u),E.prototype.accept=function(t){var e=this;return t.visitClass(e).then(function(){return e.name.accept(t)}).then(function(){return e.signature.accept(t)}).then(function(){return o(e.annotations,t)}).then(function(){return o(e.body,t)})},E.prototype.toString=function(){var t,e;return t=this.body,e=t.length>0?"\n":"","class "+this.name+"."+this.signature+i(" is ",this.annotations,"")+" {"+e+t.join("\n")+e+"}"},R.inherits(C,u),C.prototype.name=r,C.prototype.patternOrIfAbsent=function(t){return null===this.pattern?t.apply():this.pattern},C.prototype.accept=function(t){var e=this;return t.visitSignature(e).then(function(){return o(e.parts,t)}).then(function(){return null!==e.pattern?e.pattern.accept(t):void 0})},C.prototype.toString=function(){var t=this.pattern;return this.parts.join(" ")+(t?" -> "+t:"")},R.inherits(A,u),A.prototype.accept=function(t){var e=this;return t.visitSignaturePart(e).then(function(){return e.name.accept(t)}).then(function(){return o(e.generics,t)}).then(function(){return o(e.parameters,t)})},A.prototype.toString=function(){return this.name+i("<",this.generics,">")+i("(",this.parameters,")")},R.inherits(x,u),x.prototype.patternOrIfAbsent=function(t){return null===this.pattern?t.apply():this.pattern},x.prototype.accept=function(t){var e=this;return t.visitParameter(e).then(function(){return e.name.accept(t)}).then(function(){return null!==e.pattern?e.pattern.accept(t):void 0})},x.prototype.toString=function(){var t=this.pattern;return(this.isVarArg?"*":"")+this.name+(null===t?"":" : "+t)},R.inherits(k,s),k.prototype.accept=function(t){var e=this;return t.visitBlock(e).then(function(){return o(e.parameters,t)}).then(function(){return o(e.body,t)})},k.prototype.toString=function(){var t,e,n;return t=this.body,n=t.length>1,e=0===t.length?"":n?"\n":" ","{"+i("",this.parameters," ->")+e+t.join("\n")+e+"}"},R.inherits(T,u),T.prototype.accept=function(t){var e=this;return t.visitReturn(e).then(function(){return e.expression.accept(t)})},T.prototype.toString=function(){var t=this.expression;return"return"+(null===t?"":" "+t)},R.inherits(B,u),B.prototype.accept=function(t){var e=this;return t.visitInherits(e).then(function(){return e.request.accept(t)})},B.prototype.toString=function(){return"inherits "+this.request},R.inherits(S,s),S.prototype.nameOf=function(t){return r.call(this.signatures[t])},S.prototype.accept=function(t){var e=this;return t.visitType(e).then(function(){return o(e.signatures,t)})},S.prototype.toString=function(){var t,e;return e=this.signatures,t=0===e.length?"":" ","type {"+t+e.join("; ")+t+"}"},R.inherits(j,u),j.prototype.accept=function(t){var e=this;return t.visitTypeDeclaration(e).then(function(){return e.name.accept(t)}).then(function(){return o(e.generics,t)}).then(function(){return o(e.annotations,t)}).then(function(){return e.value.accept(t)})},j.prototype.toString=function(){return"type "+this.name+i("<",this.generics,">")+i(" is ",this.annotations,"")+" = "+this.value},R.inherits(N,s),N.prototype.accept=function(t){return t.visitSelf(this)},N.prototype.toString=function(){return"self"},R.inherits(P,u),P.prototype.accept=function(t){return t.visitSuper(this)},P.prototype.toString=function(){return"super"},R.inherits(O,u),O.prototype.accept=function(t){return t.visitOuter(this)},O.prototype.toString=function(){return"outer"},n.Node=u,n.Expression=s,n.Dialect=a,n.Identifier=l,n.Import=c,n.Request=f,n.UnqualifiedRequest=h,n.QualifiedRequest=p,n.RequestPart=d,n.BooleanLiteral=m,n.NumberLiteral=g,n.StringLiteral=v,n.Def=D,n.Var=b,n.ObjectConstructor=F,n.Signature=C,n.SignaturePart=A,n.Method=w,n.Class=E,n.Parameter=x,n.Block=k,n.Return=T,n.Inherits=B,n.Type=S,n.TypeDeclaration=j,n.Self=N,n.Super=P,n.Outer=O},{"./task":19,"./util":21}],2:[function(t,e){"use strict";function n(){}function r(t){return this.visitNode(t)}function i(){}function o(t,e){f[t]=c.constructor(t,0,function(t){return null===t?new e:(l.extend(t,e.prototype),t)})}var u,s,a,c,l,f;u=t("../ast"),c=t("../runtime"),s=t("../runtime/definitions"),a=t("../runtime/primitives"),l=t("../util"),l.inherits(n,a.Object),l.forProperties(u,function(t){t="visit"+t,n.prototype[t]=c.method(t,1,r)}),n.prototype.visitNode=c.method("visitNode",1,function(){return s.bool(!0)}),l.inherits(i,n),i.prototype.visitNode=c.method("visitNode",1,function(){return s.bool(!1)}),f=s.object(),o("base",n),o("empty",i),e.exports=f},{"../ast":1,"../runtime":10,"../runtime/definitions":11,"../runtime/primitives":16,"../util":21}],3:[function(t,e,n){"use strict";function r(t,e){return f.parse(t).then(null,function(t){return t instanceof f.ParseError?h.ParseFailure.raise(h.string(t.message)).then(null,function(n){throw n.object.stackTrace=[h.trace(null,null,{module:e,line:t.line,column:t.column})],n}):h.InternalError.raiseFromPrimitiveError(t)})}function i(t,e,n,r,i){this.isSuccess=t,this.name=e,t?this.value=n:(this.message=n,this.line=r,this.column=i)}function o(t,e){var n=this;void 0===e&&"function"==typeof t&&(e=t,t=h.prelude),this.prelude=a.resolve(t||h.prelude),e=e||l.defaultLoader,n.prelude.then(function(t){n.interpreter=new c.Interpreter(t,function(t,r){e.apply(null,[n,t,r])})})}function u(t,e,n,r,i){return function(o,u,s){function a(e){return c.prelude.then(function(){return delete c.interpreter.modulePath,null!==o&&(c.interpreter.modulePath=o),c.interpreter[t](e,o)})}var c=this;return e&&"string"!=typeof u&&(s=u,u=o,o=null),(p.isArray(u)?a(u):n(u,o).then(a)).then(r||null,i||null).callback(s).stopify()}}function s(t,e){function n(){o.apply(this,p.slice(e,u,i))}var r,i,u;return n.prototype=o.prototype,u="string"==typeof e[1]||p.isArray(e[1])?2:1,i=e.length-1,r=new n,r[t].apply(r,p.slice(e,0,u).concat([e[i]]))}var a,c,l,f,h,p;f=t("./parser"),a=t("./task"),p=t("./util"),i.prototype.toString=function(){return this.name+(this.message?": "+this.message:"")},o.prototype.interpret=u("interpret",!0,r),o.prototype.check=u("check",!0,f.parse,function(t){return p.isArray(t)?new i(!0,"Success",t):t.message().then(function(t){return t.asPrimitiveString()}).then(function(e){var n,r;return r=t.object.node,n=r&&r.location,new i(!1,"Checker Failure",e,n&&n.line,n&&n.column)})},function(t){if(t instanceof f.ParseError)return new i(!1,"Parse Failure",t.message,t.line,t.column);throw t}),o.prototype.module=u("module",!1,r),o.prototype.load=function(t,e){var n=this;return n.prelude.then(function(){return n.interpreter.load(t)}).callback(e).stopify()},o.prototype.enter=function(t){var e=this;e.prelude.then(function(){return e.interpreter.enter()}).callback(t)},n.Interpreter=o,n.interpret=function(){return s("interpret",arguments)},n.check=function(){return s("check",arguments)},n.module=function(){return s("module",arguments)},n.load=function(){return s("load",arguments)},h=t("./runtime"),c=t("./interpreter"),l=t("./loader"),n.Task=a,n.runtime=h,n.defaultLoader=l.defaultLoader,n.prelude=h.prelude,p.extend(n,f)},{"./interpreter":4,"./loader":5,"./parser":6,"./runtime":10,"./task":19,"./util":21}],4:[function(t,e,n){(function(e){"use strict";function r(t,e){a.makeCloneable(this,"scope"),this.modules={},this.load=i.taskify(this,e),this.scope={outer:null,self:t}}var i,o,u,s,a;u=t("path"),i=t("./task"),o=t("./ast"),s=t("./runtime"),a=t("./util"),r.prototype.interpret=function(t){function e(){var e,n,r,i,u;if(this.scope.object&&(0===t.length||t[0].constructor!==o.Inherits)){delete this.scope.object,e=this.self();for(i in e)if("function"==typeof e[i])for(r=e[i],n=r.isConfidential;a.owns(r,"super");)if(r=r["super"],r.isConfidential)n=!0;else if(n)return i=s.string(r.identifier),s.InvalidMethod.raiseConfidentialOverrideForName(i);e.asString===s.base.asString&&(u=this.searchScope("self",!0),r=this.searchScope("method",!0),null!==r?(i=r.identifier,e.asString=s.method("asString",0,function(){return u.asString().then(function(t){return t.asPrimitiveString().then(function(t){return s.string("object("+t+"."+i+")")})})})):void 0!==this.modulePath&&(i=this.modulePath,e.asString=s.method("asString",0,function(){return s.string("object("+i+")")})))}return this.resolve(s.done)}return 0===t.length?e.call(this):this.imports(t).then(function(){return this.each(t,function(t){var e=t.constructor;return e===o.Method||e===o.Class?this.evaluate(t):e===o.Def||e===o.Var?this.putVariable(t,s.pattern(function(){return s.UndefinedValue.raiseForName(s.string(t.name.value))})):void 0})}).then(function(){return this.decls(t)}).then(function(){return this.annotations(t)}).then(e).then(function(){return this.each(t,function(t){return t.constructor!==o.Dialect&&t.constructor!==o.Import&&t.constructor!==o.Method&&t.constructor!==o.Class&&t.constructor!==o.TypeDeclaration?this.evaluate(t):s.done})}).then(function(t){return t.pop()})},r.prototype.enter=function(){var t=s.object();return this.push(t),t},r.prototype.module=function(t,e){var n,r;return e=u.normalize(e),n=this.clone(),n.modulePath=e,r=s.object(),r.asString=s.method("asString",0,function(){return s.string(e)}),n.objectBody(t,r).bind(this).then(function(){return this.modules[u.normalize(e)]=r,r},s.handleInternalError)},r.prototype.evaluate=function(t){var e=t.constructor;return e===o.Method?this.method(t):e===o.Class?this["class"](t):e===o.Def||e===o.Var?this.variable(t,!1):e===o.Return?this["return"](t):e===o.Inherits?this.inherits(t):this.expression(t)},r.prototype.expression=function(t){var e=t.constructor;return e===o.UnqualifiedRequest||e===o.QualifiedRequest?this.request(t):e===o.Self?this.scope.object?s.IncompleteObject.raiseForSelf().bind(this).then(null,function(e){return this.report(e,"self",null,t)}):this.resolve(this.searchScope("self")):e===o.ObjectConstructor?this.object(t):e===o.Block?this.task(function(){return this.block(t)}):e===o.Type?this.type(t):e===o.BooleanLiteral?this.bool(t):e===o.NumberLiteral?this.number(t):e===o.StringLiteral?this.string(t):this.raise("Unrecognised node of type "+e.name)},r.prototype.inheriting=function(t,e){var n=t.constructor;return n===o.UnqualifiedRequest||n===o.QualifiedRequest?this.request(t,e):n===o.BooleanLiteral?this.bool(t,e):this.raise(s.string("Unrecognised node of type "+n.name+" in inheritance")).bind(this)},r.prototype.imports=function(t){return this.each(t,function(e){var n=e.constructor;return n===o.Dialect?this.dialect(e,t):n===o.Import?this["import"](e):void 0})},r.prototype.check=function(t){var e;return t.length>0&&t[0].constructor===o.Dialect?(e=t[0].path.value,this.dialect(t[0],t).then(function(){return t},function(t){if(t instanceof s.CheckerFailure.object.Packet&&t.object.module===e)return t;throw t})):i.resolve(t)},r.prototype.dialect=function(t,e){var n=t.path.value;return this.load(n).bind(this).then(function(t){return this.task(function(){return"function"==typeof t.check?t.check(s.list(e)):void 0}).then(function(){this.scope.outer={outer:null,self:t}},function(t){var e=t.object;if(t instanceof s.CheckerFailure.object.Packet&&void 0===e.module&&(e.stackTrace=[],e.module=n,e.node))return this.reportNode(t,e.node);throw t})}).then(null,function(e){return this.report(e,'dialect "'+t.path.value+'"',null,t)})},r.prototype["import"]=function(t){return this.load(t.path.value).bind(this).then(function(e){var n=t.identifier.value;return"_"!==n?this.put(n,this.newVar(n,e),t):void 0},function(e){return this.report(e,'import "'+t.path.value+'"',null,t)})},r.prototype.annotations=function(t){return this.each(t,function(t){return this.task(function(){function e(e){return n[e||t.name.value]}var n=this.scope;return t.constructor===o.TypeDeclaration||t.constructor===o.Def||t.constructor===o.Class?this.annotate([e()],t.annotations,t.constructor===o.Def?"Def":t.constructor===o.Class?"Class":"Type"):t.constructor===o.Method?this.annotate([e(a.uglify(t.signature.name()))],t.annotations,"Method"):t.constructor===o.Var?this.annotate([e(),e(t.name.value+":=")],t.annotations,"Var"):void 0}).then(null,function(e){return this.reportNode(e,t)})})},r.prototype.annotate=function(t,e,n){return this.each(e,function(e){return this.expression(e).then(function(e){return this.assert(e,s[n+"Annotator"]).then(function(){return this.apply(e,"annotate"+n,[t])})})})},r.prototype.object=function(t,e){return this.objectBody(t.body,e).then(function(e){return this.annotate([e],t.annotations,"Object").then(function(){return e})}).then(null,function(e){return this.report(e,"object",null,t)})},r.prototype.objectBody=function(t,e){var n=e||s.object();return this.scoped(n,function(){return this.scope.object=!0,this.interpret(t)}).then(function(){return n})},r.prototype.block=function(t){var e,n,r,i,u,c;return i=t.parameters,c=new o.Signature([new o.SignaturePart(new o.Identifier("apply",!1,t),[],i)],null,t),n=this.clone(),e=s.block([0,i.length],function(){var e=[a.slice(arguments)];return n.clone().scoped(function(){return this.parts(c,e,t).then(function(){return this.interpret(t.body)})})}),1===i.length&&(r=i[0],u=r.pattern,null!==u&&(e.match=s.method("match()",1,function(i){return n.pattern(u).then(function(o){return o.match(i).then(function(o){return o.andAlso(s.block(0,function(){return n.clone().scoped(function(){var n=r.name.value;return this.task(function(){return"_"!==n?this.put(n,this.newVar(n,i),r):void 0}).then(function(){return this.interpret(t.body).then(function(t){return s.success(t,e)})})})}))})})}))),e},r.prototype.assert=function(t,e){return e!==s.Unknown?this.apply(e,"assert()",[[t]]):this.resolve(null)},r.prototype.decls=function(t){return this.each(t,function(t){var e;return t.constructor===o.TypeDeclaration?(e=t.name.value,this.put(e,this.newType(e,t.generics.length),t).then(function(){return t})):void 0}).then(function(t){return this.each(t,this.decl).then(function(e){return this.each(t,e,this.putDecl)}).then(function(){return this.each(t,function(t){return this.scope[t.name.value].value.object.become?s.InvalidType.raiseSelfDependencyForType(s.string(t.name.value)).bind(this).then(null,this.reportDecl(t)):void 0})})})},r.prototype.decl=function(t){function e(){return t.value.constructor===o.Type?this.type(t.value,t.name.value):this.expression(t.value)}return this.task(function(){return 0!==t.generics.length?this.scoped(function(){return this.each(t.generics,function(e){var n=e.value;return this.put(n,this.newVar(n,s.Unknown),t)}).then(e)}):e.call(this)}).then(null,this.reportDecl(t))},r.prototype.putDecl=function(t,e){return this.assert(e,s.Pattern).then(function(){var n,r;return n=this.scope[t.name.value],r=n.value,r.object.become(e)}).then(null,this.reportDecl(t))},r.prototype.reportDecl=function(t){return function(e){var n;return"object"==typeof e.object&&(n=e.object.stackTrace,n.length>0&&"type"===n[0].name&&n.shift()),this.report(e,"type "+t.name.value,null,t)}},r.prototype.type=function(t,e){function n(e){return this.report(e,"type",null,t)}var r,i,o,u,a,c,l;for(c=t.signatures,a=[],l=[],r=0,o=c.length;o>r;r+=1){for(u=t.nameOf(r),i=0;r>i;i+=1)if(a[i]===u)return e=void 0===e?t:s.string(e),s.InvalidType.raiseDuplicateMethodName_inType([s.string(u)],[e]).bind(this).then(null,n);a.push(u),l.push(this.typeSignature(c[r]))}return this.resolve(s.type(l))},r.prototype.typeSignature=function(t){function e(t){return t.value}function n(t){return t.isVarArg?(i=!0,"*"+t.name.value):t.name.value}var r,i,o,u,c,l,f;for(f=[],o=0,u=t.parts.length;u>o;o+=1)i=!1,l=t.parts[o],r=a.map(l.generics,e),c=a.map(l.parameters,n),f.push(s.sigPart(l.name.value,i,r,c));return s.signature(f)},r.prototype.bool=function(t,e){var n=s[t.value?"mtrue":"mfalse"];return void 0!==e?this.inherit(null,n,e):n().bind(this)},r.prototype.number=function(t){return this.resolve(s.number(t.value))},r.prototype.string=function(t){return this.resolve(s.string(t.value))},r.prototype.apply=function(){return s.apply.apply(null,arguments).bind(this)},r.prototype.inherit=function(){return s.inherit.apply(null,arguments).bind(this)},r.prototype.request=function(t,e){var n,r;return r=t.name(),n=a.uglify(r),this.task(function(){return t.constructor===o.UnqualifiedRequest?this.unqualifiedRequest(t,n,r):this.qualifiedRequest(t,n,r)}).then(function(i){var u,a;return a=i[0],u=i[1],this.each(t.parts,function(t){return u.isVariable&&t.generics.length>0?s.InvalidRequest.raiseGenericsForVariable(s.string(n)):this.each(t.generics,function(t){return this.expression(t)}).then(function(e){if(t.arguments.length>0){if(u.isVariable)return s.InvalidRequest.raiseArgumentsForVariable(s.string(n));if(u.isStatic)return s.InvalidRequest.raiseArgumentsForType(s.string(n))}return this.each(t.arguments,this.expression).then(function(t){return t.generics=e,t})})}).then(function(n){return this.task(function(){return void 0!==e?this.inherit(a,u,e,n):this.apply(a,u,n)}).then(null,s.handleInternalError).then(null,function(e){return t.constructor===o.QualifiedRequest&&t.receiver.constructor===o.Super&&(a="super"),e.object.stackTrace.pop(),this.report(e,r,a,t)})})})},r.prototype.unqualifiedRequest=function(t,e,n){return this.search(e).then(function(t){var r,i,o;return null===t?(r=e.length-2,":="===e.substring(r)?(n=s.string(n.substring(0,r)),this.search(e.substring(0,r)).then(function(t){return null===t?s.UnresolvedRequest.raiseForAssignToUnresolvedName(n):s.UnresolvedRequest.raiseForAssignToName(n)})):s.UnresolvedRequest.raiseForName(s.string(n))):(i=t[0],o=t[1],null!==i&&this.scope.object&&i===this.searchScope("self")&&!a.owns(o,"value")?s.IncompleteObject.raiseForName(s.string(n)):t)}).then(null,function(e){return this.report(e,n,null,t)})},r.prototype.qualifiedRequest=function(t,e,n){var r,i,u,c;return u=t.receiver,u.constructor===o.Super?(c=this.searchScope("super",!1),r=this.searchScope("self"),this.task(function(){return null!==c&&(i=a.owns(c,e)?c[e]["super"]:r[e]),void 0===i?s.UnresolvedSuperRequest.raiseForName_inObject([s.string(n)],[r]):[r,i]}).bind(this).then(null,function(e){return this.report(e,n,"super",t)})):u.constructor===o.Outer?(i=this.searchScope(e,!0),null===i?s.UnresolvedRequest.raiseForName(s.string(n)).bind(this).then(null,function(e){return this.report(e,n,"outer",t)}):[null,i]):this.expression(u).then(function(e){return s.lookup(e,n,u.constructor===o.Self).bind(this).then(function(t){return[e,t]},function(r){return this.report(r,n,e,t)})})},r.prototype["class"]=function(t){var e=s.object();return this.scoped(e,function(){return this.method(t)}).then(function(){var n,r,i;return r=t.name.value,n=this.newVar(r,e,!0),i=s.string(r),e.asString=s.method("asString",0,function(){return i}),this.put(r,n,t)})},r.prototype.method=function(t){function n(n,r){return function(o){var u,c;return u=a.slice(arguments,n?1:0),1===d.parts.length&&(u=[u]),c=l.clone(),null!==this&&this!==e&&this!==c.scope.self&&(c.scope.self=this),c.scoped(function(){return new i(this,function(e,n){this.parts(d,u,t).then(function(t){var u,a;return u=function(r){return a["return"]=function(){return s.InvalidReturn.raiseForCompletedMethod(s.string(p))},this.assert(r,t).then(function(){e(r)},function(t){return this.reportNode(t,d.pattern).then(null,n)}),new i(function(){})},a=this.scope,a["return"]=u,a.method=h,r.call(this,o).bind(this).then(u,n)
},n)})}).bind(null)}}var r,u,c,l,f,h,p,d;return p=t.signature.name(),d=t.signature,r=t.body,l=this.clone(),this.signature(d,p).then(function(e){return h=s.method(p,e,n(!1,t.constructor===o.Class?function(){return this.objectBody(r).bind(null)}:function(){return this.interpret(r).bind(null)})),t.constructor===o.Class?h.inherit=s.inheritor(p,e,n(!0,function(t){return this.objectBody(r,t)})):r.length>0&&(f=r[r.length-1],u=f.constructor,u===o.Return&&(f=f.expression,null!==f&&(u=f.constructor)),u===o.ObjectConstructor&&(r=r.concat(),r.pop(),c=r,r=c.concat([f]),h.inherit=s.inheritor(p,e,n(!0,function(t){return this.interpret(c).then(function(){return this.object(f,t)})})))),this.put(p,h,t)})},r.prototype.signature=function(t,e){function n(t){return this.report(t,"method",null,f)}var r,i,o,u,a,c,l,f,h;for(h=[],i=0,a=t.parts.length;a>i;i+=1){for(f=t.parts[i],l=f.parameters,r=!1,o=0,u=l.length;u>o;o+=1)if(c=l[o],c.isVarArg){if(r)return s.InvalidMethod.raiseMultipleVariadicParametersForName(s.string(e)).bind(this).then(null,n);r=!0}h.push([f.generics.length,r?s.gte(l.length-1):l.length])}return this.resolve(h)},r.prototype.parts=function(t,e,n){return this.each(t.parts,e,function(t,e){return this.part(t,e,n)}).then(function(){return this.pattern(t.pattern)})},r.prototype.part=function(t,e,n){var r=t.generics.length;return this.generics(t.generics,e.slice(0,r),n).then(function(){return this.parameters(t.parameters,e.slice(r),n)})},r.prototype.generics=function(t,e,n){return this.each(t,e,function(t,e){return"_"!==t.value?this.put(t.value,this.newVar(t.value,e),n):void 0})},r.prototype.parameters=function(t,e,n){return this.each(t,function(n,r){var i=e.length-t.length+1;n.isVarArg&&e.splice(r,0,s.list(e.splice(r,i)))}).then(function(){return this.patterns(t).then(function(r){return this.each(t,function(t){return t.name.value}).then(function(t){return this.args(t,r,e,n)})})})},r.prototype.patterns=function(t){return this.each(t,function(t){var e=t.name.value;return this.pattern(t.pattern).then(function(n){return s.named(e,t.isVarArg?s.listOf(n):n)})})},r.prototype.pattern=function(t){return null===t?this.resolve(s.Unknown):this.expression(t).then(function(t){return this.assert(t,s.Pattern).then(function(){return t})})},r.prototype.args=function(t,e,n,r){return this.each(t,e,n,function(t,e,n){return this.assert(n,e).then(function(){return"_"!==t?this.put(t,this.newVar(t,n),r):void 0})})},r.prototype.variable=function(t){return this.pattern(t.pattern).then(function(e){var n,r;for(n=t.name.value,r=this.scope[n];!r.isVariable;)r=r["super"];return r.pattern=e,null!==t.value?this.expression(t.value).then(function(t){return this.assert(t,e).then(function(){r.value=t})}):void 0}).then(function(){return s.done},function(e){return this.reportNode(e,t)})},r.prototype.putVariable=function(t,e){var n,r;return n=t.name.value,r=this.newVar(n),this.put(n,r,t).then(function(){var i,u;return t.constructor===o.Var?(i=this,r.pattern=e,u=s.method(n+" :=",1,function(t){return i.assert(t,r.pattern).then(function(){return r.value=t,s.done})}),u.isConfidential=!0,this.put(n+" :=",u,t)):void 0}).then(function(){return r})},r.prototype["return"]=function(t){var e=t.expression;return this.task(function(){return null===e?s.done:this.expression(e)}).then(function(t){var e=this.searchScope("return",!1);return null===e?s.InvalidReturn.raiseInsideOfObject():e.call(this,t).bind(this)}).then(null,function(e){return this.report(e,"return",null,t)})},r.prototype.inherits=function(t){var e,n;return e=this.self(),n={},a.forProperties(e,function(t,e){for(;void 0!==e["super"];)e=e["super"];n[t]=e}),this.scope["super"]=n,this.inheriting(t.request,e).then(function(t){return delete this.scope.object,t},function(e){return this.report(e,"inherits "+t.request.name(),null,t)})},r.prototype.newVar=function(t,e,n){var r=s.method(t,0,function(){return a.owns(r,"value")?r.value:s.UndefinedValue.raiseForName(s.string(t))});return void 0!==e&&(r.value=e),r.isVariable=!0,r.isConfidential=!n,r.identifier=t,r.modulePath=this.modulePath,r},r.prototype.newType=function(t,e){var n,r;return r=s.proxy(t),n=s.method(t,[[e,0]],function(){return s.withGenerics.apply(null,[t,r].concat(a.slice(arguments)))}),n.value=r,n.isStatic=!0,n.modulePath=this.modulePath,n},r.prototype.scoped=function(t,e){return"function"==typeof t&&(e=t,t=void 0),this.push(t),this.task(e).then(function(t){return this.pop(),t},function(t){throw this.pop(),t})},r.prototype.each=function(){return i.each.apply(i,[this].concat(a.slice(arguments)))},r.prototype.self=function(){return a.owns(this.scope,"self")?this.scope.self:null},r.prototype.put=function(t,e,n){var r,i,o,u,c;return o=a.uglify(t),c=this.scope,e.node=n,this.task(function(){if(a.owns(c,o))return i=c[o]&&c[o].identifier||t,s.Redefinition.raiseForName(s.string(i));if(r=this.self(),null===r)c[o]=e;else if(void 0!==r[o]){if(a.owns(r,o)?u=r[o]:(u=e,e=r[o],r[o]=u),e.isStatic)return n=u.node,s.InvalidMethod.raiseStaticOverrideForName(s.string(t));if(u.isVariable)return n=u.node,s.InvalidMethod.raiseOverridingVariableForName(s.string(t));for(;a.owns(u,"super");)u=u["super"];if(!s.isSubMethod(u.parts,e.parts))return n=u.node,s.InvalidMethod.raiseMismatchedParametersForName(s.string(t));u["super"]=e}else r[o]=e;c[o]=e}).bind(this).then(null,function(t){return this.reportNode(t,n)})},r.prototype.push=function(t){var e={};void 0!==t&&(e.self=t),e.outer=this.scope,this.scope=e},r.prototype.pop=function(){this.scope=this.scope.outer},r.prototype.search=function(t){function e(t){return[n,t]}var n,r;for(r=this.scope;null!==r;r=r.outer){if(a.owns(r,"self")&&(n=r.self,void 0!==n[t]))return s.lookup(n,t,!0).bind(this).then(e);if(a.owns(r,t))return this.resolve([null,r[t]])}return this.resolve(null)},r.prototype.searchScope=function(t,e){var n;for(n=this.scope;null!==n;n=n.outer){if(!e&&a.owns(n,t))return n[t];if(a.owns(n,"self")){if(null===n.outer&&void 0!==n.self[t])return n.self[t];if(e===!1)return null;e===!0&&(e=void 0)}}return null},r.prototype.resolve=function(t){return i.resolve(this,t)},r.prototype.task=function(t){return this.resolve(null).then(function(){return t.call(this)})},r.prototype.raise=function(t){return s.InternalError.raise(s.string(t)).bind(this)},r.prototype.report=function(t,e,n,r){return this.task(function(){return s.handleInternalError(t)}).then(null,function(t){throw t.object.stackTrace.push(s.trace(e,n,{module:this.modulePath||null,line:r.location.line,column:r.location.column})),t})},r.prototype.reportNode=function(t,e){var n;return n=e.constructor===o.Def?"def "+e.name.value:e.constructor===o.Var?"var "+e.name.value:e.constructor===o.Method?"method "+e.signature.name():e.constructor===o.Class?"class "+e.name.value:e.constructor===o.TypeDeclaration?"type "+e.name.value:e.constructor===o.Import?'import "..." as '+e.identifier.value:e.toString(),this.report(t,n,null,e)},n.Interpreter=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ast":1,"./runtime":10,"./task":19,"./util":21,path:26}],5:[function(t,e,n){(function(e){"use strict";function r(t,e){return a=a||o.taskify(u.readFile),a(e+".grace").then(function(n){if(n=n.toString(),"#"===n[0]&&"!"===n[1])for(;"#"===n[0];)n=n.substring(n.indexOf("\n")+1||n.length);return o.taskify(t.module).call(t,e,n)})}function i(e){try{return o.resolve(t(e))}catch(n){return o.reject(n)}}var o,u,s,a,c;s=t("path"),o=t("./task"),c=t("./runtime"),n.loadGrace=r,n.defaultLoader=function(t,n,o){n=s.join(s.dirname(n),s.basename(n,".grace")),r(t,n).then(null,function(t){var r;if(c.isGraceExceptionPacket(t))throw t;return r=s.join(e.cwd(),n),i(r).then(null,function(t){return"MODULE_NOT_FOUND"!==t.code?c.InternalError.raiseFromPrimitiveError(t):i(n)}).then(null,function(t){return"MODULE_NOT_FOUND"!==t.code?c.InternalError.raiseFromPrimitiveError(t):c.UnresolvedModule.raiseForPath(c.string(n)).then(null,o)})}).callback(o)}}).call(this,t("_process"))},{"./runtime":10,"./task":19,_process:27,path:26}],6:[function(t,e,n){"use strict";function r(t){return"^"===t||"/"===t||"*"===t||"+"===t||"-"===t}function i(t,e){var n,i;return n=t.value,i=e.value,n===i?!0:(r(n)&&r(i)||l.raise(t,"Mismatched operators "+n+" and "+i),"^"===n||("/"===n||"*"===n)&&"^"!==i||("+"===n||"-"===n)&&("+"===i||"-"===i))}function o(t,e,n){return Array.prototype.slice.call(t,e,n)}function u(t){this.lexer=t,this.indent=0,this.token=null}function s(t){var e,n;try{for(e=new u(new f.Lexer(t));e.peek().constructor===p.Newline;)e.poll();return e.module().then(function(t){do n=e.poll();while(n.constructor!==p.EndOfInput&&n.constructor===p.Newline);return n.constructor!==p.EndOfInput&&l.raise(n,"Unexpected appearance of "+n),t}).bind(null)}catch(r){return a.reject(r)}}var a,c,l,f,h,p,d;a=t("./task"),c=t("./ast"),l=t("./parser/error"),f=t("./parser/lexer"),p=t("./parser/tokens"),d=t("./util"),h={keyword:function(t,e){return this.value(p.Keyword,t,e)},symbol:function(t,e){return this.value(p.Symbol,t,e)},punctuation:function(t,e){return this.value(p.Punctuation,t,e)},newline:function(t){return t.test=function(){var t=this.peek("newline");return t&&(t.constructor===p.Newline||";"===t.value)},t},identifier:function(t){return this.type(p.Identifier,t)},operator:function(t){return this.type(p.Symbol,t)},string:function(t){return this.type(p.StringLiteral,t)},number:function(t){return this.type(p.NumberLiteral,t)},value:function(t,e,n){return n.test=function(){var n=this.peek(t);return n.constructor===t&&("string"==typeof e&&n.value===e||"function"==typeof e&&e(n.value))},n},type:function(t,e){return e.test=function(e){var n=this.peek(t);return n.constructor===t&&("string"!=typeof e||n.value===e)},e},name:function(t){return t.test=function(t){var e,n;return e=this.peek(),n=e.constructor,!(n!==p.Identifier&&n!==p.Symbol||"string"==typeof t&&e.value!==t)},t},parsers:function(t){function e(t,e){return function(){function o(t){return n?n.call(this,t):t}var s;for(r=0;i>r;r+=1)if(s=u[r],this.test(s))return t?t:this.one(s).then(o);return e.call(this)}}var n,r,i,o,u;return i=arguments.length,"function"==typeof arguments[i-1]&&(n=arguments[i-1],i-=1),u=Array.prototype.slice.call(arguments,1,i),i=u.length,o=e(!1,function(){this.raise(t)}),o.test=e(!0,function(){return!1}),o}},d.inherits(u,a.Async),u.prototype.module=function(){return this.lone("dialect").then(function(t){return this.any("import").then(function(e){return null!==t&&e.unshift(t),e})}).then(function(t){return this.objectBody().then(function(e){return t.concat(e)})})},u.prototype.newline=h.newline(function(){var t,e;e=this.peek("newline"),"}"!==e.value&&(";"===e.value?this.poll():e.constructor!==p.EndOfInput&&(e=this.poll(),e.constructor!==p.Newline&&l.raise(e,"Unexpected appearance of "+e),t=e.indent,t!==this.indent&&"}"!==this.peek().value&&l.raise(e,"Indent must match previous line")))}),u.prototype.def=h.keyword("def",function(){var t,e;return e=this.keyword("def"),t=this.identifier(),this.inDef=!0,this.on("symbol",":",function(){return this.expression()}).then(function(n){return this.lone("annotations").then(function(r){return this.inDef=!1,this.test("symbol",":=")&&l.raise(this.poll(),"A constant declaration must use "+new p.Symbol("=")+" instead of "+new p.Symbol(":=")),this.test("symbol","=")||l.raise(this.poll(),"A constant declaration must have "+new p.Symbol("=")+" and a value"),this.symbol("="),this.expression().then(function(i){return this.newline(),new c.Def(t,n,r||[],i,e)})})})}),u.prototype["var"]=h.keyword("var",function(){var t,e;return e=this.keyword("var"),t=this.identifier(),this.on("symbol",":",function(){return this.strict(this.expression)}).then(function(n){return this.lone("annotations",!0).then(function(r){return this.test("symbol","=")&&l.raise(this.poll(),"A variable declaration must use "+new p.Symbol(":=")+" instead of "+new p.Symbol("=")),this.on("symbol",":=",function(){return this.expression()}).then(function(i){return this.newline(),new c.Var(t,n,r||[],i,e)})})})}),u.prototype.declOrLiteral=h.keyword("type",function(){return this.attempt(function(){var t=this.keyword("type");return this.test("punctuation","{")&&l.raise("Attempt to parse type literal as type declaration"),t}).then(function(t){var e;return null===t?this.expressionLine():(e=this.identifier(),this.inDef=!0,this.on("symbol","<",function(){return this.commas("identifier").then(function(t){return this.symbol(">"),t})}).then(function(n){return this.lone("annotations").then(function(r){return this.inDef=!1,this.symbol("="),this.lone("typeBraces").then(function(t){return t||this.expression()}).then(function(i){return this.newline(),new c.TypeDeclaration(e,n||[],r||[],i,t)})})}))})}),u.prototype.type=h.keyword("type",function(){return this.keyword("type"),this.typeBraces()}),u.prototype.typeBraces=h.punctuation("{",function(){return this.braces(function(t){return this.any("typeBody").then(function(e){return new c.Type(e,t)})})}),u.prototype.typeBody=h.parsers("signature","signature",function(t){return this.newline(),t}),u.prototype.object=h.keyword("object",function(){var t=this.keyword("object");return this.lone("annotations",!0).then(function(e){return this.braces(function(){return this.objectBody().then(function(n){return new c.ObjectConstructor(e||[],n,t)})})})}),u.prototype["class"]=h.keyword("class",function(){var t,e;return e=this.keyword("class"),t=this.identifier(),this.punctuation("."),this.methodRest("objectBody",function(n,r,i){return new c.Class(t,n,r,i,e)})}),u.prototype.method=h.keyword("method",function(){var t=this.keyword("method");return this.methodRest("methodBody",function(e,n,r){return new c.Method(e,n,r,t)})}),u.prototype.constructor=h.keyword("constructor",function(){var t=this.keyword("constructor");return this.methodRest("objectBody",function(e,n,r){return new c.Method(e,n,[new c.ObjectConstructor([],r,t)],t)})}),u.prototype.methodRest=h.name(function(t,e){return this.signature().then(function(n){return this.lone("annotations").then(function(r){return r=r||[],this.braces(function(){return this.one(t).then(function(t){return e.call(this,n,r,t)})})})})}),u.prototype.signature=h.name(function(){return this.signaturePartFirst().then(function(t){return this.task(function(){return 0===t.parameters.length||t.name.isOperator?[t]:this.any("signaturePartRest").then(function(e){return e.unshift(t),e})}).then(function(e){return this.on("symbol","->",function(){return this.strict(this.expression)}).then(function(n){return new c.Signature(e,n,t)})})})}),u.prototype.signaturePartFirst=h.name(function(){return this.lone("operator").then(function(t){return null===t?this.identifier():t}).then(function(t){if(!t.isOperator){if("prefix"===t.value)return this.on("operator",function(e){t.isOperator=!0,t.value+=e.value}).then(function(){return new c.SignaturePart(t,[],[])});if(this.test("symbol",":="))return this.poll(),t.isOperator=!0,t.value+=" :=",this.parentheses(this.parameter).then(function(e){return new c.SignaturePart(t,[],[e])})}return this.signaturePartPost(t,!0)})}),u.prototype.signaturePartRest=h.identifier(function(){var t=this.identifier();return this.signaturePartPost(t,!1)}),u.prototype.signaturePartPost=function(t,e){return this.task(function(){return t.isOperator?void 0:this.on("symbol","<",function(){return this.commas("identifier").then(function(t){return this.symbol(">"),t})})}).then(function(n){return this[e?"lone":"one"]("parentheses",function(){return t.isOperator?this.parameter().then(function(t){return[t]}):this.commas("parameter")}).then(function(e){return new c.SignaturePart(t,n||[],e||[])})})},u.prototype.parameter=h.parsers("parameter","vararg","binding"),u.prototype.vararg=h.symbol("*",function(){var t=this.symbol("*");return this.parameterName().then(function(e){return this.parameterType().then(function(n){return new c.Parameter(e,n,!0,t)})})}),u.prototype.binding=h.parsers("parameter","parameterName",function(t){return this.parameterType().then(function(e){return new c.Parameter(t,e,!1,t)})}),u.prototype.parameterName=h.parsers("parameter","identifier","underscore"),u.prototype.parameterType=function(){return this.on("symbol",":",function(){return this.expression()})},u.prototype.commas=function(t){function e(n){return this.on("punctuation",",",function(){return this.one(t).then(function(t){return n.push(t),e.call(this,n)})}).then(function(t){return t||n})}return this.one(t).then(function(t){return e.call(this,[t])})},u.prototype.braces=h.punctuation("{",function(t){var e=this.indent;return this.wrapped("{","}",function(e){return this.postBraceIndent(),this.resolve(t.call(this,e))}).then(function(t){return this.indent=e,t})}),u.prototype.postBraceIndent=function(){var t,e;e=this.peek("newline"),e.constructor===p.Newline&&(e=this.poll(),t=e.indent,t<this.indent&&"}"!==this.peek().value&&l.raise(e,"Invalid indent following opening brace"),this.indent=t)},u.prototype.parentheses=h.punctuation("(",function(t){return this.wrapped("(",")",function(){return this.resolve((t||this.expression).call(this)).then(function(t){return this.lone("newline").then(function(){return t})})})}),u.prototype.wrapped=function(t,e,n){return this.resolve(n.call(this,this.punctuation(t))).then(function(t){var n;return this.test("punctuation",e)||(n=this.poll(),l.raise(n,"Unexpected appearance of "+n)),this.punctuation(e),t})},u.prototype.dialect=h.keyword("dialect",function(){var t=this.keyword("dialect");return this.string().then(function(e){return this.newline(),new c.Dialect(e,t)})}),u.prototype["import"]=h.keyword("import",function(){var t=this.keyword("import");return this.string().then(function(e){var n;return this.contextualKeyword("as"),n=this.identifier(),this.newline(),new c.Import(e,n,t)})}),u.prototype.inherits=h.keyword("inherits",function(){var t=this.keyword("inherits");return this.expression().then(function(e){return e.constructor!==c.UnqualifiedRequest&&e.constructor!==c.QualifiedRequest&&e.constructor!==c.BooleanLiteral&&this.raise("request",e),this.newline(),new c.Inherits(e,t)})}),u.prototype["return"]=h.keyword("return",function(){var t=this.keyword("return");return this.lone("expression").then(function(e){return this.newline(),new c.Return(e,t)})}),u.prototype.statement=h.parsers("statement","def","var","declOrLiteral","return","expressionLine","newline"),u.prototype.expression=h.parsers("expression","preBinaryOperator",function(t){function e(t,e,n){return new c.QualifiedRequest(t,[new c.RequestPart(e,[],[n])])}function n(t,r,o){return this.on("operator",function(u){return this.preBinaryOperator().then(function(s){return i(r,u)?n.call(this,e(t,r,o),u,s):n.call(this,t,r,e(o,u,s))})}).then(function(n){return n||e(t,r,o)})}var r;return this.generics&&">"===this.peek().value[0]?t:(!this.inDef&&this.test("symbol","=")&&(r=this.poll(),l.raise(r,"Assignment must use "+new p.Symbol(":=")+", not "+r)),this.on("operator",function(e){return this.preBinaryOperator().then(function(r){return n.call(this,t,e,r)})}).then(function(e){return e||t}))}),u.prototype.preBinaryOperator=h.parsers("expression","object","type","unqualifiedRequest","literal","bool","outer","self","super","parentheses","prefixOperator",function(t){function e(t){return this.on("dotRequest",function(n){return e.call(this,new c.QualifiedRequest(t,n))}).then(function(e){return e||t})}return e.call(this,t)}),u.prototype.expressionLine=h.parsers("expression line","expression",function(t){return this.newline(),t}),u.prototype.bool=h.parsers("boolean","true","false"),u.prototype["true"]=h.keyword("true",function(){return new c.BooleanLiteral(!0,this.keyword("true"))}),u.prototype["false"]=h.keyword("false",function(){return new c.BooleanLiteral(!1,this.keyword("false"))}),u.prototype.outer=h.keyword("outer",function(){var t=this.keyword("outer");return this.request().then(function(e){return new c.QualifiedRequest(new c.Outer(t),e)})}),u.prototype.prefixOperator=h.operator(function(){var t=this.operator();return t.value="prefix"+t.value,this.preBinaryOperator().then(function(e){return new c.QualifiedRequest(e,[new c.RequestPart(t,[],[])])})}),u.prototype.unqualifiedRequest=h.identifier(function(){return this.requestSignature().then(function(t){return new c.UnqualifiedRequest(t)})}),u.prototype.request=h.parsers("request signature","dotRequest","binaryRequestSignature"),u.prototype.dotRequest=h.punctuation(".",function(){return this.punctuation("."),this.requestSignature()}),u.prototype.requestSignature=h.identifier(function(){return this.requestPart(!1).then(function(t){return 0===t.arguments.length?[t]:this.any("requestPart",!0).then(function(e){return e.unshift(t),e})})}),u.prototype.requestPart=h.identifier(function(t){var e=this.identifier();return this.task(function(){var t;return this.test("symbol","<")&&!this.peek().spaced?(t=this.generics,this.attempt(function(){return this.symbol("<"),this.generics=!0,this.commas("expression").then(function(t){var e,n;return n=this.peek(),">"===n.value[0]&&n.value.length>1?n.value=n.value.substring(1):this.symbol(">"),e=this.peek(),(e.constructor===p.Identifier||e.constructor===p.Keyword&&"is"!==e.value&&"true"!==e.value&&"false"!==e.value)&&l.raise(e,"Invalid token following generic parameters"),t})}).then(function(e){return this.generics=t,e})):void 0}).then(function(n){return this.on(this.isStrict?"strictLiteral":"literal",function(t){return t.constructor!==c.Block&&this.test("punctuation",".")&&l.raise(this.punctuation("."),"Method requests on literal parameters must be wrapped"),[t]}).then(function(n){return t||this.isStrict||null!==n?n:this.on("symbol",":=",function(){return e.isOperator=!0,e.value+=" :=",this.expression().then(function(t){return[t]})})}).then(function(e){return null===e?this[t?"one":"lone"]("parentheses",function(){return this.commas("expression")}):e}).then(function(t){return new c.RequestPart(e,n||[],t||[])})})}),u.prototype.binaryRequestSignature=h.operator(function(){var t=this.operator();return this.expression().then(function(e){return[new c.RequestPart(t,[],[e])]})}),u.prototype.self=h.keyword("self",function(){return new c.Self(this.keyword("self"))}),u.prototype["super"]=h.keyword("super",function(){var t=this.keyword("super");return this.request().then(function(e){return new c.QualifiedRequest(new c.Super(t),e)})}),u.prototype.block=h.punctuation("{",function(){return this.braces(function(t){return this.attempt(function(){return this.task(function(){return this.test("identifier")||this.test("punctuation","_")?this.commas("parameter"):this.expression().then(function(t){return[new c.Parameter(new c.Identifier("_",!1,t),t,!1,t)]})}).then(function(t){return this.symbol("->"),this.postBraceIndent(),t})}).then(function(e){return this.any("statement").then(function(n){return new c.Block(e||[],n,t)})})})}),u.prototype.annotations=h.keyword("is",function(t){return this.keyword("is"),this.strict(function(){return this.commas("expression")},t)}),u.prototype.literal=h.parsers("literal","strictLiteral","block"),u.prototype.strictLiteral=h.parsers("literal","bool","string","number"),u.prototype.string=h.string(function(){var t,e,n;return n=this.expect(p.StringLiteral),e=new c.StringLiteral(n.value,n),n.interpolation?(t=new c.Identifier("++",!0,n),this.expression().then(function(n){var r=new c.QualifiedRequest(e,[new c.RequestPart(t,[],[n])]);return this.lone("newline"),this.punctuation("}"),this.token=this.lexer.nextToken(!0),this.string().then(function(e){return new c.QualifiedRequest(r,[new c.RequestPart(t,[],[e])])})})):this.resolve(e)}),u.prototype.number=h.number(function(){var t,e,n,r;return e=this.expect(p.NumberLiteral),n=e.value,r=n.match(/[xX]/),null!==r&&(t=Number(n.substring(0,r.index)),t>1&&37>t&&(n=parseInt(n.substring(r.index+1),t))),new c.NumberLiteral(n,e)}),u.prototype.objectBody=function(){return this.lone("inherits").then(function(t){return this.any("statementOrMethod").then(function(e){return null!==t&&e.unshift(t),e})})},u.prototype.methodBody=function(){return this.any("statement")},u.prototype.statementOrMethod=h.parsers("statement","method","class","constructor","statement"),u.prototype.keyword=h.type(p.Keyword,function(t){var e=this.expect(p.Keyword,t);return e.value!==t&&this.raise("keyword "+t,e),e}),u.prototype.contextualKeyword=h.type(p.Identifier,function(t){var e=this.expect(p.Identifier,t);return e.value!==t&&this.raise("keyword "+t,e),e}),u.prototype.symbol=h.type(p.Symbol,function(t){var e=this.expect(p.Symbol,t);return e.value!==t&&this.raise("symbol "+t,e),e}),u.prototype.punctuation=h.type(p.Punctuation,function(t){var e=this.expect(p.Punctuation,t);return e.value!==t&&this.raise(new p.Punctuation(t,null),e),e}),u.prototype.operator=h.value(p.Symbol,function(t){return"="!==t&&"->"!==t&&":="!==t&&":"!==t},function(){var t=this.expect(p.Symbol,"operator");return new c.Identifier(t.value,!0,t)}),u.prototype.identifier=h.identifier(function(){var t=this.expect(p.Identifier);return new c.Identifier(t.value,!1,t)}),u.prototype.underscore=h.punctuation("_",function(){var t=this.punctuation("_");return new c.Identifier("_",!1,t)}),u.prototype.expect=function(t,e){var n;return t!==p.Newline&&this.trim(),n=this.poll(),(null===n||n.constructor!==t)&&("string"==typeof e&&(e=new t(e,n.location)),this.raise(e||t,n)),n},u.prototype.trim=function(){for(var t=this.peek("newline");t.constructor===p.Newline&&t.indent>this.indent;)this.poll(),t=this.peek("newline")},u.prototype.poll=function(){var t=this.token;return null!==t?t.constructor!==p.EndOfInput&&(this.token=null):(t=this.lexer.nextToken(),this.token=t),t},u.prototype.peek=function(t){var e,n;if(n=this.token,null!==n)return this.token;if(e=this.lexer,n=e.nextToken(),"newline"!==t)for(;n.constructor===p.Newline&&n.indent>this.indent;)n=e.nextToken();return this.token=n,n},u.prototype.raise=function(t,e){void 0===e&&(e=this.peek()),l.raise(e,"Expected "+t+", but found "+e)},u.prototype.test=function(t){return this[t].test.apply(this,o(arguments,1))},u.prototype.one=function(t){return this.resolve(this[t].apply(this,o(arguments,1)))},u.prototype.lone=function(){return this.test.apply(this,arguments)?this.one.apply(this,arguments):this.resolve(null)},u.prototype.any=function(){function t(n){return this.test.apply(this,e)?this.one.apply(this,e).then(function(e){return"object"==typeof e&&n.push(e),t.call(this,n)}):this.resolve(n)}var e=arguments;return t.call(this,[])},u.prototype.many=function(){return this.one.apply(this,arguments).then(function(t){return this.any.apply(this,arguments).then(function(e){return e.unshift(t),e})})},u.prototype.on=function(){var t,e;return e=arguments.length-1,t=o(arguments,0,e),this.test.apply(this,t)?this.one.apply(this,t).then(arguments[e]):this.resolve(null)},u.prototype.attempt=function(t){var e,n;return e=this.lexer,n=this.token,this.lexer=e.clone(),this.task(function(){return t.call(this)}).then(null,function(){return this.lexer=e,this.token=n,null})},u.prototype.strict=function(t,e){var n=this.isStrict;return this.isStrict=e===!1?!1:!0,this.resolve(t.call(this)).then(function(t){return this.isStrict=n,t})},n.parse=s,n.ParseError=l.ParseError,n.isSymbol=f.isSymbol},{"./ast":1,"./parser/error":7,"./parser/lexer":8,"./parser/tokens":9,"./task":19,"./util":21}],7:[function(t,e,n){"use strict";function r(t,e){this.message=e,this.line=t.location.line,this.column=t.location.column}function i(t,e){throw new r(t,e)}var o=t("../util");o.inherits(r,Error),r.prototype.toString=function(){return"ParseError: "+this.message},n.ParseError=r,n.raise=i},{"../util":21}],8:[function(t,e,n){"use strict";function r(t){return a.isSymbol(t)||c.contains(u,t)}function i(t){this.text=t,this.index=0,this.length=t.length,c.makeCloneable(this,"index")}var o,u,s,a,c;o=t("./error"),s=t("./tokens"),a=t("../unicode"),c=t("../util"),u=["-","&","|",":","%","^","@","?","*","/","+","!"],i.prototype.raise=function(t){o.raise({location:{line:this.line(),column:this.column()}},t)},i.prototype.newToken=function(t){var e=c.slice(arguments,1);return e.push({line:this.line(),column:this.column()}),c.newApply(t,e)},i.prototype.line=function(){var t=this.text.substring(0,this.index).match(/\n/g);return null===t?1:t.length+1},i.prototype.column=function(){var t=this.text.substring(0,this.index);return t.substring(t.lastIndexOf("\n")+1).length+1},i.prototype.nextToken=function(t){function e(t){D.index=v,D.raise(t)}function n(t){return D.index=v,(t||w).validate(D)}function i(t){return v+=1,n(t)}function o(){w.value+=p,v+=1,p=F[v]}function u(){return p=F[v],"\r"===p?("\n"!==F[v+1]&&e("Invalid Unicode character \xab\\r\xbb without corresponding \xab\\n\xbb"),v+=1,p="\r\n",!0):"\n"===p||"\u2028"===p}function l(){for(var t=0;" "===F[v];)t+=1,v+=1;return t}function f(){var t,e;t=null;do if(v+=1,e=l(),"/"===F[v]&&"/"===F[v+1])for(null!==t&&(e=t);y>v&&!u();)v+=1;while(u());return n(D.newToken(s.Newline,e))}function h(t,e){w.validate===s.StringLiteral.prototype.validate&&(w.validate=function(n){n.raise(t+" \xab"+e+"\xbb in "+this)})}var p,d,m,g,v,y,D,b,F,w,E,C;if(D=this,v=this.index,y=this.length,F=this.text,p=F[v],b=" "===p,!t){for(;" "===p;)v+=1,p=F[v];this.index=v}if(v>=y)return this.newToken(s.EndOfInput);if(!t&&"/"===p&&"/"===F[v+1])return v-=1,f();if('"'===p||t)w=this.newToken(s.StringLiteral,""),g=!1;else if(a.isLetter(p)||"\u2026"===p)w=this.newToken(s.Identifier,p);else if(a.isNumber(p))d=!1,m=!1,C=!1,w=this.newToken(s.NumberLiteral,p);else if(r(p)||"."===p&&"."===F[v+1])w=this.newToken(s.Symbol,p,b);else{if(a.isPunctuation(p))return i(this.newToken(s.Punctuation,p,b));if(u())return f();"	"===p&&e("Invalid tab character: tabs are banned"),e("Unrecognised character \xab"+c.escape(p)+"\xbb")}for(t||(v+=1);y>v;){if(p=F[v],w.constructor===s.Identifier){if(!a.isLetter(p)&&!a.isNumber(p)&&"'"!==p&&"\u2032"!==p&&"\u2033"!==p&&"\u2034"!==p&&"\u2026"!==p)return n();w.value+=p}else if(w.constructor===s.NumberLiteral){if(m||(d||C||!/[xX.]/.test(p)?/[eE]/.test(p)&&(m=!0,o(),("+"===p||"-"===p)&&o()):("."===p?d=!0:C=!0,o())),!p||!(a.isNumber(p)||C&&/[a-zA-Z]/.test(p)))return p=w.value[w.value.length-1],"."===p&&(w.value=w.value.substring(0,w.value.length-1),v-=1),n();w.value+=p}else if(w.constructor===s.Symbol){if(E=w.value,!(r(p)||"."===p&&"."===E[E.length-1]))return n();w.value+=p}else if(w.constructor===s.StringLiteral){if("\n"===p)e("Missing close quote for "+w);else if(a.isControl(p))w.value+="\ufffd",h("Invalid control character",c.escape(p));else if(g)new RegExp('["\\\\{}]').test(p)?w.value+=p:"n"===p?w.value+="\n":"t"===p?w.value+="	":"r"===p?w.value+="\r":"b"===p?w.value+="\b":"f"===p?w.value+="\f":"v"===p?w.value+="":"0"===p?w.value+="\x00":"u"===p?(p=F.substr(v+1,4).match(/^[0-9a-fA-F]+/),p=p&&p[0]||"",p.length<4?(w.value+="\ufffd",h("Invalid Unicode literal value","\\u"+p)):w.value+=String.fromCharCode("0x"+p),v+=p.length):(h("Unrecognised escape character","\\"+p),w.value+="\ufffd");else{if('"'===p)return w.interpolation=!1,i();if("{"===p)return w.interpolation=!0,i();"\\"!==p&&(w.value+=p)}g=!g&&"\\"===p}v+=1}return w.constructor===s.StringLiteral&&e("Missing close quote for "+w),n()},n.Lexer=i,n.isSymbol=r},{"../unicode":20,"../util":21,"./error":7,"./tokens":9}],9:[function(t,e,n){"use strict";function r(t){return m.contains(p,t)}function i(t,e,n){this.value=t,this.location=e,void 0!==n&&(this.type=n)}function o(t,e){i.call(this,"\n",e),this.indent=t}function u(t,e){i.call(this,t,e,"keyword")}function s(t,e){i.call(this,t,e,"identifier")}function a(t,e,n){i.call(this,t,n,"symbol"),this.spaced=e}function c(t,e,n){a.call(this,t,e,n)}function l(t,e){i.call(this,t,e,"number")}function f(t,e){i.call(this,t,e,"string")}function h(t){i.call(this,"end of input",t,"eoi")}var p,d,m;d=t("../unicode"),m=t("../util"),p=["class","constructor","def","dialect","false","import","inherits","is","method","object","outer","return","self","super","true","type","var"],i.prototype.validate=function(t){return 0===this.value.length&&t.raise("Empty token of type "+this.type),this},i.prototype.toString=function(){return"the "+this.type+" "+this.value},m.inherits(o,i),o.prototype.toString=function(){return"a new line"},o.toString=o.prototype.toString,m.inherits(u,i),u.prototype.toString=function(){return"the keyword \xab"+this.value+"\xbb"},u.toString=function(){return"a keyword"},m.inherits(s,i),s.prototype.validate=function(t){return r(this.value)?new u(this.value,this.location).validate(t):i.prototype.validate.call(this,t)},s.prototype.toString=function(){return"the identifier \xab"+this.value+"\xbb"},s.toString=function(){return"an identifier"},m.inherits(a,i),a.toString=function(){return"a symbol"},m.inherits(c,i),c.toString=function(){return"punctuation"},m.inherits(l,i),l.prototype.validate=function(t){var e,n,r,o,u,s;if(u=this.value,"0"===u[0]&&u.length>1&&d.isNumber(u[1])&&t.raise("Leading zero on "+this),s=u.match(/[xX]/),e=10,null!==s&&s.index!==u.length-1)for(e=Number(u.substring(0,s.index)),0===e&&(e=16),(2>e||e>36||isNaN(e))&&t.raise(e+" is not a valid numerical base"),n=s.index+1,r=u.length;r>n;n+=1)isNaN(parseInt(u[n],e))&&t.raise("'"+u[n]+"' is not a valid digit in base "+e);
else o=u[u.length-1],/[eExX\+\-]/.test(o)&&t.raise("Dangling modifier on "+this),"."===o&&t.raise("Dangling decimal point on "+this);return i.prototype.validate.call(this,t)},l.prototype.toString=function(){return"the number literal "+this.value},l.toString=function(){return"a number"},m.inherits(f,i),f.prototype.validate=function(){return this},f.prototype.toString=function(){return'the string literal "'+m.escape(this.value)+'"'},f.toString=function(){return"a string"},m.inherits(h,i),h.prototype.toString=function(){return"the end of input"},h.toString=h.prototype.toString,n.Token=i,n.Newline=o,n.Keyword=u,n.Identifier=s,n.Symbol=a,n.Punctuation=c,n.NumberLiteral=l,n.StringLiteral=f,n.EndOfInput=h},{"../unicode":20,"../util":21}],10:[function(t,e,n){"use strict";function r(t,e,n){return{name:t,object:e,location:n||null}}function i(t){return{minimum:t}}function o(t,e){return e.generics=t,e}function u(t){if(!v.isGraceExceptionPacket(t))return v.InternalError.raiseFromPrimitiveError(t);throw t}function s(t,e,n){var o,s,a,c,l,f;for(arguments.length<3&&(n=e,e=[i(0)]),y.isArray(e)||(e=[e]),l=e.length,c=e.length>1,a=!1,s=0;l>s;s+=1)f=e[s],y.isArray(f)?1===f.length&&(f[1]=i(0)):e[s]=[0,f],f[0]>0&&(a=!0);return o=function(){var i,s,f,h;if(s=arguments.length,i=y.slice(arguments),h=this,1===e.length&&(f=i[0],y.isArray(f)&&y.owns(f,"generics")||(s=1,i=[i])),l>s)throw new TypeError('Not enough parts for method "'+t+'"');if(s>l)throw new TypeError('Too many parts for method "'+t+'"');return g.each(e,i,function(e,n){return"number"==typeof e[1]&&n.length<e[1]||n.length<e[1].minimum?v.InvalidRequest.raiseNotEnoughArgumentsForMethod(v.string(t)):"number"==typeof e[1]&&n.length>e[1]?v.InvalidRequest.raiseTooManyArgumentsForMethod(v.string(t)):y.isArray(n.generics)&&0!==n.generics.length?n.generics.length<e[0]?v.InvalidRequest.raiseNotEnoughGenericArgumentsForMethod(v.string(t)):n.generics.length>e[0]?v.InvalidRequest.raiseTooManyGenericArgumentsForMethod(v.string(t)):g.each(n.generics,function(t){return v.Pattern.assert(t)}).then(function(){return n.generics.concat(n)}):a?y.replicate(e[0],v.Unknown).concat(n):n}).then(function(t){return c||(t=t[0]),n.apply(h,t)}).then(function(t){return null===t||void 0===t?v.InternalError.raise(v.string("Method "+o+" returned an undefined value")):t},u).then(null,function(e){throw e.object.stackTrace.push(r(t,h)),e})},o.isGraceMethod=!0,o.identifier=t,o.isAsynchronous=!0,o.parts=e,o.toString=function(){return"\xab"+t+"\xbb"},o}function a(t,e,n){return s(t,[1].concat(e),function(t){var r=y.slice(arguments,1);return y.isArray(e)&&1!==e.length||(r=r[0]),n.apply(this,[t[0]].concat(r))})}function c(t,e,n){var r=s(t,e,function(){return n.apply(this,[null].concat(y.slice(arguments)))});return r.inherit=a(t,e,n),r}function l(t){return g.resolve("function"==typeof t.asPrimitive?t.asPrimitive():t)}function f(t){return"boolean"==typeof t?v.bool(t):"number"==typeof t?v.number(t):"string"==typeof t?v.string(t):"function"==typeof t?v.block(t):y.isArray(t)?v.list(t):void 0===t||null===t?v.done:t}function h(t,e,n){var r,i,o,u,a,c;return o=y.uglify(e),r=t[o],v.isGraceObject(t)||"function"==typeof r&&r.isGraceMethod||("function"==typeof r?r.isGraceMethod||(a=r,r=s(e,function(){var t=this;return g.each(y.slice(arguments),l).then(function(e){return a.apply(t,e)}).then(f)})):"asString"===e?r=s("asString",0,function(){return v.string(this.toString())}):"at()"===e?r=s("at()",1,function(t){var e=this;return v.asString(t).then(function(t){return f(e[t])})}):"at() put()"===e?r=s("at() put()",[1,1],function(t,e){var n=this;return v.asString(t).then(function(t){return l(e).then(function(e){return n[t]=e,v.done})})}):(i=o.length-2,":="===o.substring(i)?(o=o.substring(0,i),a=t[o],"function"==typeof a&&a.isGraceMethod||(r=s(e,1,function(e){return l(e).then(function(e){return t[o]=e,v.done})}))):(r=t[o],void 0===r?(c=typeof t,"object"===c&&y.isArray(t)&&(c="list"),"object"!==c&&(u=v["boolean"===c?"bool":c](t),a=u[o],"function"==typeof a&&(r=s(a.identifer,a.parts,function(){return a.apply(u,arguments).then(f)}))),r=r||v.base[o]):null!==r&&"function"!=typeof r&&(r=s(o,0,function(){return f(t[o])}))))),"function"!=typeof r||v.isGraceObject(t)&&r===Object.prototype[o]||"function"==typeof r&&r.internal?v.UnresolvedRequest.raiseForName_inObject([v.string(e)],[t]):!n&&r.isConfidential?v.UnresolvedRequest.raiseConfidentialForName_inObject([v.string(e)],[t]):g.resolve(r)}function p(t,e,n){try{return g.resolve(e.apply(t,n)).then(null,u)}catch(r){return g.reject(u(r))}}function d(t,e,n){return"string"==typeof e?h(t,e).then(function(e){return d(t,e,n)}):(void 0===n?n=[]:1!==n.length||y.owns(n[0],"generics")||(n=n[0]),p(t,e,n))}function m(t,e,n,r){return"string"==typeof e?h(t,e).then(function(e){return m(t,e,n,r)}):"function"!=typeof e.inherit?v.InvalidInherits.raiseForName(v.string(e.identifier)):(void 0===r&&(r=[[]]),r.unshift([n]),p(t,e.inherit,r))}var g,v,y;g=t("./task"),y=t("./util"),n.lookup=h,n.handleInternalError=u,n.apply=d,n.inherit=m,n.part=o,n.gte=i,n.trace=r,n.method=s,n.inheritor=a,n.constructor=c,v=t("./runtime/definitions"),y.extend(n,v),n.primitives=t("./runtime/primitives"),n.prelude=t("./runtime/prelude")},{"./runtime/definitions":11,"./runtime/prelude":15,"./runtime/primitives":16,"./task":19,"./util":21}],11:[function(t,e,n){"use strict";function r(){return new D.Object}function i(t,e){return new D.Block(t,e)}function o(t){return t?g[!0]:g[!1]}function u(t){return new D.String(t)}function s(t,e,n,r){return new D.Type(t,e,n,r)}function a(t,e){var n=new D.AbstractPattern;return n.match=b.method("match()",1,e),t=u(t),n.asString=b.method("asString",0,function(){return t}),n}function c(t,e){return new D.Success(t,e)}function l(t,e){return new D.Failure(t,e)}function f(t){var e,n;return n=g[t],e=b.constructor(t.toString(),0,function(t){return null!==t&&w.extendAll(t,n),n})}function h(t){return t instanceof D.ExceptionPacket}function p(t,e){return b.method("asString",0,function(){return b.string(t+"<")["++"](e[0]).then(function(t){var n=b.string(", ");return m.each(w.slice(e,1),function(e){return t["++"](n).then(function(n){return n["++"](e).then(function(e){t=e})})}).then(function(){return t})}).then(function(t){return t["++"](b.string(">"))})})}function d(t,e){var n=new D.Comparison;return t=u(t),n.ifLessThan_ifEqualTo_ifGreaterThan=b.method("ifLessThan() ifEqualTo() ifGreaterThan()",[1,1,1],function(t,n,r){return F.Action.assert(t[0]).then(function(){return F.Action.assert(n[0])}).then(function(){return F.Action.assert(r[0])}).then(function(){return e(t[0],n[0],r[0])})}),n.asString=b.method("asString",0,function(){return t}),n}var m,g,v,y,D,b,F,w;m=t("../task"),D=t("./primitives"),b=t("../runtime"),w=t("../util"),n.object=r,n.asString=D.asString,n.isGraceObject=function(t){return t instanceof D.Object},n.base=D.Object.prototype,n.block=i,n.bool=o,n.number=function(t){return new D.Number(t)},n.string=u,n.type=s,n.signature=function(t,e,n,r){return new D.Signature(t,e,n,r)},n.sigPart=function(t,e,n,r){return new D.Part(t,e,n,r)},n.proxy=function(t){return new D.TypeProxy(t)},n.pattern=a,n.named=function(t,e){return new D.NamedPattern(t,e)},n.success=c,n.failure=l,n.singleton=function(t,e){return a(t,function(t){var n=this;return e["=="](t).then(function(e){return e.ifTrue_ifFalse([b.block(0,function(){return c(t,n)})],[b.block(0,function(){return l(t,n)})])})})},n.match=function(t,e,n){return t?c(e,n):l(e,n)},n.equalityMatch=function(t,e){return t["=="](e).then(function(n){return n.andAlso_orElse([i(0,function(){return c(e,t)})],[i(0,function(){return l(e,t)})])})},n.list=function(t){return new D.List(t)},n.listOf=function(t){return new D.ListPattern(t||F.Unknown)},n.set=function(t){return new D.Set(t)},n.entry=function(t,e){return new D.Entry(t,e)},n.dictionary=function(t){return new D.Dictionary(t)},g={"true":new D.True,"false":new D.False},n.mtrue=f(!0),n.mfalse=f(!1),v=r(),v.asString=b.method("asString",0,function(){return u("done")}),n.done=v,n.emptyBlock=i(0,function(){return v}),F=t("./types"),w.extend(n,F),y=t("./exceptions"),w.extend(n,y),w.extend(n,t("./methods")),w.extend(n,t("./publicity")),n.isGraceExceptionPacket=h,n.isInternalError=function(t){return t instanceof Error||t instanceof y.InternalError.object.Packet},n.isParseError=function(t){return t instanceof y.ParseFailure.object.Packet},n.isInterruptError=function(t){return t instanceof m.InterruptError||t instanceof y.InternalError.object.Packet&&t.object.error instanceof m.InterruptError},n.withGenerics=function(t,e){function n(){this.asString=p(t,r)}var r,i,o;for(n.prototype=e,r=w.slice(arguments,2),i=0,o=r.length;o>i;i+=1)if(r[i]!==b.Unknown)return new n;return e},n.isSubMethod=function(t,e){var n,r,i,o,u,s;for(r=0,i=t.length;i>r;r+=1)if(u=e[r],n=void 0!==u.generics?u.generics.length:u[0],o=t[r][1],s=void 0!==u.parameters?u.parameters.length:u[1],0!==n&&t[r][0]!==n||("number"==typeof o?u.hasVarArg||o!==s:(u.hasVarArg?s-1:s)<o.minimum))return!1;return!0},n.LessThan=d("Less Than",function(t){return t.apply()}),n.EqualTo=d("Equal To",function(t,e){return e.apply()}),n.GreaterThan=d("Greater Than",function(t,e,n){return n.apply()})},{"../runtime":10,"../task":19,"../util":21,"./exceptions":12,"./methods":13,"./primitives":16,"./publicity":17,"./types":18}],12:[function(t,e,n){"use strict";function r(t){return m.apply(t,"asString").then(null,function(){return"unrenderable object"})}function i(t){return l.each(v.slice(arguments,1),function(e){return t["++"](e).then(function(e){t=e},function(){t+="unrenderable object"})}).then(function(){return t})}function o(t,e,n,r){t[v.uglify("raise"+e)]=m.method("raise"+e,n,function(){return r.apply(this,arguments).then(null,function(t){throw t.object.stackTrace=[],t})})}var u,s,a,c,l,f,h,p,d,m,g,v;l=t("../task"),m=t("../runtime"),h=t("./definitions"),d=t("./primitives"),v=t("../util"),g=h.string,p=g("\xab"),f=g("\xbb"),s=new d.Exception(g("Exception"),d.ExceptionPacket),n.Exception=s,s.refine(g("Error")).now(function(t){function e(t){throw t.object.stackTrace=[],t}var r,i;r=t.raise,i=t.raiseDefault,o(t,"()",1,function(t){return r.call(this,t).then(null,e)}),o(t,"Default",0,function(){return i.call(this).then(null,e)}),u=t,n.Error=t}),u.refine(g("Runtime Error")).now(function(t){c=t,n.RuntimeError=t}),c.refine(g("Internal Error")).now(function(t){var e=t.match;o(t,"FromPrimitiveError()",1,function(t){return t instanceof Error?this.raise(g(t.message)).then(null,function(e){throw e.object.error=t,e}):this.raise(g(t.toString()))}),t.match=m.method("match()",1,function(t){return t instanceof Error?h.success(t):e.call(this,t)}),n.InternalError=t}),c.refine(g("Incomplete Type")).now(function(t){var e,r;r=g("The type \xab"),e=g("\xbb was accessed before it was fully instantiated"),o(t,"ForName()",1,function(t){var n=this;return i(r,t,e).then(function(t){return n.raise(t)})}),n.IncompleteType=t}),c.refine(g("Incomplete Object")).now(function(t){var e,r,u;r=g("The implicit receiver of \xab"),u=g("\xabself"),e=g("\xbb was accessed before it was fully instantiated"),o(t,"ForName()",1,function(t){var n=this;return i(r,t,e).then(function(t){return n.raise(t)})}),o(t,"ForSelf",0,function(){var t=this;return i(u,e).then(function(e){return t.raise(e)})}),n.IncompleteObject=t}),c.refine_defaultMessage([g("Undefined Value")],[g("Access of a variable that has not yet had a value defined")]).now(function(t){var e,r;r=g("Access of a variable \xab"),e=g("\xbb that has not yet had a value defined"),o(t,"ForName()",1,function(t){var n=this;return i(r,t,e).then(function(t){return n.raise(t)})}),n.UndefinedValue=t}),c.refine_defaultMessage([g("Unmatchable Block")],[g("Match against a block without exactly one parameter")]).now(function(t){n.UnmatchableBlock=t}),c.refine(g("Invalid Type")).now(function(t){var e,r,u,s;s=g("Duplicate method name \xab"),r=g("\xbb in type \xab"),u=g("The type \xab"),e=g("\xbb recursively depends on itself to produce a value"),o(t,"DuplicateMethodName() inType()",[1,1],function(t,e){var n=this;return i(s,t[0],r,e[0],f).then(function(t){return n.raise(t)})}),o(t,"SelfDependencyForType()",1,function(t){var n=this;return i(u,t,e).then(function(t){return n.raise(t)})}),n.InvalidType=t}),c.refine_defaultMessage([g("Unresolved Request")],[g("Request for a variable or method which cannot be found")]).now(function(t){var e,r,u,s,a,c,l,h;h=g("Request for a variable or method \xab"),c=g("Request for a method \xab"),e=g("\xbb which cannot be found"),s=g("Assignment to variable \xab"),r=g("\xbb which cannot be assigned to"),l=g("Request for an undefined method \xab"),u=g("\xbb in \xab"),a=g("Request for a confidential method \xab"),o(t,"ForName()",1,function(t){var n=this;return m.String.cast(t).then(function(t){return t.asPrimitiveString().then(function(t){return/\(\)/.test(t)?c:h}).then(function(r){return i(r,t,e).then(function(t){return n.raise(t)})})})}),o(t,"ForAssignToName()",1,function(t){var e=this;return i(s,t,r).then(function(t){return e.raise(t)})}),o(t,"ForAssignToUnresolvedName()",1,function(t){var n=this;return i(s,t,e).then(function(t){return n.raise(t)})}),o(t,"ForName() inObject()",[1,1],function(t,e){var n=this;return i(l,t[0],u,e[0],f).then(function(t){return n.raise(t)})}),n.UnresolvedRequest=t,o(t,"ConfidentialForName() inObject()",[1,1],function(t,e){var n=this;return i(a,t[0],u,e[0],f).then(function(t){return n.raise(t)})})}),n.UnresolvedRequest.refine(g("Unresolved Super Request")).now(function(t){var e,r;r=g("Request for an undefined super method \xab"),e=g("\xbb in \xab"),o(t,"ForName() inObject()",[1,[1]],function(t,n){var o=this;return i(r,t[0],e,n[0],f).then(function(t){return o.raise(t)})}),n.UnresolvedSuperRequest=t}),c.refine(g("Invalid Request")).now(function(t){var e,r,u,s,a,c,l,f,h;l=g("Request for variable \xab"),c=g("Request for type \xab"),u=g("\xbb with arguments"),s=g("\xbb with generic parameters"),a=g("Request for method \xab"),e=g("\xbb did not supply enough arguments"),f=g("\xbb supplied too many arguments"),r=g("\xbb did not supply enough generic arguments"),h=g("\xbb supplied too many generic arguments"),o(t,"GenericsForVariable()",1,function(t){var e=this;return i(l,t,s).then(function(t){return e.raise(t)})}),o(t,"ArgumentsForVariable()",1,function(t){var e=this;return i(l,t,u).then(function(t){return e.raise(t)})}),o(t,"ArgumentsForType()",1,function(t){var e=this;return i(c,t,u).then(function(t){return e.raise(t)})}),o(t,"NotEnoughArgumentsForMethod()",1,function(t){var n=this;return i(a,t,e).then(function(t){return n.raise(t)})}),o(t,"TooManyArgumentsForMethod()",1,function(t){var e=this;return i(a,t,f).then(function(t){return e.raise(t)})}),o(t,"NotEnoughGenericArgumentsForMethod()",1,function(t){var e=this;return i(a,t,r).then(function(t){return e.raise(t)})}),o(t,"TooManyGenericArgumentsForMethod()",1,function(t){var e=this;return i(a,t,h).then(function(t){return e.raise(t)})}),n.InvalidRequest=t}),c.refine(g("Invalid Method")).now(function(t){var e,r,u,s,a,c,l;c=g("Definition \xab"),u=g("\xbb has mismatched parameters with its overridden method"),r=g("\xbb overrides a public method"),l=g("Confidential definition \xab"),r=g("\xbb overrides a public method"),s=g("\xbb overrides a static declaration"),a=g("\xbb is an overriding variable"),e=g("Multiple variadic arguments in method \xab"),o(t,"MismatchedParametersForName()",1,function(t){var e=this;return i(c,t,u).then(function(t){return e.raise(t)})}),o(t,"ConfidentialOverrideForName()",1,function(t){var e=this;return i(l,t,r).then(function(t){return e.raise(t)})}),o(t,"StaticOverrideForName()",1,function(t){var e=this;return i(c,t,s).then(function(t){return e.raise(t)})}),o(t,"OverridingVariableForName()",1,function(t){var e=this;return i(c,t,a).then(function(t){return e.raise(t)})}),o(t,"MultipleVariadicParametersForName()",1,function(t){var n=this;return i(e,t,f).then(function(t){return n.raise(t)})}),n.InvalidMethod=t}),c.refine_defaultMessage([g("Redefinition")],[g("Definition of a name that already exists")]).now(function(t){var e,r;r=g("A definition named \xab"),e=g("\xbb already exists"),o(t,"ForName()",1,function(t){var n=this;return i(r,t,e).then(function(t){return n.raise(t)})}),n.Redefinition=t}),c.refine(g("Invalid Return")).now(function(t){var e,r,u;e=g("Return from a completed method request for \xab"),r=g("Return from inside an object constructor"),u=g("Return from outside of a method"),o(t,"ForCompletedMethod()",1,function(t){var n=this;return i(e,t,f).then(function(t){return n.raise(t)})}),o(t,"InsideOfObject",0,function(){return this.raise(r)}),o(t,"OutsideOfMethod",0,function(){return this.raise(u)}),n.InvalidReturn=t}),c.refine_defaultMessage([g("Invalid Inherits")],[g("Inherit from method that does not end in an object constructor")]).now(function(t){var e,r;r=g("Inherit from method \xab"),e=g("\xbb that does not end in an object constructor"),o(t,"ForName()",1,function(t){var n=this;return i(r,t,e).then(function(t){return n.raise(t)})}),n.InvalidInherits=t}),c.refine_defaultMessage([g("Unresolved Module")],[g("Unable to locate a module")]).now(function(t){var e,r;r=g('Unable to locate a module at the path "'),e=g('"'),o(t,"ForPath()",1,function(t){var n=this;return i(r,t,e).then(function(t){return n.raise(t)})}),n.UnresolvedModule=t}),c.refine_defaultMessage([g("Parse Failure")],[g("Invalid Grace code failed to parse")]).now(function(t){n.ParseFailure=t}),u.refine(g("Logic Error")).now(function(t){a=t,n.LogicError=t}),a.refine_defaultMessage([g("Assertion Failure")],[g("Failed to satisfy a required pattern")]).now(function(t){var e,u,s;e=g("\xbb failed to satisfy the required pattern \xab"),u=g("\xbb is missing the required method \xab"),s=g("\xbb to satisfy the type \xab"),o(t,"ForValue() againstPattern()",[1,1],function(t,n){var o=this;return r(t[0]).then(function(t){return i(p,t,e,n[0],f).then(function(t){return o.raise(t)})})}),o(t,"ForValue() againstType() missing()",[1,1,1],function(t,e,n){var o=this;return r(t[0]).then(function(t){return i(p,t,u,n[0],s,e[0],f).then(function(t){return o.raise(t)})})}),n.AssertionFailure=t}),a.refine(g("Match Failure")).now(function(t){var e=g("No case branches matched \xab");o(t,"ForObject()",1,function(t){var n=this;return i(e,t,f).then(function(t){return n.raise(t)})}),n.MatchFailure=t}),a.refine(g("No Such Value")).now(function(t){var e,r;r=g("No such value \xab"),e=g("\xbb in object \xab"),o(t,"ForName() inObject()",[1,1],function(t,n){var o=this;return i(r,t[0],e,n[0],f).then(function(t){return o.raise(t)})}),n.NoSuchValue=t}),a.refine(g("Failed Search")).now(function(t){var e=g("Could not find the object \xab");o(t,"ForObject()",1,function(t){var n=this;return i(e,t,f).then(function(t){return n.raise(t)})}),n.FailedSearch=t}),a.refine_defaultMessage([g("Out Of Bounds")],[g("Access of a collection outside of its bounds")]).now(function(t){var e,r;r=g("Access of a collection at index \xab"),e=g("\xbb outside of its bounds"),o(t,"ForIndex()",1,function(t){var n=this;return h.Number.cast(t).then(function(t){return i(r,t,e).then(function(t){return n.raise(t)})})}),n.OutOfBounds=t}),a.refine(g("Not A Number")).now(function(t){var e,u,s,a,c,l;e=g("Division by zero"),l=g("Failed to parse \xab"),a=g("\xbb to a number"),c=g("Applying \xab"),u=g("\xbb to the number \xab"),s=g("\xbb is not a real number"),o(t,"DivideByZero",0,function(){return this.raise(e)}),o(t,"ForParse()",1,function(t){var e=this;return m.String.cast(t).then(function(t){return r(t).then(function(t){return i(l,t,a).then(function(t){return e.raise(t)})})})}),o(t,"ForOperation() on()",[1,1],function(t,e){var n=this;return i(c,t[0],u,e[0],s).then(function(t){return n.raise(t)})}),n.NotANumber=t}),s.refine(g("Checker Failure")).now(function(t){t.object.Packet.prototype.nodeOrIfAbsent=m.method("nodeOrIfAbsent",1,function(t){return m.Action.assert(t).then(function(){return t.apply()})}),o(t,"() forNode()",[1,1],function(t,e){return t=t[0],e=e[0],this.raise(t).then(null,function(t){throw t.object.node=e,t.nodeOrIfAbsent=m.method("nodeOrIfAbsent",1,function(t){return m.Action.assert(t).then(function(){return e})}),t})}),o(t,"ForNode()",1,function(t){return this.raiseDefault().then(null,function(e){throw e.object.node=t,e.nodeOrIfAbsent=m.method("nodeOrIfAbsent",1,function(e){return m.Action.assert(e).then(function(){return t})}),e})}),n.CheckerFailure=t})},{"../runtime":10,"../task":19,"../util":21,"./definitions":11,"./primitives":16}],13:[function(t,e,n){"use strict";function r(t,e,n){var r=p.part(e,[n]);return null!==t?this.withAll.inherit.call(this,t,r):this.withAll(r)}function i(t,e){var n;for(n=20+t;n>t;t+=1)e(t)}function o(t){i(0,function(e){var r,i,o;o="if() then()"+g.replicate(e," elseIf() then()").join("")+(t?" else()":""),r=g.uglify(o),t?(i=[1,[1,1]].concat(g.repeat(e,[1,[1,1]])),i.push([1,1])):i=[1,1].concat(g.replicate(2*e,1)),n[r]=p.method(o,i,function(e){var n=g.slice(arguments,1);return a.Boolean.cast(e[0]).then(function(e){var r=n.length-1;return s.each(n,function(e,n){return!t||n!==r&&n%2!==0?a.Action.cast(e[0]):a.Action.cast(e[1]).then(function(t){return[e[0],t]})}).then(function(n){function i(e,o){var u;return u=t?p.block(0,function(){return n[o][1].apply().then(function(t){return n[o][0].assert(t).then(function(){return t})})}):n[o],e.ifTrue_ifFalse([u],p.block(0,function(){return t&&o+1===r?n[r][1].apply().then(function(t){return n[r][0].assert(t).then(function(){return t})}):o===r?p.done:n[o+1].apply().then(function(t){return a.Boolean.cast(t)}).then(function(t){return i(t,o+2)})}))}return i(e,0).then(t?null:function(){return p.done})})})})})}function u(t){i(0,function(e){var r,i,o;o="try()"+g.replicate(e," catch()").join("")+(t?" finally()":""),r=g.uglify(o),i=[[1,1]].concat(g.replicate(e,[1,1])),t&&i.push(1),n[r]=p.method(o,i,function(e){var n,r;return n=g.slice(arguments,1),t&&(r=n.pop()),a.Action.cast(e[1]).then(function(i){return s.each(n,function(t){return a.Function.cast(t[1]).then(function(e){return[t[0],e]})}).then(function(n){function o(t){return i.apply().then(null,p.handleInternalError).then(function(t){return e[0].assert(t).then(function(){return t})},function(t){function e(r){return r===n.length?t.raise():n[r][1].match(t).then(function(t){return t.ifTrue_ifFalse([p.block(0,function(){return t.value().then(function(t){return n[r][0].assert(t).then(function(){return t})})})],[p.block(0,function(){return e(r+1)})])})}return e(0)}).then(t,function(e){function n(){return e.raise()}return t().then(n,n)})}return t?a.Action.cast(r).then(function(t){return o(function(e){return t.apply().then(function(){return e},function(){return e})})}):o(s.resolve)})})})})}var s,a,c,l,f,h,p,d,m,g;s=t("../task"),p=t("../runtime"),g=t("../util"),a=t("./definitions"),h=t("./primitives"),m=t("./types"),n.print=p.method("print()",1,function(t){return m.String.match(t).then(function(e){return e.ifTrue_ifFalse([a.block(0,function(){return t})],[a.block(0,function(){return p.apply(t,"asString")})])}).then(function(t){return m.String.cast(t).then(function(){return t.asPrimitiveString()})}).then(function(t){return console.log(t),a.done})}),n.while_do=p.method("while() do()",[1,1],function(t,e){return m.Action.cast(t[0]).then(function(t){return m.Action.cast(e[0]).then(function(e){return new s(function(n,r,i){function o(){i.isStopped||(i.waitingOn=t.apply().then(function(t){return t.ifTrue_ifFalse([c],[u])}).then(null,r))}var u,c;c=a.block(0,function(){return e.apply().then(function(){return o(),a.done})}),u=a.block(0,function(){return n(a.done),a.done}),i.stop=function(){this.isStopped=!0,s.prototype.stop.call(i)},o()})})})}),n.delegateTo=p.constructor("delegateTo()",p.gte(1),function(t){var e;return t=t||p.object(),e=g.slice(arguments,1),s.each(e,function(e){g.forProperties(e,function(e,n){var r;void 0!==t[e]||"function"!=typeof n||n.isConfidential||(r=function(){return n.apply(this||t,arguments)},g.extend(r,n),t[e]=r)})}).then(function(){return t})}),l=a.object(),l.empty=p.constructor("empty",[[1,0]],function(t,e){return r.call(this,t,[e],a.list([]))}),l["with"]=p.constructor("with",[[1,p.gte(0)]],function(t,e){return r.call(this,t,[e],a.list(g.slice(arguments,2)))}),l.withAll=p.constructor("withAll",[[1,1]],function(t,e,n){var r=[];return p.Do.cast(n).then(function(t){return t["do"](p.block(1,function(t){return e.assert(t).then(function(){return r.push(t),p.done})}))}).then(function(){var e=p.list(r);return null!==t&&g.extendAll(t,e),e})}),l.asString=p.method("asString",0,function(){return p.string("list")}),n.list=p.method("list",0,function(){return l}),d=a.object(),d.empty=p.constructor("empty",[[1,0]],function(t,e){return r.call(this,t,[e],a.set([]))}),d["with"]=p.constructor("with",[[1,p.gte(0)]],function(t,e){return r.call(this,t,[e],a.set(g.slice(arguments,2)))}),d.withAll=p.constructor("withAll",[[1,1]],function(t,e,n){var r=a.set([]);return p.Do.cast(n).then(function(t){return t["do"](p.block(1,function(t){return e.assert(t).then(function(){return r.internalPush(t)})}))}).then(function(){return null!==t&&g.extendAll(t,r),r})}),d.asString=p.method("asString",0,function(){return p.string("set")}),n.set=p.method("set",0,function(){return d}),c=a.object(),c.empty=p.constructor("empty",[[2,0]],function(t,e,n){return r.call(this,t,[e,n],a.dictionary([]))}),c["with"]=p.constructor("with",[[2,p.gte(0)]],function(t,e,n){return r.call(this,t,[e,n],a.dictionary(g.slice(arguments,3)))}),c.withAll=p.constructor("withAll",[[2,1]],function(t,e,n,r){var i=a.dictionary([]);return p.Do.cast(r).then(function(t){return t["do"](p.block(1,function(t){return a.Entry.cast(t).then(function(t){return t.key().then(function(e){return t.value().then(function(t){return i.internalPush(a.entry(e,t))})})})}))}).then(function(){return null!==t&&g.extendAll(t,i),i})}),c.asString=p.method("asString",0,function(){return p.string("dictionary")}),n.dictionary=p.method("dictionary",0,function(){return c}),o(!1),o(!0),i(1,function(t){var e,r,i;i="match()"+g.replicate(t," case()").join(""),e=g.uglify(i),r=[[t,1]].concat(g.replicate(t,[1,1])),n[e]=p.method(i,r,function(t){var e,n,r;return r=t[0],e=g.slice(arguments,1),n=t.length-1,s.each(t.slice(0,n),function(t){return r["|"](t).then(function(t){r=t})}).then(function(){return t=t[n],r.assert(t)}).then(function(){return s.each(e,function(t){return a.Function.cast(t[1]).then(function(e){return[t[0],e]})}).then(function(e){function n(r){return r===e.length?a.MatchFailure.raiseForObject(t):e[r][1].match(t).then(function(t){return t.ifTrue_ifFalse(p.part(e[r][0],p.block(0,function(){return t.value()})),[p.block(0,function(){return n(r+1)})])})}return n(0)})})})}),u(!1),u(!0),f=a.object(),f["abstract"]=p.constructor("abstract",0,function(t){var e=new h.AbstractPattern;return t?(g.extendAll(t,e),t):a.Pattern.assert(e)}),f.singleton=p.constructor("singleton",0,function(t){var e=new h.Singleton;return t?(g.extendAll(t,e),t):e}),f.asString=p.method("asString",0,function(){return a.string("pattern")}),n.pattern=p.method("pattern",0,function(){return f})},{"../runtime":10,"../task":19,"../util":21,"./definitions":11,"./primitives":16,"./types":18}],14:[function(t,e,n){"use strict";function r(t,e){this.object={name:t,parameters:e}}function i(t){var e,n,i,o,u;for(o=t.identifier.split(" "),i=t.parts,u=[],e=0,n=o.length;n>e;e+=1)u.push(new r(o[e].replace("()",""),i[e]));this.object={method:t,parts:u}}function o(t){this.object=t}var u,s,a,c;a=t("../runtime"),c=t("../util"),u=t("./definitions"),s=t("./primitives"),c.inherits(r,s.Object),r.prototype.name=a.method("name",0,function(){return u.string(this.object.name)}),r.prototype.generics=a.method("generics",0,function(){return u.number(this.object.parameters[0])}),r.prototype.parameters=a.method("parameters",0,function(){return u.number(this.object.parameters[1])}),r.prototype.toString=function(){var t,e;return t=this.object.parameters[0],e=this.object.parameters[1],this.object.name+(0===t?"":"<"+t+">")+(0===e?"":"("+e+")")},r.prototype.asString=a.method("asString",0,function(){return u.string(this.toString())}),c.inherits(i,s.Object),i.prototype.name=a.method("name",0,function(){return u.string(this.object.method.identifier)}),i.prototype.signature=a.method("signature",0,function(){return new s.List(this.object.parts)}),i.prototype.toString=function(){return"method "+this.object.parts.join(" ")},i.prototype.asString=a.method("asString",0,function(){return u.string(this.toString())}),c.inherits(o,s.Object),o.prototype.methodNamed_ifAbsent=a.method("methodNamed() ifAbsent",[1,[1,1]],function(t,e){var n=this.object;return t=t[0],e=e[1],a.String.assert(t).then(function(){return a.Action.assert(e)}).then(function(){return t.asPrimitiveString()}).then(function(t){var r;if(a.isGraceObject(n))return r=c.uglify(t),c.owns(n,r)&&n[r].isGraceMethod?new i(n[r]):e.apply();throw new Error("Mirrors not yet implemented for JavaScript objects")})}),o.prototype.methodNamed=a.method("methodNamed()",1,function(t){return this.methodNamed_ifAbsent([t],[a.block(0,function(){return a.FailedSearch.raiseForObject(t)})])}),o.prototype.methods=a.method("methods",0,function(){var t,e;if(e=this.object,t=[],!a.isGraceObject(e))throw new Error("Mirrors not yet implemented for JavaScript objects");return c.forProperties(e,function(e,n){n.isGraceMethod&&t.push(new i(n))}),new s.Set(t)}),o.prototype.asString=a.method("asString",0,function(){return this.object.asString().then(function(t){return u.string("mirror[")["++"](t)}).then(function(t){return t["++"](u.string("]"))})}),n.reflect=a.method("reflect()",1,function(t){return new o(t)}),n.Mirror=u.type("Mirror",[u.signature([u.sigPart("methodNamed",["name"]),u.sigPart("ifAbsent",["onAbsent"])]),u.signature("methodNamed",["name"]),u.signature("methods")]),n.MirrorMethod=u.type("MirrorMethod",[u.signature("name"),u.signature("signature")]),n.MirrorPart=u.type("MirrorMethod",[u.signature("name"),u.signature("generics"),u.signature("parameters")]),n.toString=function(){return"mirrors"}},{"../runtime":10,"../util":21,"./definitions":11,"./primitives":16}],15:[function(t,e){(function(n){"use strict";function r(t,e){return l.method(t,0,function(){return e})}function i(t,e){var n=e.object?e.object.generics:0;return l.method(t,[[n,0]],function(){return l.withGenerics.apply(null,[t,e].concat(f.slice(arguments)))})}function o(t){f.forProperties(t,function(t,e){c[t]=r(t,e)})}var u,s,a,c,l,f;u=t("../task"),s=t("./definitions"),a=t("../hopper"),l=t("../runtime"),f=t("../util"),c=s.object(),c.done=r("done",l.done),c.LessThan=r("LessThan",s.LessThan),c.EqualTo=r("EqualTo",s.EqualTo),c.GreaterThan=r("GreaterThan",s.GreaterThan),f.extend(c,t("./methods")),f.forProperties(t("./types"),function(t,e){c[t]=i(t,e)}),o(t("./exceptions")),o(t("./publicity")),c.mirrors=r("mirrors",t("./mirrors")),e.exports=new u(function(t,e){n.nextTick(function(){!function(n,r){return null!==n?e(n):void a.interpret("prelude",r.toString(),c,function(n){null!==n?e(n):t(c)})}(null,'method asString -> String {\n  "prelude"\n}\n\n// This has to be a method to account for delegation.\nmethod prelude {\n  self\n}\n\nmethod unless(cond : Boolean) then(then : Action) -> Done {\n  cond.orElse(then)\n  done\n}\n\nmethod unless(cond : Boolean)\n    then<T>(then : Action<T>) else<U>(else : Action<U>) -> T | U {\n  cond.andAlso(else) orElse(then)\n}\n\nmethod until(cond : Action<Boolean>) do(action : Action) -> Done {\n  while { !cond.apply } do(action)\n}\n\nmethod for<T>(in : Do<T>) do(f : Procedure<T>) -> Done {\n  in.do(f)\n}\n\ntype ExceptionPattern = {\n  parent -> ExceptionPattern\n\n  refine(name : String) -> ExceptionPattern\n  refine(name : String) defaultMessage(message : String) -> ExceptionPattern\n\n  raise(message : String) -> None\n  raiseDefault -> None\n}\n\ndef EnvironmentException : ExceptionPattern is public =\n  Exception.refine("Environment Exception")\n\ndef ResourceException : ExceptionPattern is public =\n  Exception.refine("Resource Exception")\n\ndef SubobjectResponsibility : ExceptionPattern is public = object {\n  inherits LogicError.refine("Subobject Responsibility")\n\n  method raiseForMethod(name : String) -> None {\n    raise "A subobject should have overridden the method \xab{name}\xbb"\n  }\n}\n\ntype MutableList<T> = List<T> & type {\n  // Insert an element at the given index, overwriting and returning the element\n  // at that position.\n  // Raises an Out Of Bounds if the index is not within the bounds of the list.\n  at(index : Number) put(element : T) -> T\n\n  // Add an element to the end of the list.\n  // Raises an Out Of Bounds if the index is not within the bounds of the list.\n  add(element : T) -> Done\n\n  // Remove and return the element at the given index.\n  removeAt(index : Number) -> T\n\n  // Remove the given element, returning the index where it was found.\n  // Returns the result of the given action if the element is not present.\n  remove(element : T) ifAbsent<U>(action : Action<U>) -> Number | U\n\n  // Remove the given element, returning the index where it was found.\n  // Raises a Failed Search if the element is not present.\n  remove(element : T) -> Number\n}\n\ndef mutableList is public = object {\n  inherits delegateTo(list)\n\n  constructor withAll<T>(elements : Do<T>) -> MutableList<T> {\n    inherits list.withAll<T>(elements)\n\n    method boundsCheck(index : Number) -> Done is confidential {\n      if ((index < 1) || (index > size)) then {\n        OutOfBounds.raiseForIndex(index)\n      }\n    }\n\n    method at(index : Number) put(element : T) -> T {\n      boundsCheck(index)\n      internalSplice(index - 1, 1, element)\n    }\n\n    method add(element : T) -> Done {\n      internalPush(element)\n    }\n\n    method removeAt(index : Number) -> T {\n      boundsCheck(index)\n      internalSplice(index - 1, 1)\n    }\n\n    method remove(element : T) ifAbsent<U>(action : Action<U>) -> Number | U {\n      internalRemove(element, action)\n    }\n\n    method remove(element : T) -> Number {\n      remove(element) ifAbsent<None> {\n        FailedSearch.raiseForObject(element)\n      }\n    }\n\n    method asImmutable -> List<T> {\n      list.withAll(self)\n    }\n  }\n\n  method asString -> String {\n    "mutableList"\n  }\n}\n\n\ntype Set<T> = Collection<T> & type {\n  // Produce the concatenation of this set with another, without modifying\n  // either set.\n  ++(set : Set<T>) -> Set<T>\n\n  // Produce an immutable representation of the current state of this set.\n  asImmutable -> Set<T>\n}\n\ntype MutableSet<T> = Set<T> & type {\n  // Add an element to the set.\n  add(element : T) -> Done\n\n  // Remove the given element. Applies the given action if the element is not\n  // present.\n  remove(element : T) ifAbsent(action : Action) -> Done\n\n  // Remove the given element. Raises a Failed Search if the element is not\n  // present.\n  remove(element : T) -> Done\n}\n\ndef mutableSet is public = object {\n  inherits delegateTo(set)\n\n  constructor withAll<T>(elements : Do<T>) -> MutableSet<T> {\n    inherits set.withAll<T>(elements)\n\n    method add(element : T) -> Done {\n      internalPush(element)\n    }\n\n    method remove(element : T) ifAbsent(action : Action) -> Done {\n      internalRemove(element, action)\n      done\n    }\n\n    method remove(element : T) -> Done {\n      remove(element) ifAbsent {\n        FailedSearch.raiseForObject(element)\n      }\n    }\n\n    method asImmutable -> Set<T> {\n      set.withAll(self)\n    }\n  }\n\n  method asString -> String {\n    "mutableSet"\n  }\n}\n\nclass entry.key<K>(key\' : K) value<V>(value\' : V) -> Entry<K, V> {\n  def key : K is public = key\'\n  def value : V is public = value\'\n\n  method ==(other : Object) -> Boolean {\n    match (other)\n      case { anEntry : Entry<K, V> ->\n        (key == anEntry.key).andAlso {\n          value == anEntry.value\n        }\n      }\n      case { _ -> false }\n  }\n\n  method asString -> String {\n    "{key.asString} => {value.asString}"\n  }\n}\n\ntype Dictionary<K, V> = Set<Entry<K, V>> & type {\n  // Whether the dictionary contains the given key.\n  containsKey(key : K) -> Boolean\n\n  // Whether the dictionary contains the given value.\n  containsValue(value : V) -> Boolean\n\n  // Produce an immutable representation of the current state of this\n  // dictionary.\n  asImmutable -> Dictionary<K, V>\n}\n\ntype MutableDictionary<K, V> = Dictionary<K, V> & type {\n  // Add a value at the given key into the dictionary.\n  // Replaces the existing entry if the key is already present.\n  at(key : K) put(value : V) -> Done\n\n  // Add an entry into the dictionary.\n  // Replaces the existing entry if the key is already present.\n  add(entry : Entry<K, V>) -> Done\n\n  // Remove and return the value at the given key.\n  // Returns the result of the given action if the key is not present.\n  removeAt(key : K) ifAbsent<T>(action : Action<T>) -> V | T\n\n  // Remove and return the value at the given key.\n  // Raises a Failed Search if the key is not present.\n  removeAt(key : K) -> V\n\n  // Remove the given entry.\n  // Runs the given action if the entry is not present.\n  remove(element : Entry<K, V>) ifAbsent(action : Action) -> Done\n\n  // Remove the given entry.\n  // Raises a Failed Search if the entry is not present.\n  remove(element : Entry<K, V>) -> Done\n}\n\ndef mutableDictionary is public = object {\n  inherits delegateTo(dictionary)\n\n  constructor withAll<K, V>(elements : Do<Entry<K, V>>)\n      -> MutableDictionary<K, V> {\n    inherits dictionary.withAll<K, V>(elements)\n\n    method at(key : K) put(value : V) -> Done {\n      internalPush(entry.key(key) value(value))\n    }\n\n    method add(entry : Entry<K, V>) -> Done {\n      internalPush(entry)\n    }\n\n    method removeAt(key : K) ifAbsent<T>(action : Action<T>) -> V | T {\n      internalRemoveAt(key, action)\n    }\n\n    method removeAt(key : K) -> V {\n      removeAt(key) ifAbsent {\n        FailedSearch.raiseForObject(key)\n      }\n    }\n\n    method remove(entry : Entry<K, V>) ifAbsent(action : Action) -> Done {\n      internalRemove(entry, action)\n      done\n    }\n\n    method remove(entry : Entry<K, V>) -> Done {\n      remove(entry) ifAbsent {\n        FailedSearch.raiseForObject(entry)\n      }\n\n      done\n    }\n\n    method asImmutable -> Dictionary<K, V> {\n      dictionary.withAll(self)\n    }\n  }\n\n  method asString -> String {\n    "mutableDictionary"\n  }\n}\n\ndef \u2026 : Unknown = object {\n  method \u2026 {\n    self\n  }\n\n  method asString -> String {\n    "\u2026"\n  }\n}\n')
})})}).call(this,t("_process"))},{"../hopper":3,"../runtime":10,"../task":19,"../util":21,"./definitions":11,"./exceptions":12,"./methods":13,"./mirrors":14,"./publicity":17,"./types":18,_process:27}],16:[function(t,e,n){"use strict";function r(t,e){t.prototype[Z.uglify(e)]=Y.method.apply(Y,Z.slice(arguments,1))}function i(t,e){t.prototype[Z.uglify(e)]=Y.constructor.apply(Y,Z.slice(arguments,1))}function o(t){return J.Number.cast(t).then(function(t){return t.asPrimitiveNumber()})}function u(t){return J.String.cast(t).then(function(t){return t.asPrimitiveString()})}function s(){return this}function a(t){return Y.apply(t,"asString").then(function(t){return u(t)})}function c(){return this}function l(t,e){return function(n){var r=this;return J.Pattern.cast(n).then(function(n){var i=new c;return i.match=Y.method("match()",1,function(t){return r.match(t).then(function(r){return J.Boolean.cast(r).then(function(r){return r[e](J.block(0,function(){return n.match(t)}))})})}),i.asString=Y.method("asString",0,function(){return r.asString().then(function(e){return Y.string(t+"(")["++"](e)}).then(function(t){return t["++"](Y.string(", "))}).then(function(t){return Y.apply(n,"asString").then(function(e){return t["++"](e)})}).then(function(t){return t["++"](Y.string(")"))})}),i})}}function f(){c.call(this)}function h(t,e){var n;c.call(this),n="number"==typeof t?t:t[1],this.apply=Y.method("apply"+(0===n?"":"()"),[t],e),this.asString=Y.method("asString",0,function(){return J.string("block/"+n)}),1===n&&(this.match=Y.method("match()",1,function(t){var e=this;return e.apply(t).then(function(t){return J.success(t,e)})}))}function p(){c.call(this)}function d(t,e){r(t,"ifTrue() ifFalse()",[[1,1],[1,1]],function(){var t,n;return n=arguments[e],t=n[1],t.apply()})}function m(){return this}function g(){return this}function v(t,e){return function(n){var r=this;return J[e].cast(n).then(function(n){return r["asPrimitive"+e]().then(function(r){return n["asPrimitive"+e]().then(function(e){return t(r,e)})})})}}function y(){c.call(this)}function D(t){c.call(this),t=Number(t),this.asPrimitiveNumber=Y.method("asPrimitiveNumber",0,function(){return t})}function b(t){return v(function(e,n){return new D(t(e,n))},"Number")}function F(t){return v(function(e,n){return J.bool(t(e,n))},"Number")}function w(t,e,n){e=e||t,r(D,t,0,function(){return this.asPrimitiveNumber().then(function(t){var r=Math[e](t,n);return isNaN(r)?J.NotANumber.raiseForOperation_on([e],[t]):new D(r)})})}function E(t){c.call(this),t=String(t),this.asPrimitiveString=Y.method("asPrimitiveString",function(){return t})}function C(t){return v(function(e,n){return J.bool(t(e,n))},"String")}function A(t){var e,n,i;n=t?"indexOf":"lastIndexOf",i=n+"_startingAt_ifAbsent",e=t?function(){return X.resolve(J.number(1))}:function(t){return t.asPrimitiveString().then(function(t){return J.number(t.length)})},r(E,n+"() startingAt() ifAbsent()",[1,1,[1,1]],function(t,e,r){var i=this;return u(t[0]).then(function(t){return o(e[0]).then(function(e){return J.Action.cast(r[1]).then(function(o){return i.asPrimitiveString().then(function(i){var u;return 0>e||e>i.length||0===e&&0!==i.length?J.OutOfBounds.raiseForIndex(J.number(e)):(u=i[n](t,e-1),0>u?o.apply().then(function(t){return r[0].assert(t).then(function(){return t})}):J.number(u+1))})})})})}),r(E,n+"()",1,function(t){var n=this;return e(n).then(function(e){return n[i]([t],[e],[J.block(0,function(){return J.FailedSearch.raiseForObject(t)})])})}),r(E,n+"() startingAt()",[1,1],function(t,e){var n=this;return n[i](t,e,[J.block(0,function(){return J.FailedSearch.raiseForObject(t)})])}),r(E,n+"() ifAbsent()",[1,[1,1]],function(t,n){var r=this;return e(r).then(function(e){return r[i](t,[e],Y.part(n[0],n[1]))})})}function x(t,e,n,r){"boolean"!=typeof e&&(r=n,n=e,e=!1),void 0===n?(r=[],n=[]):void 0===r&&(r=n,n=[]),this.name=t,this.hasVarArg=e,this.generics=n,this.parameters=r}function k(t,e,n,r){this.parts="string"==typeof t?[new x(t,e,n,r)]:Z.map(t,function(t){return"string"==typeof t?new x(t,!1,[],[]):t})}function T(t){return"undefined"!==t.object&&Z.isArray(t.object.signatures)}function B(t){var e=this;this.object={dependents:[],become:function(n){var r;if(n instanceof B&&n.object.become)return n.object.dependents.push(this),X.resolve();n.object&&n.object.signatures&&(this.signatures=n.object.signatures);for(r in n)e.hasOwnProperty(r)||n[r]===e[t]||(e[r]=n[r]);return delete this.become,X.each(this,this.dependents,function(t){return t.become(e)}).then(function(){delete this.dependents})}},null!==t&&(this.asString=Y.method("asString",0,function(){return J.string(t)}))}function S(t,e,n){return t.then(function(t){var r,i,o,u;return u=new B(null),u.asString=t.asString,e instanceof B&&e.object.become?(e.object.dependents.push(u.object),i=!1):i=!0,n instanceof B&&n.object.become?(n.object.dependents.push(u.object),o=!1):o=!0,r=u.object.become,u.object.become=function(t){if(t!==e||o){if(t!==n||i)return e["&"](n).then(function(t){return r.call(u.object,t)});o=!0}else i=!0;return X.resolve()},u})}function j(t,e,n,r){var i,o;if("string"!=typeof t&&(r=n,n=e,e=t,t=null),"number"!=typeof e&&(r=n,n=e,e=0),void 0===r)r=n,n=null;else if(Z.isArray(n))for(i=0,o=n.length;o>i;i+=1)r=r.concat(n[i].object.signatures);else r=r.concat(n.object.signatures);this.object={generics:e,signatures:r},null!==t&&(t=J.string(t),this.asString=Y.method("asString",0,function(){return t}))}function N(t,e,n){var r,i,o,u,s,a,c;for(c=t.object.signatures,r=0,i=c.length;i>r;r+=1){if(a=c[r],u=a.name(),o=e[Z.uglify(u)],s=a.parts,void 0===o)return n(e,t,u);if("function"==typeof o&&void 0!==o.parts&&!J.isSubMethod(o.parts,s))return n(e,t,u)}return J.success(e,t)}function P(t,e){this.name=Y.method("name",function(){return t}),this.pattern=Y.method("pattern",function(){return e})}function O(t){return function(){return this.value().then(function(e){return a(e).then(function(e){return J.string(t+"("+e+")")})})}}function $(t,e){m.call(this),this.value=Y.method("value",0,function(){return t}),this.pattern=Y.method("pattern",0,function(){return e})}function R(t,e){g.call(this),this.value=Y.method("value",0,function(){return t}),this.pattern=Y.method("pattern",0,function(){return e})}function L(t){var e=[];return t["do"](J.block(1,function(t){return e.push(t),Y.done})).then(function(){return e})}function q(t,e,n){this.object={elements:t,open:e,close:n}}function I(t){q.call(this,t,"[","]")}function M(t){this.pattern=Y.method("pattern",0,function(){return t})}function _(t){q.call(this,t,"{","}")}function U(t,e){this.object={key:t,value:e}}function H(t){return t instanceof U?X.resolve(t):t.key().then(function(e){return t.value().then(function(t){return new U(e,t)})})}function W(t){q.call(this,t,"{","}")}function V(t,e,n){function r(t,e,r){i[t]=Y.method(t,0,null===n||null===n[r]?function(){return J.NoSuchValue.raiseForName_inObject([J.string(t)],[i])}:function(){return J[e](n[r])}),i[t+"OrIfAbsent"]=Y.method(t+"OrIfAbsent",[[1,1]],function(t){var i=t[0];return J.Action.cast(t[1]).then(function(t){return null===n||null===n[r]?t.apply().then(function(t){return i.assert(t).then(function(){return t})}):J[e](n[r])})})}var i=this;void 0===n&&(n=e,e=null),this.name=Y.method("name",0,function(){return J.string(t)}),this.receiver=Y.method("receiver",0,null===e?function(){return J.NoSuchValue.raiseForName_inObject([J.string("receiver")],[this])}:function(){return J.string(e)}),this.receiverOrIfAbsent=Y.method("receiverOrIfAbsent()",[[1,1]],function(t){var n=t[0];return J.Action.cast(t[1]).then(function(t){return null===e?t.apply().then(function(t){return n.assert(t).then(function(){return t})}):J.string(e)})}),r("moduleName","string","module"),r("lineNumber","number","line"),r("columnNumber","number","column"),this.asString=Y.method("asString",0,function(){var r="at \xab"+t+"\xbb";return null!==e&&(r+=" in \xab"+e+"\xbb"),null!==n&&(r+=" from ",null!==n.module&&(r+='"'+n.module+'" '),r+="(line "+n.line+", column "+n.column+")"),J.string(r)})}function z(t){I.call(this,t)}function G(t,e){void 0===e&&(this.asString=Y.method("asString",0,function(){return t.name()})),e=e||J.string(""),this.exception=Y.method("exception",0,function(){return t}),this.message=Y.method("message",0,function(){return e}),this.object={stackTrace:[]}}function Q(t,e,n){var r,i,o,u;for(u=t.object.stackTrace,r=0,i=u.length;i>r;r+=1)if(o=u[r].location,null!==o&&null!==o[e])return J[n](o[e]);return J.NoSuchValue.raiseForName_inObject([J.string(e)],[t])}function K(t,e,n){this.object={name:t,Packet:e},this.parent=Y.method("parent",0,void 0===n?function(){return this}:function(){return n})}var X,J,Y,Z;X=t("../task"),Y=t("../runtime"),J=t("./definitions"),Z=t("../util"),s.isInternal=!0,r(s,"==",1,function(t){return J.bool(this===t)}),r(s,"!=",1,function(t){return this["=="](t).then(function(t){return t["prefix!"]().then(function(t){return J.Boolean.assert(t).then(function(){return t})})})}),r(s,"asString",0,function(){return J.string("object")}),n.asString=a,s.prototype.toString=function(){var t,e;if(e=null,t=null,a(this).now(function(t){e=t},Y.handleInternalError).then(null,function(e){t=new Error("Unable to render exception message"),e.exception().then(function(e){return e.name().then(function(e){return u(e).then(function(e){t.name=e})})}).then(function(){return e.message().then(function(e){return u(e).then(function(e){t.message=e})})}).now()}),null!==t)throw t;return null===e||e.toString===s.prototype.toString?"object":e.toString()},s.prototype.toString.isInternal=!0,Z.inherits(c,s),r(c,"&",1,l("Both","andAlso")),r(c,"|",1,l("Either","orElse")),r(c,"assert()",1,function(t){var e,n;return n=this,e=null,n.match(t).then(function(r){return r.orElse(J.block(0,function(){return J.AssertionFailure.raiseForValue_againstPattern([t],[n]).then(null,function(t){throw e=t})}))}).then(null,function(){var t;throw null!==e&&(t=e.object.stackTrace,t.splice(t.length-3,3)),e})}),r(c,"asString",0,function(){return J.string("object(pattern.abstract)")}),Z.inherits(f,c),r(f,"match()",1,function(t){return this===t?J.success(t):J.failure(t)}),r(f,"asString",0,function(){return J.string("object(pattern.singleton)")}),Z.inherits(h,c),r(h,"asPrimitive",function(){return this.apply}),r(h,"match()",1,function(){return Y.UnmatchableBlock.raiseDefault()}),Z.inherits(p,c),r(p,"match()",1,function(t){return J.equalityMatch(this,t)}),r(p,"ifTrue()",1,function(t){var e=this;return J.Action.assert(t).then(function(){return e.ifTrue_ifFalse([t],[J.emptyBlock])}).then(function(){return Y.done})}),r(p,"ifFalse()",1,function(t){var e=this;return J.Action.assert(t).then(function(){return e.ifTrue_ifFalse([J.emptyBlock],[t])}).then(function(){return Y.done})}),r(p,"andAlso() orElse()",[1,1],function(t,e){var n=this;return t=t[0],e=e[0],J.Action.assert(t).then(function(){return J.Action.assert(e)}).then(function(){return n.ifTrue_ifFalse(Y.part([J.Boolean],t),Y.part([J.Boolean],e))})}),r(p,"andAlso()",1,function(t){var e=this;return J.Action.assert(t).then(function(){return e.ifTrue_ifFalse(Y.part([J.Boolean],[t]),Y.part([J.Boolean],[J.block(0,function(){return e})]))})}),r(p,"orElse()",1,function(t){var e=this;return e.ifTrue_ifFalse([J.block(0,function(){return e})],[t])}),r(p,"&&",1,function(t){var e=this;return J.Boolean.assert(t).then(function(){return e.andAlso(J.block(0,function(){return t}))})}),r(p,"||",1,function(t){var e=this;return J.Boolean.assert(t).then(function(){return e.orElse(J.block(0,function(){return t}))})}),r(p,"prefix!",0,function(){return this.andAlso_orElse([J.block(0,function(){return J.bool(!1)})],[J.block(0,function(){return J.bool(!0)})])}),r(p,"asBoolean",0,function(){return this.andAlso_orElse([J.block(0,function(){return J.bool(!0)})],[J.block(0,function(){return J.bool(!1)})])}),r(p,"asPrimitive",0,function(){return this.asPrimitiveBoolean()}),Z.inherits(m,p),d(m,0),r(m,"asPrimitiveBoolean",0,function(){return!0}),r(m,"asString",0,function(){return J.string("true")}),Z.inherits(g,p),d(g,1),r(g,"asPrimitiveBoolean",0,function(){return!1}),r(g,"asString",0,function(){return J.string("false")}),Z.inherits(y,f),r(y,"ifLessThan()",1,function(t){var e=this;return J.Action.assert(t).then(function(){return e.ifLessThan_ifEqualTo_ifGreaterThan([t],[J.emptyBlock],[J.emptyBlock]).then(function(){return J.done})})}),r(y,"ifEqualTo()",1,function(t){var e=this;return J.Action.assert(t).then(function(){return e.ifLessThan_ifEqualTo_ifGreaterThan([J.emptyBlock],[t],[J.emptyBlock]).then(function(){return J.done})})}),r(y,"ifGreaterThan()",1,function(t){var e=this;return J.Action.assert(t).then(function(){return e.ifLessThan_ifEqualTo_ifGreaterThan([J.emptyBlock],[J.emptyBlock],[t]).then(function(){return J.done})})}),r(y,"ifLessThan() ifEqualTo()",[1,1],function(t,e){var n=this;return J.Action.assert(t[0]).then(function(){return J.Action.assert(e[0])}).then(function(){return n.ifLessThan_ifEqualTo_ifGreaterThan(t,e,[J.emptyBlock]).then(function(){return J.done})})}),r(y,"ifLessThan() ifGreaterThan()",[1,1],function(t,e){var n=this;return J.Action.assert(t[0]).then(function(){return J.Action.assert(e[0])}).then(function(){return n.ifLessThan_ifEqualTo_ifGreaterThan(t,[J.emptyBlock],e).then(function(){return J.done})})}),r(y,"ifEqualTo() ifGreaterThan()",[1,1],function(t,e){var n=this;return J.Action.assert(t[0]).then(function(){return J.Action.assert(e[0])}).then(function(){return n.ifLessThan_ifEqualTo_ifGreaterThan([J.emptyBlock],t,e).then(function(){return J.done})})}),Z.inherits(D,c),r(D,"asPrimitive",0,function(){return this.asPrimitiveNumber()}),r(D,"==",1,function(t){var e=this;return J.Number.match(t).then(function(n){return n.andAlso_orElse([J.block(0,function(){return e.asPrimitiveNumber().then(function(e){return t.asPrimitiveNumber().then(function(t){return J.bool(e===t)})})})],[J.block(0,function(){return J.bool(!1)})])})}),r(D,"match()",1,function(t){return J.equalityMatch(this,t)}),r(D,"prefix-",0,function(){return this.asPrimitiveNumber().then(function(t){return J.number(-t)})}),r(D,"+",1,b(function(t,e){return t+e})),r(D,"-",1,b(function(t,e){return t-e})),r(D,"*",1,b(function(t,e){return t*e})),r(D,"/",1,v(function(t,e){return 0===e?Y.NotANumber.raiseDivideByZero().then(null,function(t){throw t.object.stackTrace=[],t}):new D(t/e)},"Number")),r(D,"%",1,b(function(t,e){return t%e})),r(D,"^",1,b(function(t,e){return Math.pow(t,e)})),r(D,"compareTo()",1,v(function(t,e){return e>t?J.LessThan:t>e?J.GreaterThan:J.EqualTo},"Number")),r(D,"<",1,F(function(t,e){return e>t})),r(D,"<=",1,F(function(t,e){return e>=t})),r(D,">",1,F(function(t,e){return t>e})),r(D,">=",1,F(function(t,e){return t>=e})),w("absolute","abs"),w("round"),w("floor"),w("ceiling","ceil"),w("log"),w("exponent","exp"),w("sin"),w("cos"),w("tan"),w("asin"),w("acos"),w("atan"),w("square","pow",2),w("cube","pow",3),w("squareRoot","sqrt"),r(D,"asString",0,function(){return this.asPrimitiveNumber().then(function(t){return J.string(t.toString())})}),Z.inherits(E,c),r(E,"asPrimitive",0,function(){return this.asPrimitiveString()}),r(E,"==",1,function(t){var e=this;return J.String.match(t).then(function(n){return n.andAlso_orElse([J.block(0,function(){return e.asPrimitiveString().then(function(e){return t.asPrimitiveString().then(function(t){return J.bool(e===t)})})})],[J.block(0,function(){return J.bool(!1)})])})}),r(E,"match()",1,function(t){return J.equalityMatch(this,t)}),r(E,"at()",1,function(t){return J.Number.cast(t).then(function(t){return this.asPrimitiveString().then(function(e){return t.asPrimitiveNumber().then(function(t){return J.string(e[t-1])})})})}),r(E,"size",0,function(){return this.asPrimitiveString().then(function(t){return Y.number(t.length)})}),r(E,"contains()",1,function(t){var e=this;return J.String.cast(t).then(function(t){return t.asPrimitiveString().then(function(t){return e.asPrimitiveString().then(function(e){return J.bool(e.substring(t)>=0)})})})}),r(E,"do()",1,function(t){var e=this;return J.Function.cast(t).then(function(t){return e.asPrimitiveString().then(function(e){return X.each(e,function(e){return t.apply(J.string(e))})}).then(function(){return J.done})})}),r(E,"compareTo()",1,v(function(t,e){return e>t?J.LessThan:t>e?J.GreaterThan:J.EqualTo},"String")),r(E,"<",1,C(function(t,e){return e>t})),r(E,"<=",1,C(function(t,e){return e>=t})),r(E,">",1,C(function(t,e){return t>e})),r(E,">=",1,C(function(t,e){return t>=e})),r(E,"++",1,function(t){var e=this;return e.asPrimitiveString().then(function(e){return J.String.match(t).then(function(n){return n.andAlso_orElse([J.block(0,function(){return t})],[J.block(0,function(){return Y.apply(t,"asString")})]).then(function(t){return t.asPrimitiveString().then(function(t){return J.string(e+t)})})})})}),r(E,"fold() startingWith()",[[1,1],1],function(t,e){var n,r;return r=this,n=t[0],e=e[0],J.Function2.cast(t[1]).then(function(t){return r["do"](Y.block(1,function(r){return t.apply(e,r).then(function(t){return n.assert(t).then(function(){return e=t,Y.done})})})).then(function(){return e})})}),r(E,"asNumber",0,function(){var t=this;return t.asPrimitiveString().then(function(e){var n=Number(e);return isNaN(n)?Y.NotANumber.raiseForParse(t).then(null,function(t){throw t.object.stackTrace=[],t}):J.number(n)})}),r(E,"substringFrom() to()",[1,1],function(t,e){var n=this;return o(t[0]).then(function(t){return o(e[0]).then(function(e){return n.asPrimitiveString().then(function(n){return 1>t||t>n.length+1?J.OutOfBounds.raiseForIndex(J.number(t)):1>e||e>n.length+1?J.OutOfBounds.raiseForIndex(J.number(e)):J.string(n.substring(t-1,e))})})})}),r(E,"substringFrom() size()",[1,1],function(t,e){var n=this;return o(t[0]).then(function(t){return o(e[0]).then(function(e){return n.asPrimitiveString().then(function(n){var r=t+e;return 1>t||t>n.length+1?J.OutOfBounds.raiseForIndex(J.number(t)):1>r||r>n.length+1?J.OutOfBounds.raiseForIndex(J.number(r)):J.string(n.substring(t-1,r-1))})})})}),r(E,"substringFrom()",1,function(t){var e=this;return e.asPrimitiveString().then(function(n){return e.substringFrom_to([t],[J.number(n.length+1)])})}),r(E,"substringTo()",1,function(t){return this.substringFrom_to([J.number(1)],[t])}),r(E,"replace() with()",[1,1],function(t,e){var n=this;return u(t[0]).then(function(t){return u(e[0]).then(function(e){return n.asPrimitiveString().then(function(n){return J.string(n.replace(t,e))})})})}),r(E,"startsWith()",1,function(t){var e=this;return u(t).then(function(t){return e.asPrimitiveString().then(function(e){var n=t.length;return J.bool(n>e.length?!1:0===e.lastIndexOf(t,n))})})}),r(E,"endsWith()",1,function(t){var e=this;return u(t).then(function(t){return e.asPrimitiveString().then(function(e){var n=e.length-t.length;return J.bool(0>n?!1:e.indexOf(t,n)===n)})})}),A(!0),A(!1),r(E,"asImmutable",0,function(){return this}),r(E,"asString",0,function(){return this.asPrimitiveString().then(function(t){return J.string('"'+Z.escape(t)+'"')})}),x.prototype.pretty=function(){return this.name+(this.parameters.length>0?"()":"")},x.prototype.toString=function(){var t,e;return t=this.generics,e=this.parameters,this.name+(t.length>0?"<"+t.join(", ")+">":"")+(e.length>0?"("+e.join(", ")+")":"")},k.prototype.name=function(){var t,e,n,r;for(r=this.parts,n=[],t=0,e=r.length;e>t;t+=1)n.push(r[t].pretty());return n.join(" ")},k.prototype.toString=function(){return this.parts.join(" ")},Z.inherits(B,c),r(B,"match()",1,function(){return this.asString().then(function(t){return J.IncompleteType.raiseForName(t)})}),r(B,"&",1,function(t){var e=c.prototype["&"].call(this,t);return t instanceof B||T(t)?S(e,this,t):e}),Z.inherits(j,c),r(j,"match()",1,function(t){return N(this,t,J.failure)}),r(j,"assert()",1,function(t){return N(this,t,function(t,e,n){return J.AssertionFailure.raiseForValue_againstType_missing([t],[e],[Y.string(n)])})}),r(j,"cast()",1,function(t){var e=this;return e.assert(t).then(function(){function n(e){return function(){return t[e].apply(t,arguments)}}var r,i,o,u,s,a;if(J.isGraceObject(t))return t;for(a=e.object.signatures,u=J.object(),r=0,i=a.length;i>r;r+=1)s=a[r].name(),o=Z.uglify(s),u[o]=Y.method(s,n(o));return"object"==typeof t.object&&(u.object=t.object),u})}),r(j,"&",1,function(t){var e,n;return n=this,e=c.prototype["&"].call(this,t),t instanceof B&&t.object.become?S(e,this,t):T(t)?e.then(function(e){var r=new j(n.object.signatures.concat(t.object.signatures));return r.asString=e.asString,r}):e}),r(j,"asString",0,function(){var t,e;return e=this.object.signatures,t=0===e.length?"":" ",J.string("type {"+t+e.join("; ")+t+"}")}),Z.inherits(P,c),r(P,"match()",1,function(t){return this.pattern().then(function(e){return e.match(t)})}),r(P,"assert()",1,function(t){return this.pattern().then(function(e){return e.assert(t)})}),r(P,"asString",0,function(){var t=this;return this.name().then(function(e){return t.pattern().then(function(t){return J.string(e.toString()+(t===J.Unknown?"":" : "+t))})})}),Z.inherits($,m),r($,"asString",0,O("success")),Z.inherits(R,g),r(R,"asString",0,O("failure")),Z.inherits(q,s),r(q,"size",0,function(){return J.number(this.object.elements.length)}),r(q,"isEmpty",0,function(){return J.bool(0===this.object.elements.length)}),r(q,"do()",1,function(t){var e=this.object.elements;return J.Function.assert(t).then(function(){return X.each(e,function(e){return t.apply(e)})}).then(function(){return J.done})}),r(q,"contains()",1,function(t){return new X(this,function(e,n){return X.each(this.object.elements,function(n){return Y.apply(n,"==",[[t]]).then(function(t){return t.andAlso(Y.block(0,function(){return e(t),X.never()}))})}).then(function(){e(J.bool(!1))},n)})}),r(q,"concatenate",0,function(){var t=J.string("");return this["do"](Y.block(1,function(e){return t["++"](e).then(function(e){return t=e,J.done})})).then(function(){return t})}),r(q,"concatenateSeparatedBy()",1,function(t){var e,n;return e=J.string(""),n=!1,this["do"](Y.block(1,function(r){return(n?e["++"](t):(n=!0,X.resolve(e))).then(function(t){return t["++"](r)}).then(function(t){return e=t,J.done})})).then(function(){return e})}),r(q,"fold() startingWith()",[[1,1],1],function(t,e){var n=t[0];return t=t[1],e=e[0],this["do"](Y.block(1,function(r){return t.apply(e,r).then(function(t){return n.assert(t).then(function(){return e=t,Y.done})})})).then(function(){return e})}),r(q,"asPrimitiveArray",0,function(){return this.object.elements.concat()}),r(q,"asPrimitive",0,function(){return X.each(this.object.elements,function(t){return"function"==typeof t.asPrimitive?t.asPrimitive():t})}),r(q,"asString",0,function(){var t,e,n,r;return n=this.object.elements,r=this.object.open,t=this.object.close,0===n.length?J.string(r+t):(n=n.concat(),e=J.string(", "),J.string(r)["++"](n.shift()).then(function(r){return X.each(n,function(t){return Y.apply(t,"asString").then(function(t){return r["++"](e).then(function(e){return e["++"](t).then(function(t){r=t})})})}).then(function(){return r["++"](J.string(t))})}))}),r(q,"internalPush()",1,function(t){return this.object.elements.push(t),Y.done}),q.prototype.internalPush.isConfidential=!0,r(q,"internalRemove()",2,function(t,e){var n=this.object.elements;return J.Action.cast(e).then(function(e){return new X(function(r,i){return X.each(n,function(e,i){return Y.apply(e,"==",[t]).then(function(t){return t.ifTrue(Y.block(0,function(){return n.splice(i,1),r(J.number(i+1)),X.never()}))})}).then(function(){return e.apply().then(function(t){r(t)})}).then(null,i)})})}),q.prototype.internalRemove.isConfidential=!0,r(q,"internalSplice()",Y.gte(2),function(t,e){var n,r;return r=this.object.elements,n=Z.slice(arguments,2),o(t).then(function(t){return o(e).then(function(e){return r.splice.apply(r,[t,e].concat(n))[0]})})}),q.prototype.internalSplice.isConfidential=!0,r(q,"asImmutable",0,function(){return this}),Z.inherits(I,q),r(I,"at()",1,function(t){var e=this.object.elements;return o(t).then(function(n){return 1>n||n>e.length?J.OutOfBounds.raiseForIndex(t):e[n-1]})}),r(I,"first",0,function(){return this.at(J.number(1))}),r(I,"last",0,function(){return this.at(J.number(this.object.elements.length))}),r(I,"indices",0,function(){var t,e,n;for(e=[],t=1,n=this.object.elements.length;n>=t;t+=1)e.push(J.number(t));return new I(e)}),r(I,"++",1,function(t){var e=this.object.elements;return J.Do.cast(t).then(function(){return L(t).then(function(t){return J.list(e.concat(t))})})}),r(I,"sliceFrom() to()",[1,1],function(t,e){var n=this.object.elements;return o(t).then(function(t){return 1>t||t>n.length+1?J.OutOfBounds.raiseForIndex(J.number(t)):o(e).then(function(e){return 1>e||e>n.length+1?J.OutOfBounds.raiseForIndex(J.number(e)):new I(n.slice(t-1,e-1))})})}),r(I,"sliceFrom() to()",[1,1],function(t,e){var n=this.object.elements;return o(t).then(function(t){return 1>t||t>n.length+1?J.OutOfBounds.raiseForIndex(J.number(t)):o(e).then(function(e){return 1>e||e>n.length+1?J.OutOfBounds.raiseForIndex(J.number(e)):new I(n.slice(t-1,e-1))})})}),r(I,"sliceFrom()",1,function(t){return this.sliceFrom_to(t,J.number(this.object.elements.length+1))}),r(I,"sliceTo()",1,function(t){return this.sliceFrom_to(J.number(1),t)}),Z.inherits(M,c),r(M,"match()",1,function(t){var e=this;return e.pattern().then(function(n){return new X(function(r,i){J.List.match(t).then(function(i){return i.ifTrue_ifFalse([J.block(0,function(){return t["do"](J.block(1,function(i){return new X(function(o,u){n.match(i).then(function(n){return n.ifTrue_ifFalse([J.block(0,function(){return o(Y.done),X.never()})],[J.block(0,function(){return r(J.failure(t,e)),X.never()})])}).then(null,u)})})).then(function(){return J.success(t,e)})})],[J.block(0,function(){return J.failure(t,e)})])}).then(r,i)})})}),r(M,"asString",0,function(){return this.pattern().then(function(t){return a(t).then(function(t){return J.string("List<"+t+">")})})}),Z.inherits(_,q),r(_,"++",1,function(t){var e,n;return n=this,e=this.object.elements.concat(),J.Do.cast(t).then(function(){return t["do"](Y.block(1,function(t){return n.contains(t).then(function(n){return n.ifFalse(Y.block(0,function(){return e.push(t),Y.done}))})}))}).then(function(){return J.set(e)})}),r(_,"internalPush",1,function(t){var e=this;return this.contains(t).then(function(n){return n.ifFalse(Y.block(0,function(){return q.prototype.internalPush.call(e,t)}))})}),r(U,"key",0,function(){return this.object.key}),r(U,"value",0,function(){return this.object.value}),r(U,"==",1,function(t){var e,n;return e=this.object.key,n=this.object.value,J.Entry.match(t).then(function(r){return r.ifTrue_ifFalse([Y.block(0,function(){return J.Entry.cast(t).then(function(t){return t.key().then(function(t){return Y.apply(e,"==",[[t]])}).then(function(e){return e.andAlso(Y.block(0,function(){return t.value().then(function(t){return Y.apply(n,"==",[[t]])})}))})})})],[Y.block(0,function(){return J.bool(!1)})])})}),r(U,"asString",0,function(){var t,e;return t=this.object.key,e=this.object.value,Y.apply(t,"asString").then(function(t){return Y.apply(e,"asString").then(function(e){return t["++"](J.string(" => ")).then(function(t){return t["++"](e)})})})}),Z.inherits(W,q),r(W,"keys",0,function(){return X.each(this.object.elements,function(t){return t.key()}).then(function(t){return new _(t)})}),r(W,"values",0,function(){return X.each(this.object.elements,function(t){return t.value()}).then(function(t){return new _(t)})}),r(W,"at() ifAbsent()",[1,1],function(t,e){var n=this.object.elements;return Y.Action.assert(e).then(function(){return new X(function(r,i){return X.each(n,function(e){return e.key().then(function(t){return Y.Object.cast(t)}).then(function(n){return Y.apply(n,"==",[t]).then(function(t){return t.ifTrue(Y.block(0,function(){return e.value().then(function(t){return r(t),X.never()})}))})})}).then(function(){return e[0].apply()}).then(r,i)})})}),r(W,"at()",1,function(t){return this.at_ifAbsent([t],[Y.block(0,function(){return J.FailedSearch.raiseForObject(t)})])}),r(W,"at() do()",[1,1],function(t,e){var n=this.object.elements;return J.Procedure.assert(e[0]).then(function(){return new X(function(r,i){return X.each(n,function(n){return n.key().then(function(i){return Y.apply(i,"==",[t]).then(function(t){return t.ifTrue(Y.block(0,function(){return n.value().then(function(t){return e[0].apply(t)}).then(function(){return r(Y.done),X.never()})}))})})}).then(function(){r(Y.done)},i)})})}),r(W,"containsKey()",1,function(t){var e=this.object.elements;return new X(function(n,r){return X.each(e,function(e){return e.key().then(function(e){return Y.apply(e,"==",[[t]]).then(function(t){return t.ifTrue(Y.block(0,function(){return n(t),X.never()}))})})}).then(function(){n(J.bool(!1))}).then(null,r)})}),r(W,"containsValue()",1,function(t){var e=this.object.elements;return new X(function(n,r){return X.each(e,function(e){return e.value().then(function(e){return Y.apply(e,"==",[[t]]).then(function(t){return t.ifTrue(Y.block(0,function(){return n(t),X.never()}))})})}).then(function(){n(J.bool(!1))}).then(null,r)})}),r(W,"++",1,function(t){var e,n;return n=this,e=this.object.elements.concat(),J.Do.assert(t).then(function(){return t["do"](Y.block(1,function(t){return t.key().then(function(r){return n.containsKey(r).then(function(n){return n.ifFalse(Y.block(0,function(){return H(t).then(function(t){return e.push(t),Y.done})}))})})}))}).then(function(){return J.dictionary(e)})}),r(W,"internalPush()",1,function(t){var e=this.object.elements;return t.key().then(function(n){return new X(function(r,i){return X.each(e,function(i,o){return i.key().then(function(i){return Y.apply(i,"==",[[n]]).then(function(n){return n.ifTrue(Y.block(0,function(){return H(t).then(function(t){return e.splice(o,1,t),r(Y.done),X.never()})}))})})}).then(function(){return H(t).then(function(t){e.push(t),r(Y.done)})}).then(null,i)})})}),r(W,"internalRemoveAt()",2,function(t,e){var n=this.object.elements;return J.Action.cast(e).then(function(e){return new X(function(r,i){return X.each(n,function(e,i){return e.key().then(function(e){return Y.apply(e,"==",[[t]]).then(function(t){return t.ifTrue(Y.block(0,function(){return r(n.splice(i,1)[0]),X.never()}))})})}).then(function(){return e.apply().then(r)}).then(null,i)})})}),Z.inherits(V,s),Z.inherits(z,I),r(z,"asString",0,function(){var t,e;return t=J.string("\n"),e=!1,this.fold_startingWith(Y.part(J.String,Y.block(2,function(n,r){return(e?n["++"](t):X.resolve(n)).then(function(t){return e=!0,t["++"](r)})})),[J.string("")])}),Z.inherits(G,s),r(G,"moduleName",0,function(){return Q(this,"module","string")}),r(G,"lineNumber",0,function(){return Q(this,"line","number")}),r(G,"columnNumber",0,function(){return Q(this,"column","number")}),r(G,"backtrace",0,function(){var t,e,n,r,i;for(r=this.object.stackTrace,t=[],e=0,n=r.length;n>e;e+=1)i=r[e],t.push(new V(i.name,i.object,i.location));return new z(t)}),r(G,"raise",0,function(){throw this}),r(G,"asString",0,function(){var t=this;return t.exception().then(function(e){return e.name().then(function(e){return t.message().then(function(t){return J.string(": ")["++"](t).then(function(t){return e["++"](t)})})})})}),Z.inherits(K,c),r(K,"name",0,function(){return this.object.name}),r(K,"raise()",1,function(t){throw new this.object.Packet(this,t)}),r(K,"raiseDefault",0,function(){throw new this.object.Packet(this)}),i(K,"refine()",1,function(t,e){function n(t,e){i.call(this,t,e)}function r(){K.call(this,e,n,o)}var i,o;return o=this,i=this.object.Packet,Z.inherits(n,i),r.prototype=this,null!==t&&(Z.extendAll(t,r.prototype),r.call(t)),X.resolve(new r)}),i(K,"refine() defaultMessage()",[1,1],function(t,e,n){function r(t,e){o.call(this,t,e||n)}function i(){K.call(this,e,r,u)}var o,u;return u=this,o=this.object.Packet,e=e[0],n=n[0],Z.inherits(r,o),i.prototype=this,null!==t&&(Z.extendAll(t,i.prototype),i.call(t)),X.resolve(new i)}),r(K,"match()",1,function(t){return X.resolve(J.match(t instanceof this.object.Packet,t,this))}),r(K,"asString",0,function(){return this.name()}),n.Object=s,n.Block=h,n.AbstractBoolean=p,n.True=m,n.False=g,n.Comparison=y,n.String=E,n.Number=D,n.AbstractPattern=c,n.Singleton=f,n.Part=x,n.Signature=k,n.Type=j,n.TypeProxy=B,n.NamedPattern=P,n.Success=$,n.Failure=R,n.List=I,n.ListPattern=M,n.Set=_,n.Entry=U,n.Dictionary=W,n.Exception=K,n.ExceptionPacket=G},{"../runtime":10,"../task":19,"../util":21,"./definitions":11}],17:[function(t,e,n){"use strict";function r(t,e){return t=s.string(t),e.asString=a.method("asString",0,function(){return t}),e}function i(t,e,n,r){return t[c.uglify(e)]=a.method(e,r||1,n),t}function o(t,e){var n=s.object();return r(t,n),i(n,"annotateMethod()",e),i(n,"annotateDef()",e),i(n,"annotateClass()",e),i(n,"annotateType()",e),i(n,"annotateVar()",function(t,n){return e(t),e(n)},2),n}function u(t){return delete t.isConfidential,a.done}var s,a,c;a=t("../runtime"),s=t("./definitions"),c=t("../util"),n["public"]=o("public",u),n.confidential=o("confidential",function(t){return t.isConfidential=!0,a.done
}),n.readable=r("readable",i(s.object(),"annotateVar()",u,2)),n.writable=r("writable",i(s.object(),"annotateVar()",function(t,e){return u(e)},2))},{"../runtime":10,"../util":21,"./definitions":11}],18:[function(t,e,n){"use strict";var r,i,o,u,s,a,c,l,f,h,p,d,m,g;f=t("../ast"),g=t("../ast/visitor"),p=t("../runtime"),m=t("../util"),h=t("./definitions"),d=t("./definitions").type,n.Object=d("Object",[]),n.None=h.pattern("None",h.failure),n.Unknown=h.pattern("Unknown",function(t){return h.success(t)}),u=h.pattern("Foreign",function(t){return h.match(!h.isGraceObject(t),t,u)}),n.Foreign=u,n.Done=h.singleton("Done",h.done),c=d("Ordered",[h.signature("compareTo",["value"]),h.signature("<",["than"]),h.signature("<=",["than"]),h.signature(">",["than"]),h.signature(">=",["than"])]),n.Ordered=c,l=d("Pattern",[h.signature("match",["value"]),h.signature("assert",["value"]),h.signature("&",["and"]),h.signature("|",["or"])]),n.Pattern=l,n.Action=d("Action",1,[h.signature("apply")]),n.Function=d("Function",2,l,[h.signature("apply",["value"])]),n.Procedure=d("Procedure",1,[h.signature("apply",["value"])]),function(){var t,e,r;for(t=2;10>t;t+=1){for(r=[],e=1;t+1>e;e+=1)r.push("value"+e);n["Function"+t]=d("Function"+t,t+1,[h.signature("apply",r)]),n["Procedure"+t]=d("Procedure"+t,t,[h.signature("apply",r)])}}(),n.Comparison=d("Comparison",l,[h.signature("ifLessThan",["onLessThan"]),h.signature("ifEqualTo",["onEqualTo"]),h.signature("ifGreaterThan",["onGreaterThan"]),h.signature([h.sigPart("ifLessThan",["onLessThan"]),h.sigPart("ifEqualTo",["onEqualTo"])]),h.signature([h.sigPart("ifLessThan",["onLessThan"]),h.sigPart("ifGreaterThan",["onGreaterThan"])]),h.signature([h.sigPart("ifEqualTo",["onEqualTo"]),h.sigPart("ifGreaterThan",["onGreaterThan"])]),h.signature([h.sigPart("ifLessThan",["onLessThan"]),h.sigPart("ifEqualTo",["onEqualTo"]),h.sigPart("ifGreaterThan",["onGreaterThan"])])]),r=d("Boolean",[h.signature([h.sigPart("ifTrue",["T"],["then"]),h.sigPart("ifFalse",["E"],["else"])]),h.signature("ifTrue",["then"]),h.signature("ifFalse",["else"]),h.signature([h.sigPart("andAlso",["then"]),h.sigPart("orElse",["else"])]),h.signature([h.sigPart("andAlso",["then"])]),h.signature([h.sigPart("orElse",["else"])]),h.signature("&&",["and"]),h.signature("||",["or"]),h.signature("prefix!")]),n.Boolean=r,n.Match=d("Match",r,[h.signature("value"),h.signature("pattern")]),n.Number=d("Number",[c,l],[h.signature("prefix-"),h.signature("+",["addene"]),h.signature("-",["subtrahend"]),h.signature("*",["multiplier"]),h.signature("/",["divisor"]),h.signature("%",["divisor"]),h.signature("^",["exponent"]),h.signature("absolute"),h.signature("round"),h.signature("floor"),h.signature("ceiling"),h.signature("log"),h.signature("exponent"),h.signature("sin"),h.signature("cos"),h.signature("tan"),h.signature("asin"),h.signature("acos"),h.signature("atan"),h.signature("square"),h.signature("cube"),h.signature("squareRoot"),h.signature("asPrimitiveNumber")]),o=d("Do",1,[h.signature("do",["function"])]),n.Do=o,i=d("Collection",1,o,[h.signature("size"),h.signature([h.sigPart("fold",["T"],["f"]),h.sigPart("startingWith",["a"])])]),n.Collection=i,s=d("List",1,i,[h.signature("at",["index"]),h.signature("++",["list"]),h.signature("contains",["element"]),h.signature("asImmutable")]),n.List=s,n.Entry=d("Entry",2,[h.signature("key"),h.signature("value")]),n.String=d("String",[c,l,s],[h.signature([h.sigPart("substringFrom",["from"]),h.sigPart("to",["to"])]),h.signature([h.sigPart("substringFrom",["from"]),h.sigPart("size",["size"])]),h.signature("substringFrom",["from"]),h.signature("substringTo",["to"]),h.signature([h.sigPart("replace",["substring"]),h.sigPart("with",["inserting"])]),h.signature("startsWith",["prefix"]),h.signature("endsWith",["suffix"]),h.signature("indexOf",["needle"]),h.signature([h.sigPart("indexOf",["needle"]),h.sigPart("startingAt",["from"])]),h.signature([h.sigPart("indexOf",["needle"]),h.sigPart("ifAbsent",["action"])]),h.signature([h.sigPart("indexOf",["needle"]),h.sigPart("startingAt",["from"]),h.sigPart("ifAbsent",["action"])]),h.signature("lastIndexOf",["needle"]),h.signature([h.sigPart("lastIndexOf",["needle"]),h.sigPart("startingAt",["from"])]),h.signature([h.sigPart("lastIndexOf",["needle"]),h.sigPart("ifAbsent",["action"])]),h.signature([h.sigPart("lastIndexOf",["needle"]),h.sigPart("startingAt",["from"]),h.sigPart("ifAbsent",["action"])]),h.signature("asPrimitiveString")]),n.ObjectAnnotator=d("ObjectAnnotator",[h.signature("annotateObject",["obj"])]),n.MethodAnnotator=d("MethodAnnotator",[h.signature("annotateMethod",["meth"])]),n.DefAnnotator=d("DefAnnotator",[h.signature("annotateDef",["definition"])]),n.VarAnnotator=d("VarAnnotator",[h.signature("annotateVar",["reader","writer"])]),n.ClassAnnotator=d("ClassAnnotator",[h.signature("annotateClass",["cls"])]),n.TypeAnnotator=d("TypeAnnotator",[h.signature("annotateType",["typ"])]),a=h.pattern("Node",function(t){return h.match(t instanceof f.Node,t,this)}),m.forProperties(f,function(t,e){var n=h.pattern(t,function(t){return h.match(t instanceof e,t,this)});a[t]=p.method(t,0,function(){return n})}),a.visitor=p.method("visitor",0,function(){return g}),n.Node=a},{"../ast":1,"../ast/visitor":2,"../runtime":10,"../util":21,"./definitions":11}],19:[function(t,e){"use strict";function n(t){var e;void 0!==t&&(this.message=t),e=new TypeError(this.message),e.name=this.name,this.stack=e.stack}function r(t){var e;void 0!==t&&(this.message=t),e=new Error(this.message),e.name=this.name,this.stack=e.stack}function i(t,e,n){for(t.isPending=!1;e.length>0;)e.shift()(n);delete t.onFulfilled,delete t.onRejected}function o(t,e,n,r,i,o){return function(u){if(delete e.waitingOn,e.isPending)if("function"==typeof n){try{u=n.call(t.context,u)}catch(s){return void o(s)}i(u)}else r(u)}}function u(t,e){var n=this;arguments.length<2&&(e=t,t=null),this.isPending=!0,this.context=t,this.onFulfilled=[],this.onRejected=[],e.call(t,function(t){n.isPending&&(n.value=t,i(n,n.onFulfilled,t))},function(t){n.isPending&&(n.reason=t,i(n,n.onRejected,t))},this)}function s(t,e){return new u(t.context,function(n,r,i){i.waitingOn=t,e.call(t,function(t,e){if(t===i)throw new TypeError("A task must not resolve to itself");t instanceof u?t.isPending?(i.waitingOn=t,t[e?"now":"then"](n).then(null,r)):f.owns(t,"value")?n(t.value):r(t.reason):n(t)},r,i)})}function a(){return this}var c,l,f;t("setimmediate"),c=t("asap"),f=t("./util"),l=Date.now(),f.inherits(n,TypeError),n.prototype.name="DeferralError",n.prototype.message="A purely asynchronous task cannot be forced",f.inherits(r,Error),r.prototype.name="InterruptError",r.prototype.message="A task was stopped before it completed",u.prototype.then=function(t,e){return s(this,function(n,r,i){var u,s;s=this,u=f.once(function(u){function a(t){n(t,u)}function c(){return o(s,i,t,a,a,r)}function l(){return o(s,i,e,r,a,r)}delete i.deferred,u&&f.owns(s,"deferred")&&s.deferred(u),s.isPending?(s.onFulfilled.push(c()),s.onRejected.push(l())):f.owns(s,"value")?c()(s.value):l()(s.reason)}),i.deferred=u,Date.now()-l>10?setImmediate(function(){l=Date.now(),u()}):c(u)})},u.prototype.now=function(t,e){return f.owns(this,"deferred")&&this.deferred(!0),this.isPending?u.reject(new n):s(this,function(n,r,i){function u(t){n(t,!0)}f.owns(this,"value")?o(this,i,t,u,u,r)(this.value):o(this,i,e,r,u,r)(this.reason)})},u.prototype.callback=function(t){return this.then(t&&function(e){t.call(this,null,e)},t)},u.prototype.bind=function(t){var e=this.then(f.id);return e.context=t,e},u.prototype.stop=function(){var t;this.isPending&&(void 0!==this.waitingOn&&this.waitingOn.isPending?(t=this.waitingOn,c(function(){t.stop()})):(this.reason=new r,i(this,this.onRejected,this.reason)))},u.prototype.stopify=function(){var t=this;return function(){return t.stop()}},u.resolve=function(t,e){return arguments.length<2&&(e=t,t=null),e instanceof u?e:new u(t,function(t){t(e)})},u.reject=function(t,e){return arguments.length<2&&(e=t,t=null),new u(t,function(t,n){n(e)})},u.never=function(t){return arguments.length<1&&(t=null),new u(t,function(){})},u.each=function(t,e){function n(t,e){return t===a?e.then(function(){return h}):n(t+1,e.then(function(){return r.apply(this,l[t])}).then(function(t){void 0!==t&&h.push(t)}))}var r,i,o,s,a,c,l,h;if(f.isArray(t)||"number"==typeof t||"string"==typeof t?(e=t,t=null):Array.prototype.shift.call(arguments),h=[],l=[],s=arguments.length-1,r=arguments[s],"number"==typeof e)for(a=e,i=0;a>i;i+=1)l.push([i]);else{for(a=e.length,i=0;s>i;i+=1)if(arguments[i].length!==a)throw new TypeError("Mismatched list lengths");for(i=0;a>i;i+=1){for(c=[],o=0;s>o;o+=1)c.push(arguments[o][i]);c.push(i),l.push(c)}}return 0===a?u.resolve(t,[]):n(0,u.resolve(t,null))},u.callbackify=function(t){return function(){var e,n,r;e=f.slice(arguments),n=e.pop();try{r=t.apply(this,e)}catch(i){return n(i),function(){return!1}}return u.resolve(r).callback(n).stopify()}},u.taskify=function(t,e){return arguments.length<2&&(e=t,t=null),function(){var n,r;return r=this,n=f.slice(arguments),new u(t,function(t,i){n.push(function(e,n){null!==e?i(e):t(n)});try{e.apply(r,n)}catch(o){i(o)}})}},a.prototype.resolve=function(t){return u.resolve(this,t)},a.prototype.reject=function(t){return u.reject(this,t)},a.prototype.task=function(t){return u.resolve(this,null).then(function(){return t.call(this)})},a.prototype.each=function(){return u.each.apply(u,[this].concat(f.slice(arguments)))},u.DeferralError=n,u.InterruptError=r,u.Async=a,e.exports=u},{"./util":21,asap:22,setimmediate:24}],20:[function(t,e,n){"use strict";n.isControl=function(t){return/[\0-\x1F\x7F-\x9F\xAD\u0378\u0379\u0380-\u0383\u038B\u038D\u03A2\u0530\u0557\u0558\u0560\u0588\u058B\u058C\u0590\u05C8-\u05CF\u05EB-\u05EF\u05F5-\u0605\u061C\u061D\u06DD\u070E\u070F\u074B\u074C\u07B2-\u07BF\u07FB-\u07FF\u082E\u082F\u083F\u085C\u085D\u085F-\u089F\u08B3-\u08E3\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09FC-\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF2-\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B55\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B78-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BFB-\u0BFF\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5A-\u0C5F\u0C64\u0C65\u0C70-\u0C77\u0C80\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0D00\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D45\u0D49\u0D4F-\u0D56\u0D58-\u0D5F\u0D64\u0D65\u0D76-\u0D78\u0D80\u0D81\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DE5\u0DF0\u0DF1\u0DF5-\u0E00\u0E3B-\u0E3E\u0E5C-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EBA\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F48\u0F6D-\u0F70\u0F98\u0FBD\u0FCD\u0FDB-\u0FFF\u10C6\u10C8-\u10CC\u10CE\u10CF\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u137D-\u137F\u139A-\u139F\u13F5-\u13FF\u169D-\u169F\u16F9-\u16FF\u170D\u1715-\u171F\u1737-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17DE\u17DF\u17EA-\u17EF\u17FA-\u17FF\u180E\u180F\u181A-\u181F\u1878-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191F\u192C-\u192F\u193C-\u193F\u1941-\u1943\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19DD\u1A1C\u1A1D\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1A9F\u1AAE\u1AAF\u1ABF-\u1AFF\u1B4C-\u1B4F\u1B7D-\u1B7F\u1BF4-\u1BFB\u1C38-\u1C3A\u1C4A-\u1C4C\u1C80-\u1CBF\u1CC8-\u1CCF\u1CF7\u1CFA-\u1CFF\u1DF6-\u1DFB\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FC5\u1FD4\u1FD5\u1FDC\u1FF0\u1FF1\u1FF5\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u206F\u2072\u2073\u208F\u209D-\u209F\u20BE-\u20CF\u20F1-\u20FF\u218A-\u218F\u23FB-\u23FF\u2427-\u243F\u244B-\u245F\u2B74\u2B75\u2B96\u2B97\u2BBA-\u2BBC\u2BC9\u2BD2-\u2BFF\u2C2F\u2C5F\u2CF4-\u2CF8\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D71-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E43-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u2FFC-\u2FFF\u3040\u3097\u3098\u3100-\u3104\u312E-\u3130\u318F\u31BB-\u31BF\u31E4-\u31EF\u321F\u32FF\u4DB6-\u4DBF\u9FCD-\u9FFF\uA48D-\uA48F\uA4C7-\uA4CF\uA62C-\uA63F\uA69E\uA6F8-\uA6FF\uA78F\uA7AE\uA7AF\uA7B2-\uA7F6\uA82C-\uA82F\uA83A-\uA83F\uA878-\uA87F\uA8C5-\uA8CD\uA8DA-\uA8DF\uA8FC-\uA8FF\uA954-\uA95E\uA97D-\uA97F\uA9CE\uA9DA-\uA9DD\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A\uAA5B\uAAC3-\uAADA\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB60-\uAB63\uAB66-\uABBF\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uDC00-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBC2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFE\uFDFF\uFE1A-\uFE1F\uFE2E\uFE2F\uFE53\uFE67\uFE6C-\uFE6F\uFE75\uFEFD-\uFF00\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDCFF\uDD03-\uDD06\uDD34-\uDD36\uDD8D-\uDD8F\uDD9C-\uDD9F\uDDA1-\uDDCF\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEFC-\uDEFF\uDF24-\uDF2F\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDFC4-\uDFC7\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6E\uDD70-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC9F-\uDCA6\uDCB0-\uDCFF\uDD1C-\uDD1E\uDD3A-\uDD3E\uDD40-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE34-\uDE37\uDE3B-\uDE3E\uDE48-\uDE4F\uDE59-\uDE5F\uDEA0-\uDEBF\uDEE7-\uDEEA\uDEF7-\uDEFF\uDF36-\uDF38\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDF98\uDF9D-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDE5F\uDE7F-\uDFFF]|\uD804[\uDC4E-\uDC51\uDC70-\uDC7E\uDCBD\uDCC2-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD44-\uDD4F\uDD77-\uDD7F\uDDC9-\uDDCC\uDDCE\uDDCF\uDDDB-\uDDE0\uDDF5-\uDDFF\uDE12\uDE3E-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDF00\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF3B\uDF45\uDF46\uDF49\uDF4A\uDF4E-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC00-\uDC7F\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDCA-\uDDFF\uDE45-\uDE4F\uDE5A-\uDE7F\uDEB8-\uDEBF\uDECA-\uDFFF]|\uD806[\uDC00-\uDC9F\uDCF3-\uDCFE\uDD00-\uDEBF\uDEF9-\uDFFF]|[\uD807\uD80A\uD80B\uD80E-\uD819\uD81C-\uD82B\uD82D\uD82E\uD830-\uD833\uD836-\uD839\uD83F\uD86F-\uD87D\uD87F-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD808[\uDF99-\uDFFF]|\uD809[\uDC6F\uDC75-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDE6D\uDE70-\uDECF\uDEEE\uDEEF\uDEF6-\uDEFF\uDF46-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDEFF\uDF45-\uDF4F\uDF7F-\uDF8E\uDFA0-\uDFFF]|\uD82C[\uDC02-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A\uDC9B\uDCA0-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD73-\uDD7A\uDDDE-\uDDFF\uDE46-\uDEFF\uDF57-\uDF5F\uDF72-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]|\uD83A[\uDCC5\uDCC6\uDCD7-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD6F\uDD9B-\uDDE5\uDE03-\uDE0F\uDE3B-\uDE3F\uDE49-\uDE4F\uDE52-\uDEFF\uDF2D-\uDF2F\uDF7E\uDF7F\uDFCF-\uDFD3\uDFF8-\uDFFF]|\uD83D[\uDCFF\uDD4B-\uDD4F\uDD7A\uDDA4\uDE43\uDE44\uDED0-\uDEDF\uDEED-\uDEEF\uDEF4-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDFFF]|\uD869[\uDED7-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]|[\uD800-\uDBFF]/.test(t)},n.isLetter=function(t){return/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDE00-\uDE11\uDE13-\uDE2B\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDE00-\uDE2F\uDE44\uDE80-\uDEAA]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/.test(t)},n.isNumber=function(t){return/[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDD16-\uDD1B\uDE40-\uDE47\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDE60-\uDE7E]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9]|\uD806[\uDCE0-\uDCF2]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD834[\uDF60-\uDF71]|\uD835[\uDFCE-\uDFFF]|\uD83A[\uDCC7-\uDCCF]|\uD83C[\uDD00-\uDD0C]/.test(t)},n.isPunctuation=function(t){return/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDE38-\uDE3D]|\uD805[\uDCC6\uDDC1-\uDDC9\uDE41-\uDE43]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F/.test(t)},n.isSeparator=function(t){return/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/.test(t)},n.isSymbol=function(t){return/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20BD\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u2190-\u2307\u230C-\u2328\u232B-\u23FA\u2400-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B98-\u2BB9\u2BBD-\u2BC8\u2BCA-\u2BD1\u2CE5-\u2CEA\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u32FE\u3300-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uFB29\uFBB2-\uFBC1\uFDFC\uFDFD\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C\uDD90-\uDD9B\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDDD\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD83B[\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD10-\uDD2E\uDD30-\uDD6B\uDD70-\uDD9A\uDDE6-\uDE02\uDE10-\uDE3A\uDE40-\uDE48\uDE50\uDE51\uDF00-\uDF2C\uDF30-\uDF7D\uDF80-\uDFCE\uDFD4-\uDFF7]|\uD83D[\uDC00-\uDCFE\uDD00-\uDD4A\uDD50-\uDD79\uDD7B-\uDDA3\uDDA5-\uDE42\uDE45-\uDECF\uDEE0-\uDEEC\uDEF0-\uDEF3\uDF00-\uDF73\uDF80-\uDFD4]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD]/.test(t)}},{}],21:[function(t,e,n){"use strict";function r(t,e){return a.call(t,e)}function i(t,e){var n;for(n in t)r(t,n)&&e(n,t[n])}function o(t,e){var n;for(n in e)r(e,n)&&!r(t,n)&&(t[n]=e[n])}function u(t){for(;t.length<4;)t="0"+t;return t}function s(t){function e(){s.apply(null,[this].concat(r))}var n,r;r=l.call(arguments,1),n=r.length,e.prototype=t,t.clone=function(){var t,i,o;for(t=new e,i=0;n>i;i+=1)o=r[i],t[o]=this[o];return t}}var a,c,l,f;f=t("./unicode"),c=Object.prototype,n.id=function(t){return t},l=Array.prototype.slice,n.slice=function(t,e,n){return l.call(t,e,n)},n.contains=function(t,e){var n,r;for(n=0,r=t.length;r>n;n+=1)if(t[n]===e)return!0;return!1},n.uglify=function(t){return t.replace(/\(\)/g,"").replace(/ :=/,":=").replace(/ /g,"_")},a=c.hasOwnProperty,n.owns=r,n.forProperties=i,n.extend=o,n.extendAll=function(t,e){var n;for(n in e)r(t,n)||(t[n]=e[n])},n.map=function(t,e){var n,r,i;for(i=[],n=0,r=t.length;r>n;n+=1)i.push(e(t[n]));return i},n.escape=function(t){var e,n,r,i;for(i="",n=0,r=t.length;r>n;n+=1)e=t[n],i+=f.isControl(e)?"\\"+("\b"===e?"b":"\n"===e?"n":"\r"===e?"r":"	"===e?"t":"\f"===e?"f":""===e?"v":"\x00"===e?"0":"u"+u(e.charCodeAt(0).toString(16))):'"'===e?'\\"':"\\"===e?"\\\\":e;return i},n.newApply=function(t,e){function n(){t.apply(this,e)}return n.prototype=t.prototype,new n},n.isArray=Array.isArray||function(t){return"[object Array]"===c.toString.call(t)},n.replicate=function(t,e){var n,r;for(r=[],n=0;t>n;n+=1)r.push(e);return r},n.repeat=function(t,e){var n,r;for(r=[],n=0;t>n;n+=1)r=r.concat(e);return r},n.once=function(t){var e,n,r,i;return r=!1,e=!1,n=!1,function(){if(e)throw i;if(n)return i;if(r)throw new Error("Memoised function called itself");r=!0;try{i=t.apply(this,arguments)}catch(o){throw e=!0,i=o,o}finally{r=!1}return n=!0,i}},n.makeCloneable=s,o(n,t("util"))},{"./unicode":20,util:29}],22:[function(t,e){"use strict";function n(){if(s.length)throw s.shift()}function r(t){var e;e=u.length?u.pop():new i,e.task=t,o(e)}function i(){this.task=null}var o=t("./raw"),u=[],s=[],a=o.makeRequestCallFromTimer(n);e.exports=r,i.prototype.call=function(){try{this.task.call()}catch(t){r.onerror?r.onerror(t):(s.push(t),a())}finally{this.task=null,u[u.length]=this}}},{"./raw":23}],23:[function(t,e){(function(t){"use strict";function n(t){s.length||(u(),a=!0),s[s.length]=t}function r(){for(;c<s.length;){var t=c;if(c+=1,s[t].call(),c>l){for(var e=0,n=s.length-c;n>e;e++)s[e]=s[e+c];s.length-=c,c=0}}s.length=0,c=0,a=!1}function i(t){var e=1,n=new f(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}function o(t){return function(){function e(){clearTimeout(n),clearInterval(r),t()}var n=setTimeout(e,0),r=setInterval(e,50)}}e.exports=n;var u,s=[],a=!1,c=0,l=1024,f=t.MutationObserver||t.WebKitMutationObserver;u="function"==typeof f?i(r):o(r),n.requestFlush=u,n.makeRequestCallFromTimer=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],24:[function(t){(function(t){!function(e,n){"use strict";function r(t){return m[d]=i.apply(n,t),d++}function i(t){var e=[].slice.call(arguments,1);return function(){"function"==typeof t?t.apply(n,e):new Function(""+t)()}}function o(t){if(g)setTimeout(i(o,t),0);else{var e=m[t];if(e){g=!0;try{e()}finally{u(t),g=!1}}}}function u(t){delete m[t]}function s(){p=function(){var e=r(arguments);return t.nextTick(i(o,e)),e}}function a(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function c(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&o(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),p=function(){var n=r(arguments);return e.postMessage(t+n,"*"),n}}function l(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;o(e)},p=function(){var e=r(arguments);return t.port2.postMessage(e),e}}function f(){var t=v.documentElement;p=function(){var e=r(arguments),n=v.createElement("script");return n.onreadystatechange=function(){o(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n),e}}function h(){p=function(){var t=r(arguments);return setTimeout(i(o,t),0),t}}if(!e.setImmediate){var p,d=1,m={},g=!1,v=e.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e,"[object process]"==={}.toString.call(e.process)?s():a()?c():e.MessageChannel?l():v&&"onreadystatechange"in v.createElement("script")?f():h(),y.setImmediate=p,y.clearImmediate=u
}}(new Function("return this")())}).call(this,t("_process"))},{_process:27}],25:[function(t,e){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],26:[function(t,e,n){(function(t){function e(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var u=o>=0?arguments[o]:t.cwd();if("string"!=typeof u)throw new TypeError("Arguments to path.resolve must be strings");u&&(n=u+"/"+n,i="/"===u.charAt(0))}return n=e(r(n.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(t){var i=n.isAbsolute(t),o="/"===u(t,-1);return t=e(r(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(r(t,function(t){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},n.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var i=r(t.split("/")),o=r(e.split("/")),u=Math.min(i.length,o.length),s=u,a=0;u>a;a++)if(i[a]!==o[a]){s=a;break}for(var c=[],a=s;a<i.length;a++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return o(t)[3]};var u="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:27}],27:[function(t,e){function n(){c=!1,u.length?a=u.concat(a):l=-1,a.length&&r()}function r(){if(!c){var t=setTimeout(n);c=!0;for(var e=a.length;e;){for(u=a,a=[];++l<e;)u[l].run();l=-1,e=a.length}u=null,c=!1,clearTimeout(t)}}function i(t,e){this.fun=t,this.array=e}function o(){}var u,s=e.exports={},a=[],c=!1,l=-1;s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];a.push(new i(t,e)),c||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],28:[function(t,e){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],29:[function(t,e,n){(function(e,r){function i(t,e){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(e)?r.showHidden=e:e&&n._extend(r,e),F(r.showHidden)&&(r.showHidden=!1),F(r.depth)&&(r.depth=2),F(r.colors)&&(r.colors=!1),F(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),a(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function u(t){return t}function s(t){var e={};return t.forEach(function(t){e[t]=!0}),e}function a(t,e,r){if(t.customInspect&&e&&x(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r,t);return D(i)||(i=a(t,i,r)),i}var o=c(t,e);if(o)return o;var u=Object.keys(e),m=s(u);if(t.showHidden&&(u=Object.getOwnPropertyNames(e)),A(e)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return l(e);if(0===u.length){if(x(e)){var g=e.name?": "+e.name:"";return t.stylize("[Function"+g+"]","special")}if(w(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(C(e))return t.stylize(Date.prototype.toString.call(e),"date");if(A(e))return l(e)}var v="",y=!1,b=["{","}"];if(d(e)&&(y=!0,b=["[","]"]),x(e)){var F=e.name?": "+e.name:"";v=" [Function"+F+"]"}if(w(e)&&(v=" "+RegExp.prototype.toString.call(e)),C(e)&&(v=" "+Date.prototype.toUTCString.call(e)),A(e)&&(v=" "+l(e)),0===u.length&&(!y||0==e.length))return b[0]+v+b[1];if(0>r)return w(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var E;return E=y?f(t,e,r,m,u):u.map(function(n){return h(t,e,r,m,n,y)}),t.seen.pop(),p(E,v,b)}function c(t,e){if(F(e))return t.stylize("undefined","undefined");if(D(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],u=0,s=e.length;s>u;++u)o.push(j(e,String(u))?h(t,e,n,r,String(u),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}function h(t,e,n,r,i,o){var u,s,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),j(r,i)||(u="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=g(n)?a(t,c.value,null):a(t,c.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),F(u)){if(o&&i.match(/^\d+$/))return s;u=JSON.stringify(""+i),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=t.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=t.stylize(u,"string"))}return u+": "+s}function p(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function g(t){return null===t}function v(t){return null==t}function y(t){return"number"==typeof t}function D(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function F(t){return void 0===t}function w(t){return E(t)&&"[object RegExp]"===T(t)}function E(t){return"object"==typeof t&&null!==t}function C(t){return E(t)&&"[object Date]"===T(t)}function A(t){return E(t)&&("[object Error]"===T(t)||t instanceof Error)}function x(t){return"function"==typeof t}function k(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function T(t){return Object.prototype.toString.call(t)}function B(t){return 10>t?"0"+t.toString(10):t.toString(10)}function S(){var t=new Date,e=[B(t.getHours()),B(t.getMinutes()),B(t.getSeconds())].join(":");return[t.getDate(),$[t.getMonth()],e].join(" ")}function j(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var N=/%[sdj%]/g;n.format=function(t){if(!D(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,u=String(t).replace(N,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),s=r[n];o>n;s=r[++n])u+=g(s)||!E(s)?" "+s:" "+i(s);return u},n.deprecate=function(t,i){function o(){if(!u){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),u=!0}return t.apply(this,arguments)}if(F(r.process))return function(){return n.deprecate(t,i).apply(this,arguments)};if(e.noDeprecation===!0)return t;var u=!1;return o};var P,O={};n.debuglog=function(t){if(F(P)&&(P=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!O[t])if(new RegExp("\\b"+t+"\\b","i").test(P)){var r=e.pid;O[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}}else O[t]=function(){};return O[t]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=m,n.isNull=g,n.isNullOrUndefined=v,n.isNumber=y,n.isString=D,n.isSymbol=b,n.isUndefined=F,n.isRegExp=w,n.isObject=E,n.isDate=C,n.isError=A,n.isFunction=x,n.isPrimitive=k,n.isBuffer=t("./support/isBuffer");var $=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",S(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":28,_process:27,inherits:25}],30:[function(t){(function(e){e.hopper=t(".")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{".":3}]},{},[30]),function(){function t(t,e){return Math.log(t)/Math.log(e)}for(var e={},n=[],r=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],i=0;127>i;i++){var o=i,u=r[o%12],s=(o/12|0)-1;1===u.length&&(u+="-"),u+=s,e[u]=i,n[i]=u}var a={noteNameToNoteNumber:function(t){return e[t]},noteNumberToFrequency:function(t){return 440*Math.pow(2,(t-69)/12)},noteNumberToName:function(t){return n[t]},frequencyToNoteNumber:function(e){return Math.round(12*t(e/440,2)+69)}};"function"==typeof define&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:this.MIDIUtils=a}.call(this),$(function(){window.AudioEnvironment.Clock=function(){};var t=window.AudioEnvironment.Clock,e=window.AudioEnvironment.context,n=120,r=60,i=r/n;t.currentTime=function(){return e.currentTime},t.beat=function(){return i},t.eigth=function(){return i/2},t.sixteenth=function(){return i/4},t.tempo=function(){return n}}),!function(t){"use strict";t(function(){t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in n)if(void 0!==e.style[t])return n[t]}();return t&&{end:t}}()})}(window.jQuery),!function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){r.trigger("closed").remove()}var r,i=t(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),r=t(o),e&&e.preventDefault(),r.length||(r=i.hasClass("alert")?i:i.parent()),r.trigger(e=t.Event("close")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.on(t.support.transition.end,n):n())};var r=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var r=t(this),i=r.data("alert");i||r.data("alert",i=new n(this)),"string"==typeof e&&i[e].call(r)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.alert.data-api",e,n.prototype.close)}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,n)};e.prototype.setState=function(t){var e="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";t+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var r=t(this),i=r.data("button"),o="object"==typeof n&&n;i||r.data("button",i=new e(this,o)),"toggle"==n?i.toggle():n&&i.setState(n)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(e){var n=this.getActiveIndex(),r=this;if(!(e>this.$items.length-1||0>e))return this.sliding?this.$element.one("slid",function(){r.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(e,n){var r,i=this.$element.find(".item.active"),o=n||i[e](),u=this.interval,s="next"==e?"left":"right",a="next"==e?"first":"last",c=this;if(this.sliding=!0,u&&this.pause(),o=o.length?o:this.$element.find(".item")[a](),r=t.Event("slide",{relatedTarget:o[0],direction:s}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(c.$indicators.children()[c.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(r),r.isDefaultPrevented())return;o.addClass(e),o[0].offsetWidth,i.addClass(s),o.addClass(s),this.$element.one(t.support.transition.end,function(){o.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(r),r.isDefaultPrevented())return;i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return u&&this.cycle(),this}}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var r=t(this),i=r.data("carousel"),o=t.extend({},t.fn.carousel.defaults,"object"==typeof n&&n),u="string"==typeof n?n:o.slide;i||r.data("carousel",i=new e(this,o)),"number"==typeof n?i.to(n):u?i[u]():o.interval&&i.pause().cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,r,i=t(this),o=t(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),u=t.extend({},o.data(),i.data());o.carousel(u),(r=i.attr("data-slide-to"))&&o.data("carousel").pause().to(r).cycle(),e.preventDefault()})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,n),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,n,r,i;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),n=t.camelCase(["scroll",e].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in"),r&&r.length){if(i=r.data("collapse"),i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][n])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,n,r){var i=this,o=function(){"show"==n.type&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var r=t(this),i=r.data("collapse"),o=t.extend({},t.fn.collapse.defaults,r.data(),"object"==typeof n&&n);i||r.data("collapse",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var n,r=t(this),i=r.attr("data-target")||e.preventDefault()||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=t(i).data("collapse")?"toggle":r.data();r[t(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(i).collapse(o)})}(window.jQuery),!function(t){"use strict";function e(){t(".dropdown-backdrop").remove(),t(r).each(function(){n(t(this)).removeClass("open")})}function n(e){var n,r=e.attr("data-target");return r||(r=e.attr("href"),r=r&&/#/.test(r)&&r.replace(/.*(?=#[^\s]*$)/,"")),n=r&&t(r),n&&n.length||(n=e.parent()),n}var r="[data-toggle=dropdown]",i=function(e){var n=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(){var r,i,o=t(this);if(!o.is(".disabled, :disabled"))return r=n(o),i=r.hasClass("open"),e(),i||("ontouchstart"in document.documentElement&&t('<div class="dropdown-backdrop"/>').insertBefore(t(this)).on("click",e),r.toggleClass("open")),o.focus(),!1},keydown:function(e){var i,o,u,s,a;if(/(38|40|27)/.test(e.keyCode)&&(i=t(this),e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled"))){if(u=n(i),s=u.hasClass("open"),!s||s&&27==e.keyCode)return 27==e.which&&u.find(r).focus(),i.click();o=t("[role=menu] li:not(.divider):visible a",u),o.length&&(a=o.index(o.filter(":focus")),38==e.keyCode&&a>0&&a--,40==e.keyCode&&a<o.length-1&&a++,~a||(a=0),o.eq(a).focus())}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),r=n.data("dropdown");r||n.data("dropdown",r=new i(this)),"string"==typeof e&&r[e].call(n)})},t.fn.dropdown.Constructor=i,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api",r,i.prototype.toggle).on("keydown.dropdown.data-api",r+", [role=menu]",i.prototype.keydown)}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,n=t.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),n&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),n?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(e){e&&e.preventDefault();e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,n=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(n),e.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()}};var n=t.fn.modal;t.fn.modal=function(n){return this.each(function(){var r=t(this),i=r.data("modal"),o=t.extend({},t.fn.modal.defaults,r.data(),"object"==typeof n&&n);i||r.data("modal",i=new e(this,o)),"string"==typeof n?i[n]():o.show&&i.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),r=n.attr("href"),i=t(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},i.data(),n.data());e.preventDefault(),i.modal(o).one("hide",function(){n.focus()})})}(window.jQuery),!function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,n,r){var i,o,u,s,a;for(this.type=e,this.$element=t(n),this.options=this.getOptions(r),this.enabled=!0,u=this.options.trigger.split(" "),a=u.length;a--;)s=u[a],"click"==s?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=s&&(i="hover"==s?"mouseenter":"focus",o="hover"==s?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var n,r=t.fn[this.type].defaults,i={};return this._options&&t.each(this._options,function(t,e){r[t]!=e&&(i[t]=e)},this),n=t(e.currentTarget)[this.type](i).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",void(this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show))):n.show()},leave:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",void(this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide))):n.hide()},show:function(){var e,n,r,i,o,u,s=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),n=this.getPosition(),r=e[0].offsetWidth,i=e[0].offsetHeight,o){case"bottom":u={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":u={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":u={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":u={top:n.top+n.height/2-i/2,left:n.left+n.width}}this.applyPlacement(u,o),this.$element.trigger("shown")}},applyPlacement:function(t,e){var n,r,i,o,u=this.tip(),s=u[0].offsetWidth,a=u[0].offsetHeight;u.offset(t).addClass(e).addClass("in"),n=u[0].offsetWidth,r=u[0].offsetHeight,"top"==e&&r!=a&&(t.top=t.top+a-r,o=!0),"bottom"==e||"top"==e?(i=0,t.left<0&&(i=-2*t.left,t.left=0,u.offset(t),n=u[0].offsetWidth,r=u[0].offsetHeight),this.replaceArrow(i-s+n,n,"left")):this.replaceArrow(r-a,r,"top"),o&&u.offset(t)},replaceArrow:function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){n.off(t.support.transition.end).detach()},500);n.one(t.support.transition.end,function(){clearTimeout(e),n.detach()})}var n=this.tip(),r=t.Event("hide");return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var n=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var r=t(this),i=r.data("tooltip"),o="object"==typeof n&&n;i||r.data("tooltip",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(window.jQuery),!function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,n=this.options;return t=("function"==typeof n.content?n.content.call(e[0]):n.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var r=t(this),i=r.data("popover"),o="object"==typeof n&&n;i||r.data("popover",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(window.jQuery),!function(t){"use strict";function e(e,n){var r,i=t.proxy(this.process,this),o=t(t(e).is("body")?window:e);this.options=t.extend({},t.fn.scrollspy.defaults,n),this.$scrollElement=o.on("scroll.scroll-spy.data-api",i),this.selector=(this.options.target||(r=t(e).attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e,n=this;this.offsets=t([]),this.targets=t([]),e=this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),i=/^#\w/.test(r)&&t(r);return i&&i.length&&[[i.position().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,r=n-this.$scrollElement.height(),i=this.offsets,o=this.targets,u=this.activeTarget;if(e>=r)return u!=(t=o.last()[0])&&this.activate(t);for(t=i.length;t--;)u!=o[t]&&e>=i[t]&&(!i[t+1]||e<=i[t+1])&&this.activate(o[t])},activate:function(e){var n,r;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var r=t(this),i=r.data("scrollspy"),o="object"==typeof n&&n;i||r.data("scrollspy",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,n,r,i=this.element,o=i.closest("ul:not(.dropdown-menu)"),u=i.attr("data-target");u||(u=i.attr("href"),u=u&&u.replace(/.*(?=#[^\s]*$)/,"")),i.parent("li").hasClass("active")||(e=o.find(".active:last a")[0],r=t.Event("show",{relatedTarget:e}),i.trigger(r),r.isDefaultPrevented()||(n=t(u),this.activate(i.parent("li"),o),this.activate(n,n.parent(),function(){i.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,n,r){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),u?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),r&&r()
}var o=n.find("> .active"),u=r&&t.support.transition&&o.hasClass("fade");u?o.one(t.support.transition.end,i):i(),o.removeClass("in")}};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var r=t(this),i=r.data("tab");i||r.data("tab",i=new e(this)),"string"==typeof n&&i[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.options=t.extend({},t.fn.affix.defaults,n),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,n=t(document).height(),r=this.$window.scrollTop(),i=this.$element.offset(),o=this.options.offset,u=o.bottom,s=o.top,a="affix affix-top affix-bottom";"object"!=typeof o&&(u=s=o),"function"==typeof s&&(s=o.top()),"function"==typeof u&&(u=o.bottom()),e=null!=this.unpin&&r+this.unpin<=i.top?!1:null!=u&&i.top+this.$element.height()>=n-u?"bottom":null!=s&&s>=r?"top":!1,this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?i.top-r:null,this.$element.removeClass(a).addClass("affix"+(e?"-"+e:"")))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var r=t(this),i=r.data("affix"),o="object"==typeof n&&n;i||r.data("affix",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,e?this.process(e):this)},process:function(e){var n=this;return e=t.grep(e,function(t){return n.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,n=[],r=[],i=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?r.push(e):i.push(e):n.push(e);return n.concat(r,i)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var n=this;return e=t(e).map(function(e,r){return e=t(n.options.item).attr("data-value",r),e.find("a").html(n.highlighter(r)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),n=e.next();n.length||(n=t(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=t.fn.typeahead;t.fn.typeahead=function(n){return this.each(function(){var r=t(this),i=r.data("typeahead"),o="object"==typeof n&&n;i||r.data("typeahead",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var e=t(this);e.data("typeahead")||e.typeahead(e.data())})}(window.jQuery),window.FileUtils=new function(){var t=this,e="../assets/";t.fileLocation=function(t){return e+t}},$(function(){var t=['def s = Synth.name("s") wave("triangle") chord("C-MAJ7")\n',"s.setEnvelopeRelease(2.0)\n",'s.insert("reverb")\n','s.insert("distortion")\n','def d = DrumMachine.name("rockbeat")\n','def dp = Part.instrument(d) rhythm("ROCK_BEAT_ONE")\n',"def seq = Sequencer.parts(list.with(dp))\n","def p = Performance.instrument(s) sequencer(seq)\n"];t.forEach(function(t){$("#text-area").append(t)})});